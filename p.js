!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).firebase=e()}(this,function(){"use strict";var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)},e=function(){return(e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function n(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&r>=t.length?void 0:t)&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function r(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function i(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=(s.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},s);function s(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}var u,c="FirebaseError",l=(function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(f,u=Error),f);function f(t,e,n){return(e=u.call(this,e)||this).code=t,e.customData=n,e.name=c,Object.setPrototypeOf(e,f.prototype),Error.captureStackTrace&&Error.captureStackTrace(e,h.prototype.create),e}var h=(d.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i=e[0]||{},o=this.service+"/"+t;t=(t=this.errors[t])?(r=i,t.replace(p,function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"})):"Error",t=this.serviceName+": "+t+" ("+o+").";return new l(o,t,i)},d);function d(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var p=/\{\$([^}]+)}/g;function m(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function g(t,e){return(e=new y(t,e)).subscribe.bind(e)}var y=(w.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},w.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},w.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},w.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");return void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=v),void 0===r.error&&(r.error=v),void 0===r.complete&&(r.complete=v),n=this.unsubscribeOne.bind(this,this.observers.length),this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),n},w.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},w.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},w.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},w.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},w);function w(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}function v(){}var b=(k.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},k.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},k.prototype.setServiceProps=function(t){return this.serviceProps=t,this},k.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},k);function k(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}var _="[DEFAULT]",I=(E.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)&&(t=new a,this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize()))try{var n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(t){}return this.instancesDeferred.get(e).promise},E.prototype.getImmediate=function(t){var e=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier);t=null!==(t=null==t?void 0:t.optional)&&void 0!==t&&t;if(!this.isInitialized(e)&&!this.shouldAutoInitialize()){if(t)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:e})}catch(e){if(t)return null;throw e}},E.prototype.getComponent=function(){return this.component},E.prototype.setComponent=function(t){var e,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if("EAGER"===t.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:_})}catch(t){}try{for(var o=n(this.instancesDeferred.entries()),a=o.next();!a.done;a=o.next()){var s=r(a.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:l});c.resolve(f)}catch(t){}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}}},E.prototype.clearInstance=function(t){this.instancesDeferred.delete(t=void 0===t?_:t),this.instancesOptions.delete(t),this.instances.delete(t)},E.prototype.delete=function(){return function(t,e,n,r){return new(n=n||Promise)(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function(){var t;return function(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,(a=i?[2&a[0],i.value]:a)[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(i(i([],r(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),r(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},E.prototype.isComponentSet=function(){return null!=this.component},E.prototype.isInitialized=function(t){return this.instances.has(t=void 0===t?_:t)},E.prototype.getOptions=function(t){return this.instancesOptions.get(t=void 0===t?_:t)||{}},E.prototype.initialize=function(t){var e,i,o=void 0===(o=(t=void 0===t?{}:t).options)?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=n(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=r(c.value,2),f=l[0],h=l[1];a===this.normalizeInstanceIdentifier(f)&&h.resolve(s)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(e)throw e.error}}return s},E.prototype.onInit=function(t,e){var n=this.normalizeInstanceIdentifier(e),r=null!==(e=this.onInitCallbacks.get(n))&&void 0!==e?e:new Set;return r.add(t),this.onInitCallbacks.set(n,r),(e=this.instances.get(n))&&t(e,n),function(){r.delete(t)}},E.prototype.invokeOnInitCallbacks=function(t,e){var r,i,o=this.onInitCallbacks.get(e);if(o)try{for(var a=n(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(t,e)}catch(t){}}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},E.prototype.getOrInitializeService=function(t){var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n;if(!(t=this.instances.get(e))&&this.component&&(t=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e)===_?void 0:n,options:r}),this.instances.set(e,t),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(t,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,t)}catch(t){}return t||null},E.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=_),!this.component||this.component.multipleInstances?t:_},E.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},E);function E(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}var x=(T.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},T.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},T.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new I(t,this);return this.providers.set(t,e),e},T.prototype.getProviders=function(){return Array.from(this.providers.values())},T);function T(t){this.name=t,this.providers=new Map}var S,O=[];function C(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=N[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,i(["["+o+"]  "+t.name+":"],n))}}(R=S=S||{})[R.DEBUG=0]="DEBUG",R[R.VERBOSE=1]="VERBOSE",R[R.INFO=2]="INFO",R[R.WARN=3]="WARN",R[R.ERROR=4]="ERROR",R[R.SILENT=5]="SILENT";var D={debug:S.DEBUG,verbose:S.VERBOSE,info:S.INFO,warn:S.WARN,error:S.ERROR,silent:S.SILENT},A=S.INFO,N=((B={})[S.DEBUG]="log",B[S.VERBOSE]="log",B[S.INFO]="info",B[S.WARN]="warn",B[S.ERROR]="error",B),R=(Object.defineProperty(L.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in S))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),L.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?D[t]:t},Object.defineProperty(L.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),L.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,S.DEBUG],t)),this._logHandler.apply(this,i([this,S.DEBUG],t))},L.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,S.VERBOSE],t)),this._logHandler.apply(this,i([this,S.VERBOSE],t))},L.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,S.INFO],t)),this._logHandler.apply(this,i([this,S.INFO],t))},L.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,S.WARN],t)),this._logHandler.apply(this,i([this,S.WARN],t))},L.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,S.ERROR],t)),this._logHandler.apply(this,i([this,S.ERROR],t))},L);function L(t){this.name=t,this._logLevel=A,this._logHandler=C,this._userLogHandler=null,O.push(this)}function P(t){O.forEach(function(e){e.setLogLevel(t)})}var B=((B={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",B["bad-app-name"]="Illegal App name: '{$appName}",B["duplicate-app"]="Firebase App named '{$appName}' already exists",B["app-deleted"]="Firebase App named '{$appName}' already deleted",B["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",B["invalid-log-argument"]="First argument to `onLog` must be null or a function.",B),M=new h("app","Firebase",B),F="@firebase/app",U="[DEFAULT]",V=((B={})[F]="fire-core",B["@firebase/analytics"]="fire-analytics",B["@firebase/app-check"]="fire-app-check",B["@firebase/auth"]="fire-auth",B["@firebase/database"]="fire-rtdb",B["@firebase/functions"]="fire-fn",B["@firebase/installations"]="fire-iid",B["@firebase/messaging"]="fire-fcm",B["@firebase/performance"]="fire-perf",B["@firebase/remote-config"]="fire-rc",B["@firebase/storage"]="fire-gcs",B["@firebase/firestore"]="fire-fst",B["fire-js"]="fire-js",B["firebase-wrapper"]="fire-js-all",B),j=new R("@firebase/app"),q=(Object.defineProperty(z.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),z.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},z.prototype._getService=function(t,e){void 0===e&&(e=U),this.checkDestroyed_();var n=this.container.getProvider(t);return n.isInitialized()||"EXPLICIT"!==(null===(t=n.getComponent())||void 0===t?void 0:t.instantiationMode)||n.initialize(),n.getImmediate({identifier:e})},z.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=U),this.container.getProvider(t).clearInstance(e)},z.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){j.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},z.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},z.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},z.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw M.create("app-deleted",{appName:this.name_})},z);function z(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o(void 0,t),this.container=new x(e.name),this._addComponent(new b("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}q.prototype.name&&q.prototype.options||q.prototype.delete||console.log("dc");var X="8.10.0";function Y(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;if(void 0===o.name&&(o.name=U),"string"!=typeof(i=o.name)||!i)throw M.create("bad-app-name",{appName:String(i)});if(m(e,i))throw M.create("duplicate-app",{appName:i});return o=new t(n,o,r),e[i]=o},app:i,registerVersion:function(t,e,n){var r=null!==(i=V[t])&&void 0!==i?i:t;n&&(r+="-"+n);var i=r.match(/\s|\//);t=e.match(/\s|\//);i||t?(n=['Unable to register library "'+r+'" with version "'+e+'":'],i&&n.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),i&&t&&n.push("and"),t&&n.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),j.warn(n.join(" "))):a(new b(r+"-version",function(){return{library:r,version:e}},"VERSION"))},setLogLevel:P,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw M.create("invalid-log-argument");!function(t,e){for(var n=0,r=O;n<r.length;n++)!function(n){var r=null;e&&e.level&&(r=D[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:S[n].toLowerCase(),message:a,args:i,type:e.name})}}(r[n])}(t,e)},apps:null,SDK_VERSION:X,INTERNAL:{registerComponent:a,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"!==e?e:null}}};function i(t){if(!m(e,t=t||U))throw M.create("no-app",{appName:t});return e[t]}function a(a){var s,u=a.name;if(n.has(u))return j.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===a.type?r[u]:null;n.set(u,a),"PUBLIC"===a.type&&(s=function(t){if("function"!=typeof(t=void 0===t?i():t)[u])throw M.create("invalid-app-argument",{appName:u});return t[u]()},void 0!==a.serviceProps&&o(s,a.serviceProps),r[u]=s,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,u).apply(this,a.multipleInstances?t:[])});for(var c=0,l=Object.keys(e);c<l.length;c++){var f=l[c];e[f]._addComponent(a)}return"PUBLIC"===a.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}B=function t(){var n=Y(q);return n.INTERNAL=e(e({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){o(n,t)},createSubscribe:g,ErrorFactory:h,deepExtend:o}),n}();var H=(K.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){return function(t){return"VERSION"===(null==(t=t.getComponent())?void 0:t.type)}(t)?(t=t.getImmediate()).library+"/"+t.version:null}).filter(function(t){return t}).join(" ")},K);function K(t){this.container=t}"object"==typeof self&&self.self===self&&void 0!==self.firebase&&(j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),(R=self.firebase.SDK_VERSION)&&0<=R.indexOf("LITE")&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));var G=B.initializeApp;B.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return}}()&&j.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),G.apply(void 0,t)};var Z,W=B;return(Z=W).INTERNAL.registerComponent(new b("platform-logger",function(t){return new H(t)},"PRIVATE")),Z.registerVersion(F,"0.6.30",void 0),Z.registerVersion("fire-js",""),W.registerVersion("firebase","8.10.0","app"),W.SDK_VERSION="8.10.0",W}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).firebase)}(this,function(t){"use strict";try{(function(){var e=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(t),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n=n||Promise)(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,(a=i?[2&a[0],i.value]:a)[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function s(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}function u(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128):e[n++]=i>>12|224,e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}function c(t){return function(t){return t=u(t),l.encodeByteArray(t,!0)}(t).replace(/\./g,"")}var l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=(15&s)<<2|(l=u?t[i+2]:0)>>6,l=63&l;u||(l=64,a||(c=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[c],n[l])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(u(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i,o,a,s=t[n++];s<128?e[r++]=String.fromCharCode(s):191<s&&s<224?(o=t[n++],e[r++]=String.fromCharCode((31&s)<<6|63&o)):239<s&&s<365?(i=((7&s)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536,e[r++]=String.fromCharCode(55296+(i>>10)),e[r++]=String.fromCharCode(56320+(1023&i))):(o=t[n++],a=t[n++],e[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&a))}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var h,d="FirebaseError",p=(r(m,h=Error),m);function m(t,e,n){return(e=h.call(this,e)||this).code=t,e.customData=n,e.name=d,Object.setPrototypeOf(e,m.prototype),Error.captureStackTrace&&Error.captureStackTrace(e,g.prototype.create),e}var g=(y.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i=e[0]||{},o=this.service+"/"+t;t=(t=this.errors[t])?(r=i,t.replace(v,function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"})):"Error",t=this.serviceName+": "+t+" ("+o+").";return new p(o,t,i)},y);function y(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var w,v=/\{\$([^}]+)}/g;function b(t){return t&&t._delegate?t._delegate:t}function k(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=E[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,s(["["+i+"]  "+t.name+":"],n))}}(C=w=w||{})[C.DEBUG=0]="DEBUG",C[C.VERBOSE=1]="VERBOSE",C[C.INFO=2]="INFO",C[C.WARN=3]="WARN",C[C.ERROR=4]="ERROR",C[C.SILENT=5]="SILENT";var _={debug:w.DEBUG,verbose:w.VERBOSE,info:w.INFO,warn:w.WARN,error:w.ERROR,silent:w.SILENT},I=w.INFO,E=((ke={})[w.DEBUG]="log",ke[w.VERBOSE]="log",ke[w.INFO]="info",ke[w.WARN]="warn",ke[w.ERROR]="error",ke),x=(Object.defineProperty(T.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in w))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),T.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?_[t]:t},Object.defineProperty(T.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),T.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,w.DEBUG],t)),this._logHandler.apply(this,s([this,w.DEBUG],t))},T.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,w.VERBOSE],t)),this._logHandler.apply(this,s([this,w.VERBOSE],t))},T.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,w.INFO],t)),this._logHandler.apply(this,s([this,w.INFO],t))},T.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,w.WARN],t)),this._logHandler.apply(this,s([this,w.WARN],t))},T.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,w.ERROR],t)),this._logHandler.apply(this,s([this,w.ERROR],t))},T);function T(t){this.name=t,this._logLevel=I,this._logHandler=k,this._userLogHandler=null}var S=function(t,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function O(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&r>=t.length?void 0:t)&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var C,D="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},A={},N=D||self;function R(){}function L(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function P(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var B="closure_uid_"+(1e9*Math.random()>>>0),M=0;function F(t,e,n){return t.call.apply(t.bind,arguments)}function U(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function V(t,e,n){return(V=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?F:U).apply(null,arguments)}function j(t){var e=Array.prototype.slice.call(arguments,1);return function(){var n=e.slice();return n.push.apply(n,arguments),t.apply(this,n)}}function q(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,(t.prototype.constructor=t).Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function z(){this.s=this.s,this.o=this.o}var X={};z.prototype.s=!1,z.prototype.na=function(){var t;!this.s&&(this.s=!0,this.M(),0)&&(t=this,t=Object.prototype.hasOwnProperty.call(t,B)&&t[B]||(t[B]=++M),delete X[t])},z.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Y=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function K(){return Array.prototype.concat.apply([],arguments)}function G(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Z(t){return/^[\s\xa0]*$/.test(t)}var W,Q=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function $(t,e){return-1!=t.indexOf(e)}function J(t,e){return t<e?-1:e<t?1:0}var tt=N.navigator;function et(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function nt(t){var e,n={};for(e in t)n[e]=t[e];return n}W=tt&&(tt=tt.userAgent)?tt:"";var rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<rt.length;i++)e=rt[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function ot(t){return ot[" "](t),t}ot[" "]=R;var at,st=$(W,"Opera"),ut=$(W,"Trident")||$(W,"MSIE"),ct=$(W,"Edge"),lt=ct||ut,ft=$(W,"Gecko")&&!($(W.toLowerCase(),"webkit")&&!$(W,"Edge"))&&!($(W,"Trident")||$(W,"MSIE"))&&!$(W,"Edge"),ht=$(W.toLowerCase(),"webkit")&&!$(W,"Edge");function dt(){var t=N.document;return t?t.documentMode:void 0}var pt="",mt=(mt=W,ft?/rv:([^\);]+)(\)|;)/.exec(mt):ct?/Edge\/([\d\.]+)/.exec(mt):ut?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(mt):ht?/WebKit\/(\S+)/.exec(mt):st?/(?:Version)[ \/]?(\S+)/.exec(mt):void 0);mt&&(pt=mt?mt[1]:""),at=ut&&null!=(mt=dt())&&mt>parseFloat(pt)?String(mt):pt;var gt={};var yt=N.document&&ut&&(dt()||parseInt(at,10))||void 0,wt=function(){if(!N.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{N.addEventListener("test",R,e),N.removeEventListener("test",R,e)}catch(t){}return t}();function vt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function bt(t,e){if(vt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ft){t:{try{ot(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:kt[t.pointerType]||"",this.state=t.state,(this.i=t).defaultPrevented&&bt.Z.h.call(this)}}vt.prototype.h=function(){this.defaultPrevented=!0},q(bt,vt);var kt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),It=0;function Et(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++It,this.ca=this.fa=!1}function xt(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Tt(t){this.src=t,this.g={},this.h=0}function St(t,e){var n,r,i,o=e.type;o in t.g&&(n=t.g[o],(i=0<=(r=Y(n,e)))&&Array.prototype.splice.call(n,r,1),i&&(xt(e),0==t.g[o].length&&(delete t.g[o],t.h--)))}function Ot(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}Tt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=Ot(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new Et(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var Ct="closure_lm_"+(1e6*Math.random()|0),Dt={};function At(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=Ft(r),e&&e[_t]?e.O(n,r,P(i)?!!i.capture:!!i,o):Nt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)At(t,e[o],n,r,i);return null}return n=Ft(n),t&&t[_t]?t.N(e,n,P(r)?!!r.capture:!!r,i):Nt(t,e,n,!1,r,i)}function Nt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a,s=P(i)?!!i.capture:!!i,u=Bt(t);if(u||(t[Ct]=u=new Tt(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(a=Pt,(n.proxy=r=function t(e){return a.call(t.src,t.listener,e)}).src=t,r.listener=n,t.addEventListener)void 0===(i=wt?i:s)&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Lt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Rt(t){var e,n,r;"number"!=typeof t&&t&&!t.ca&&((e=t.src)&&e[_t]?St(e.i,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Lt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Bt(e))?(St(n,t),0==n.h&&(n.src=null,e[Ct]=null)):xt(t)))}function Lt(t){return t in Dt?Dt[t]:Dt[t]="on"+t}function Pt(t,e){var n,r;return!!t.ca||(e=new bt(e,this),n=t.listener,r=t.ia||t.src,t.fa&&Rt(t),n.call(r,e))}function Bt(t){return(t=t[Ct])instanceof Tt?t:null}var Mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ft(t){return"function"==typeof t?t:(t[Mt]||(t[Mt]=function(e){return t.handleEvent(e)}),t[Mt])}function Ut(){z.call(this),this.i=new Tt(this),(this.P=this).I=null}function Vt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e?e=new vt(e,t):e instanceof vt?e.target=e.target||t:(a=e,it(e=new vt(r,t),a)),a=!0,n)for(var i=n.length-1;0<=i;i--)var o=e.g=n[i],a=jt(o,r,!0,e)&&a;if(a=jt(o=e.g=t,r,!0,e)&&a,a=jt(o,r,!1,e)&&a,n)for(i=0;i<n.length;i++)a=jt(o=e.g=n[i],r,!1,e)&&a}function jt(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a,s,u=e[o];u&&!u.ca&&u.capture==n&&(a=u.listener,s=u.ia||u.src,u.fa&&St(t.i,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}q(Ut,z),Ut.prototype[_t]=!0,Ut.prototype.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=P(i)?!!i.capture:!!i,r=Ft(r),e&&e[_t]?(e=e.i,(n=String(n).toString())in e.g&&-1<(r=Ot(a=e.g[n],r,i,o))&&(xt(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.g[n],e.h--))):(e=e&&Bt(e))&&(n=e.g[n.toString()],(r=(e=-1)<(e=n?Ot(n,r,i,o):e)?n[e]:null)&&Rt(r))}(this,t,e,n,r)},Ut.prototype.M=function(){if(Ut.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)xt(n[r]);delete e.g[t],e.h--}}this.I=null},Ut.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Ut.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var qt=N.JSON.stringify,zt=(Xt.prototype.add=function(t,e){var n=Yt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},Xt);function Xt(){this.h=this.g=null}var Yt=(Ht.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},new Ht(function(){return new Gt},function(t){return t.reset()}));function Ht(t,e){this.i=t,this.j=e,this.h=0,this.g=null}var Kt,Gt=(Zt.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},Zt.prototype.reset=function(){this.next=this.g=this.h=null},Zt);function Zt(){this.next=this.g=this.h=null}function Wt(t,e){var n;Kt||(n=N.Promise.resolve(void 0),Kt=function(){n.then(Jt)}),Qt||(Kt(),Qt=!0),$t.add(t,e)}var Qt=!1,$t=new zt;function Jt(){for(var t;e=t=void 0,e=null,(t=$t).g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(t){!function(t){N.setTimeout(function(){throw t},0)}(t)}var e=Yt;e.j(t),e.h<100&&(e.h++,t.next=e.g,e.g=t)}Qt=!1}function te(t,e){Ut.call(this),this.h=t||1,this.g=e||N,this.j=V(this.kb,this),this.l=Date.now()}function ee(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function ne(t,e,n){if("function"==typeof t)n&&(t=V(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=V(t.handleEvent,t)}return 2147483647<Number(e)?-1:N.setTimeout(t,e||0)}q(te,Ut),(C=te.prototype).da=!1,C.S=null,C.kb=function(){var t;this.da&&(0<(t=Date.now()-this.l)&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Vt(this,"tick"),this.da&&(ee(this),this.start())))},C.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},C.M=function(){te.Z.M.call(this),ee(this),delete this.g};var re,ie=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(oe,re=z),oe.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:function t(e){e.g=ne(function(){e.g=null,e.i&&(e.i=!1,t(e))},e.j);var n=e.h;e.h=null,e.m.apply(null,n)}(this)},oe.prototype.M=function(){re.prototype.M.call(this),this.g&&(N.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},oe);function oe(t,e){var n=re.call(this)||this;return n.m=t,n.j=e,n.h=null,n.i=!1,n.g=null,n}function ae(t){z.call(this),this.h=t,this.g={}}q(ae,z);var se=[];function ue(t,e,n,r){Array.isArray(n)||(n&&(se[0]=n.toString()),n=se);for(var i=0;i<n.length;i++){var o=At(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function ce(t){et(t.g,function(t,e){this.g.hasOwnProperty(e)&&Rt(t)},t),t.g={}}function le(){this.g=!0}function fe(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return qt(n)}catch(t){return e}}(t,n)+(r?" "+r:"")})}ae.prototype.M=function(){ae.Z.M.call(this),ce(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},le.prototype.Aa=function(){this.g=!1},le.prototype.info=function(){};var he={},de=null;function pe(){return de=de||new Ut}function me(t){vt.call(this,he.Ma,t)}function ge(){var t=pe();Vt(t,new me(t))}function ye(t,e){vt.call(this,he.STAT_EVENT,t),this.stat=e}function we(t){var e=pe();Vt(e,new ye(e,t))}function ve(t,e){vt.call(this,he.Na,t),this.size=e}function be(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return N.setTimeout(function(){t()},e)}he.Ma="serverreachability",q(me,vt),he.STAT_EVENT="statevent",q(ye,vt),he.Na="timingevent",q(ve,vt);var ke={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9};D={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function _e(){}function Ie(t){return t.h||(t.h=t.i())}function Ee(){}function xe(){vt.call(this,"d")}function Te(){vt.call(this,"c")}function Se(){}function Oe(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new ae(this),this.P=Ae,this.W=new te(t=lt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ce}function Ce(){this.i=null,this.g="",this.h=!1}_e.prototype.h=null,zt={OPEN:"a",pb:"b",Ka:"c",Bb:"d"},q(xe,vt),q(Te,vt),q(Se,_e),Se.prototype.g=function(){return new XMLHttpRequest},Se.prototype.i=function(){return{}};var De=new Se,Ae=45e3,Ne={},Re={};function Le(t,e,n){t.K=1,t.v=nn(We(e)),t.s=n,t.U=!0,Pe(t,null)}function Pe(t,e){t.F=Date.now(),Fe(t),t.A=We(t.v);var n,r,i,o,a,s,u=t.A,c=t.X;Array.isArray(c)||(c=[String(c)]),gn(u.h,"t",c),t.C=0,u=t.l.H,t.h=new Ce,t.g=yr(t.l,u?e:null,!t.s),0<t.O&&(t.L=new ie(V(t.Ia,t,t.g),t.O)),ue(t.V,t.g,"readystatechange",t.gb),e=t.H?nt(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),ge(),n=t.j,r=t.u,i=t.A,o=t.m,a=t.X,s=t.s,n.info(function(){if(n.g)if(s)for(var t="",e=s.split("&"),u=0;u<e.length;u++){var c,l,f=e[u].split("=");1<f.length&&(c=f[0],f=f[1],t=2<=(l=c.split("_")).length&&"type"==l[1]?t+(c+"=")+f+"&":t+(c+"=redacted&"))}else t=null;else t=s;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+r+"\n"+i+"\n"+t})}function Be(t){return t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Me(t,e,n){for(var r,i,o,a,s,u=!0;!t.I&&t.C<n.length;){if(o=n,s=a=void 0,a=(i=t).C,(r=-1==(s=o.indexOf("\n",a))?Re:(a=Number(o.substring(a,s)),isNaN(a)?Ne:(s+=1)+a>o.length?Re:(o=o.substr(s,a),i.C=s+a,o)))==Re){4==e&&(t.o=4,we(14),u=!1),fe(t.j,t.m,null,"[Incomplete Response]");break}if(r==Ne){t.o=4,we(15),fe(t.j,t.m,n,"[Invalid Chunk]"),u=!1;break}fe(t.j,t.m,r,null),ze(t,r)}Be(t)&&r!=Re&&r!=Ne&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,we(16),u=!1),t.i=t.i&&u,u?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),cr(e),e.L=!0,we(11))):(fe(t.j,t.m,n,"[Invalid Chunked Response]"),qe(t),je(t))}function Fe(t){t.Y=Date.now()+t.P,Ue(t,t.P)}function Ue(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=be(V(t.eb,t),e)}function Ve(t){t.B&&(N.clearTimeout(t.B),t.B=null)}function je(t){0==t.l.G||t.I||hr(t.l,t)}function qe(t){Ve(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,ee(t.W),ce(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ze(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||En(n.i,t)))if(n.I=t.N,!t.J&&En(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(m){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;fr(n),tr(n)}ur(n),we(18)}}else n.ta=i[1],0<n.ta-n.U&&i[2]<37500&&n.N&&0==n.A&&!n.v&&(n.v=be(V(n.ab,n),6e3));if(In(n.i)<=1&&n.ka){try{n.ka()}catch(m){}n.ka=void 0}}else pr(n,11)}else if(!t.J&&n.g!=t||fr(n),!Z(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o,a,s,u,c,l,f,h,d,p,m=i[e];n.U=m[0],m=m[1],2==n.G?"c"==m[0]?(n.J=m[1],n.la=m[2],null!=(o=m[3])&&(n.ma=o,n.h.info("VER="+n.ma)),null!=(a=m[4])&&(n.za=a,n.h.info("SVER="+n.za)),null!=(s=m[5])&&"number"==typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n,(u=t.g)&&(!(c=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null)||!(l=r.i).g&&($(c,"spdy")||$(c,"quic")||$(c,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(xn(l,l.h),l.h=null)),!r.D||(f=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null)&&(r.sa=f,en(r.F,r.D,f))),n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),h=t,(r=n).oa=gr(r,r.H?r.la:null,r.W),h.J?(Tn(r.i,h),d=h,(p=r.K)&&d.setTimeout(p),d.B&&(Ve(d),Fe(d)),r.g=h):sr(r),0<n.l.length&&rr(n)):"stop"!=m[0]&&"close"!=m[0]||pr(n,7):3==n.G&&("stop"==m[0]||"close"==m[0]?"stop"==m[0]?pr(n,7):Jn(n):"noop"!=m[0]&&n.j&&n.j.wa(m),n.A=0)}ge()}catch(m){}}function Xe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(L(t)||"string"==typeof t)H(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(L(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(L(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ye(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ye)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function He(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ke(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Ke(i,r=t.g[e])||(i[t.g[n++]=r]=1),e++;t.g.length=n}}function Ke(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(C=Oe.prototype).setTimeout=function(t){this.P=t},C.gb=function(t){t=t.target;var e=this.L;e&&3==Gn(t)?e.l():this.Ia(t)},C.Ia=function(t){try{if(t==this.g)t:{var e=Gn(this.g),n=this.g.Da();if(this.g.ba(),!(e<3)&&(3!=e||lt||this.g&&(this.h.h||this.g.ga()||Zn(this.g)))){this.I||4!=e||7==n||ge(),Ve(this);var r=this.g.ba();this.N=r;e:if(Be(this)){var i=Zn(this.g);t="";var o=i.length,a=4==Gn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){qe(this),je(this);var s="";break e}this.h.i=new N.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,t+=this.h.i.decode(i[n],{stream:a&&n==o-1});i.splice(0,o),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==r,f=this.j,h=this.u,d=this.A,p=this.m,m=this.X,g=e,y=r,f.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+m+"]: "+h+"\n"+d+"\n"+g+" "+y}),this.i){if(this.$&&!this.J){e:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(u)){var l=u;break e}}l=null}if(!(r=l)){this.i=!1,this.o=3,we(12),qe(this),je(this);break t}fe(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ze(this,r)}this.U?(Me(this,e,s),lt&&this.i&&3==e&&(ue(this.V,this.W,"tick",this.fb),this.W.start())):(fe(this.j,this.m,s,null),ze(this,s)),4==e&&qe(this),this.i&&!this.I&&(4==e?hr(this.l,this):(this.i=!1,Fe(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,we(12)):(this.o=0,we(13)),qe(this),je(this)}}}catch(e){}var f,h,d,p,m,g,y},C.fb=function(){var t,e;this.g&&(t=Gn(this.g),e=this.g.ga(),this.C<e.length&&(Ve(this),Me(this,t,e),this.i&&4!=t&&Fe(this)))},C.cancel=function(){this.I=!0,qe(this)},C.eb=function(){this.B=null;var t,e,n=Date.now();0<=n-this.Y?(t=this.j,e=this.A,t.info(function(){return"TIMEOUT: "+e}),2!=this.K&&(ge(),we(17)),qe(this),this.o=2,je(this)):Ue(this,this.Y-n)},(C=Ye.prototype).R=function(){He(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},C.T=function(){return He(this),this.g.concat()},C.get=function(t,e){return Ke(this.h,t)?this.h[t]:e},C.set=function(t,e){Ke(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},C.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ge=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ze(t,e){var n;this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ze?(this.g=void 0!==e?e:t.g,Qe(this,t.j),this.s=t.s,$e(this,t.i),Je(this,t.m),this.l=t.l,e=t.h,(n=new hn).i=e.i,e.g&&(n.g=new Ye(e.g),n.h=e.h),tn(this,n),this.o=t.o):t&&(n=String(t).match(Ge))?(this.g=!!e,Qe(this,n[1]||"",!0),this.s=rn(n[2]||""),$e(this,n[3]||"",!0),Je(this,n[4]),this.l=rn(n[5]||"",!0),tn(this,n[6]||"",!0),this.o=rn(n[7]||"")):(this.g=!!e,this.h=new hn(null,this.g))}function We(t){return new Ze(t)}function Qe(t,e,n){t.j=n?rn(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $e(t,e,n){t.i=n?rn(e,!0):e}function Je(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.m=e}else t.m=null}function tn(t,e,n){var r,i;e instanceof hn?(t.h=e,r=t.h,(i=t.g)&&!r.j&&(dn(r),r.i=null,r.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(pn(this,e),gn(this,n,t))},r)),r.j=i):(n||(e=on(e,ln)),t.h=new hn(e,t.g))}function en(t,e,n){t.h.set(e,n)}function nn(t){return en(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function rn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function on(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,an),t=n?t.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):t):null}function an(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ze.prototype.toString=function(){var t=[],e=this.j;e&&t.push(on(e,sn,!0),":");var n=this.i;return!n&&"file"!=e||(t.push("//"),(e=this.s)&&t.push(on(e,sn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(on(n,"/"==n.charAt(0)?cn:un,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",on(n,fn)),t.join("")};var sn=/[#\/\?@]/g,un=/[#\?:]/g,cn=/[#\?]/g,ln=/[#\?@]/g,fn=/#/g;function hn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function dn(t){t.g||(t.g=new Ye,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf("="),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function pn(t,e){dn(t),e=yn(t,e),Ke(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Ke((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&He(t)))}function mn(t,e){return dn(t),e=yn(t,e),Ke(t.g.h,e)}function gn(t,e,n){pn(t,e),0<n.length&&(t.i=null,t.g.set(yn(t,e),G(n)),t.h+=n.length)}function yn(t,e){return e=String(e),t.j?e.toLowerCase():e}(C=hn.prototype).add=function(t,e){dn(this),this.i=null,t=yn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},C.forEach=function(t,e){dn(this),this.g.forEach(function(n,r){H(n,function(n){t.call(e,n,r,this)},this)},this)},C.T=function(){dn(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},C.R=function(t){dn(this);var e=[];if("string"==typeof t)mn(this,t)&&(e=K(e,this.g.get(yn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=K(e,t[n])}return e},C.set=function(t,e){return dn(this),this.i=null,mn(this,t=yn(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},C.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},C.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),o=(r=this.R(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}return this.i=t.join("&")};var wn=function(t,e){this.h=t,this.g=e};function vn(t){this.l=t||kn,t=N.PerformanceNavigationTiming?0<(t=N.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(N.g&&N.g.Ea&&N.g.Ea()&&N.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bn,kn=10;function _n(t){return t.h||t.g&&t.g.size>=t.j}function In(t){return t.h?1:t.g?t.g.size:0}function En(t,e){return t.h?t.h==e:t.g&&t.g.has(e)}function xn(t,e){t.g?t.g.add(e):t.h=e}function Tn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Sn(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null==t.g||0===t.g.size)return G(t.i);var r=t.i;try{for(var i=O(t.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function On(){}function Cn(){this.g=new On}function Dn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}function An(t){this.l=t.$b||null,this.j=t.ib||!1}function Nn(t,e){Ut.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Rn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vn.prototype.cancel=function(){var t,e;if(this.i=Sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=O(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},On.prototype.stringify=function(t){return N.JSON.stringify(t,void 0)},On.prototype.parse=function(t){return N.JSON.parse(t,void 0)},q(An,_e),An.prototype.g=function(){return new Nn(this.l,this.j)},An.prototype.i=(bn={},function(){return bn}),q(Nn,Ut);var Rn=0;function Ln(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Pn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Bn(t)}function Bn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(C=Nn.prototype).open=function(t,e){if(this.readyState!=Rn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Bn(this)},C.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||N).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},C.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pn(this)),this.readyState=Rn},C.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==N.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ln(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},C.Sa=function(t){var e;this.g&&(this.u&&t.value?this.response.push(t.value):this.u||(e=t.value||new Uint8Array(0),(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)),(t.done?Pn:Bn)(this),3==this.readyState&&Ln(this))},C.Ua=function(t){this.g&&(this.response=this.responseText=t,Pn(this))},C.Ta=function(t){this.g&&(this.response=t,Pn(this))},C.ha=function(){this.g&&Pn(this)},C.setRequestHeader=function(t,e){this.v.append(t,e)},C.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},C.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Nn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Mn=N.JSON.parse;function Fn(t){Ut.call(this),this.headers=new Ye,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Un,this.K=this.L=!1}q(Fn,Ut);var Un="",Vn=/^https?$/i,jn=["POST","PUT"];function qn(t){return"content-type"==t.toLowerCase()}function zn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Xn(t),Hn(t)}function Xn(t){t.D||(t.D=!0,Vt(t,"complete"),Vt(t,"error"))}function Yn(t){if(t.h&&void 0!==A&&(!t.C[1]||4!=Gn(t)||2!=t.ba()))if(t.v&&4==Gn(t))ne(t.Fa,0,t);else if(Vt(t,"readystatechange"),4==Gn(t)){t.h=!1;try{var e,n,r,i,o=t.ba();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break t;default:a=!1}if((e=a)||((n=0===o)&&(!(i=String(t.H).match(Ge)[1]||null)&&N.self&&N.self.location&&(i=(r=N.self.location.protocol).substr(0,r.length-1)),n=!Vn.test(i?i.toLowerCase():"")),e=n),e)Vt(t,"complete"),Vt(t,"success");else{t.m=6;try{var s=2<Gn(t)?t.g.statusText:""}catch(t){s=""}t.j=s+" ["+t.ba()+"]",Xn(t)}}finally{Hn(t)}}}function Hn(t,e){if(t.g){Kn(t);var n=t.g,r=t.C[0]?R:null;t.g=null,t.C=null,e||Vt(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Kn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(N.clearTimeout(t.A),t.A=null)}function Gn(t){return t.g?t.g.readyState:0}function Zn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Un:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Wn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}var i;r||(i="",et(n,function(t,e){i+=e,i+=":",i+=t,i+="\r\n"}),n=i,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):en(t,e,n))}function Qn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function $n(t){this.za=0,this.l=[],this.h=new le,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Qn("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Qn("baseRetryDelayMs",5e3,t),this.$a=Qn("retryDelaySeedMs",1e4,t),this.Ya=Qn("forwardChannelMaxRetries",2,t),this.ra=Qn("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new vn(t&&t.concurrentRequestLimit),this.Ca=new Cn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Jn(t){var e,n;er(t),3==t.G&&(e=t.V++,en(n=We(t.F),"SID",t.J),en(n,"RID",e),en(n,"TYPE","terminate"),or(t,n),(e=new Oe(t,t.h,e,void 0)).K=2,e.v=nn(We(n)),n=!1,!(n=N.navigator&&N.navigator.sendBeacon?N.navigator.sendBeacon(e.v.toString(),""):n)&&N.Image&&((new Image).src=e.v,n=!0),n||(e.g=yr(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Fe(e)),mr(t)}function tr(t){t.g&&(cr(t),t.g.cancel(),t.g=null)}function er(t){tr(t),t.u&&(N.clearTimeout(t.u),t.u=null),fr(t),t.i.cancel(),t.m&&("number"==typeof t.m&&N.clearTimeout(t.m),t.m=null)}function nr(t,e){t.l.push(new wn(t.Za++,e)),3==t.G&&rr(t)}function rr(t){_n(t.i)||t.m||(t.m=!0,Wt(t.Ha,t),t.C=0)}function ir(t,e){var n=e?e.m:t.V++,r=We(t.F);en(r,"SID",t.J),en(r,"RID",n),en(r,"AID",t.U),or(t,r),t.o&&t.s&&Wn(r,t.o,t.s),n=new Oe(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=ar(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),xn(t.i,n),Le(n,r,e)}function or(t,e){t.j&&Xe({},function(t,n){en(e,n,t)})}function ar(t,e,n){n=Math.min(t.l.length,n);var r=t.j?V(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if((c-=o)<0)o=Math.max(0,i[u].h-100),s=!1;else try{!function(t,e,n){var r="req"+c+"_"||"";try{Xe(t,function(t,n){var i=t;P(t)&&(i=qt(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}(l,a)}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function sr(t){t.g||t.u||(t.Y=1,Wt(t.Ga,t),t.A=0)}function ur(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=be(V(t.Ga,t),dr(t,t.A)),t.A++,1)}function cr(t){null!=t.B&&(N.clearTimeout(t.B),t.B=null)}function lr(t){t.g=new Oe(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=We(t.oa);en(e,"RID","rpc"),en(e,"SID",t.J),en(e,"CI",t.N?"0":"1"),en(e,"AID",t.U),or(t,e),en(e,"TYPE","xmlhttp"),t.o&&t.s&&Wn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=nn(We(e)),n.s=null,n.U=!0,Pe(n,t)}function fr(t){null!=t.v&&(N.clearTimeout(t.v),t.v=null)}function hr(t,e){var n,r,i,o=null;if(t.g==e){fr(t),cr(t),t.g=null;var a=2}else{if(!En(t.i,e))return;o=e.D,Tn(t.i,e),a=1}if(t.I=e.N,0!=t.G)if(e.i)1==a?(o=e.s?e.s.length:0,e=Date.now()-e.F,n=t.C,Vt(a=pe(),new ve(a,o)),rr(t)):sr(t);else if(3==(n=e.o)||0==n&&0<t.I||(1!=a||(i=e,In((r=t).i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=i.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=be(V(r.Ha,r,i),dr(r,r.C)),r.C++,0))))&&(2!=a||!ur(t)))switch(o&&0<o.length&&(e=t.i,e.i=e.i.concat(o)),n){case 1:pr(t,5);break;case 4:pr(t,10);break;case 3:pr(t,6);break;default:pr(t,2)}}function dr(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function pr(t,e){var n,r,i,o;t.h.info("Error code "+e),2==e?(r=null,t.j&&(r=null),o=V(t.jb,t),r||(r=new Ze("//www.google.com/images/cleardot.gif"),N.location&&"http"==N.location.protocol||Qe(r,"https"),nn(r)),n=r.toString(),r=o,o=new le,N.Image?((i=new Image).onload=j(Dn,o,i,"TestLoadImage: loaded",!0,r),i.onerror=j(Dn,o,i,"TestLoadImage: error",!1,r),i.onabort=j(Dn,o,i,"TestLoadImage: abort",!1,r),i.ontimeout=j(Dn,o,i,"TestLoadImage: timeout",!1,r),N.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n):r(!1)):we(2),t.G=0,t.j&&t.j.va(e),mr(t),er(t)}function mr(t){t.G=0,t.I=-1,t.j&&(0==Sn(t.i).length&&0==t.l.length||(t.i.i.length=0,G(t.l),t.l.length=0),t.j.ua())}function gr(t,e,n){var r,i,o,a,s,u=(a=n)instanceof Ze?We(a):new Ze(a,void 0);return""!=u.i?(e&&$e(u,e+"."+u.i),Je(u,u.m)):(r=(s=N.location).protocol,i=e?e+"."+s.hostname:s.hostname,o=+s.port,a=n,s=new Ze(null,void 0),r&&Qe(s,r),i&&$e(s,i),o&&Je(s,o),a&&(s.l=a),u=s),t.aa&&et(t.aa,function(t,e){en(u,e,t)}),e=t.D,n=t.sa,e&&n&&en(u,e,n),en(u,"VER",t.ma),or(t,u),u}function yr(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new Fn(new An({ib:!0})):new Fn(t.qa)).L=t.H,e}function wr(){}function vr(){if(ut&&!(10<=Number(yt)))throw Error("Environmental error: no available transport.")}function br(t,e){Ut.call(this),this.g=new $n(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Z(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Z(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ir(this)}function kr(t){xe.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function _r(){Te.call(this),this.status=1}function Ir(t){this.g=t}(C=Fn.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=(this.u||De).g(),this.C=this.u?Ie(this.u):Ie(De),this.g.onreadystatechange=V(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){return void zn(this,t)}t=n||"";var i,o=new Ye(this.headers);r&&Xe(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=qn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(o.T()),n=N.FormData&&t instanceof N.FormData,0<=Y(jn,e)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Kn(this),0<this.B&&((this.K=(i=this.g,ut&&function(){return t=function(){for(var t=0,e=Q(String(at)).split("."),n=Q("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++)for(var o=e[i]||"",a=n[i]||"";o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],(0!=o[0].length||0!=a[0].length)&&(t=J(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||J(0==o[2].length,0==a[2].length)||J(o[2],a[2]),o=o[3],a=a[3],0==t););return 0<=t},e=gt,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t();var t,e}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=V(this.pa,this)):this.A=ne(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){zn(this,t)}},C.pa=function(){void 0!==A&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vt(this,"timeout"),this.abort(8))},C.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Vt(this,"complete"),Vt(this,"abort"),Hn(this))},C.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hn(this,!0)),Fn.Z.M.call(this)},C.Fa=function(){this.s||(this.F||this.v||this.l?Yn(this):this.cb())},C.cb=function(){Yn(this)},C.ba=function(){try{return 2<Gn(this)?this.g.status:-1}catch(t){return-1}},C.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},C.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Mn(e)}},C.Da=function(){return this.m},C.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(C=$n.prototype).ma=8,C.G=1,C.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(t){}},C.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Oe(this,this.h,t,void 0),n=this.s;if(this.P&&(n?it(n=nt(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=ar(this,e,r),en(i=We(this.F),"RID",t),en(i,"CVER",22),this.D&&en(i,"X-HTTP-Session-Id",this.D),or(this,i),this.o&&n&&Wn(i,this.o,n),xn(this.i,e),this.Ra&&en(i,"TYPE","init"),this.ja?(en(i,"$req",r),en(i,"SID","null"),e.$=!0,Le(e,i,null)):Le(e,i,r),this.G=2}}else 3==this.G&&(t?ir(this,t):0==this.l.length||_n(this.i)||ir(this))},C.Ga=function(){var t;this.u=null,lr(this),this.$&&!(this.L||null==this.g||this.O<=0)&&(t=2*this.O,this.h.info("BP detection timer enabled: "+t),this.B=be(V(this.bb,this),t))},C.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,we(10),tr(this),lr(this))},C.ab=function(){null!=this.v&&(this.v=null,tr(this),ur(this),we(19))},C.jb=function(t){t?(this.h.info("Successfully pinged google.com"),we(2)):(this.h.info("Failed to ping google.com"),we(1))},(C=wr.prototype).xa=function(){},C.wa=function(){},C.va=function(){},C.ua=function(){},C.Oa=function(){},vr.prototype.g=function(t,e){return new br(t,e)},q(br,Ut),br.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Wt(V(t.hb,t,e))),we(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=gr(t,null,t.W),rr(t)},br.prototype.close=function(){Jn(this.g)},br.prototype.u=function(t){var e;"string"==typeof t?((e={}).__data__=t,nr(this.g,e)):this.v?((e={}).__data__=qt(t),nr(this.g,e)):nr(this.g,t)},br.prototype.M=function(){this.g.j=null,delete this.j,Jn(this.g),delete this.g,br.Z.M.call(this)},q(kr,xe),q(_r,Te),q(Ir,wr),Ir.prototype.xa=function(){Vt(this.g,"a")},Ir.prototype.wa=function(t){Vt(this.g,new kr(t))},Ir.prototype.va=function(t){Vt(this.g,new _r)},Ir.prototype.ua=function(){Vt(this.g,"b")},vr.prototype.createWebChannel=vr.prototype.g,br.prototype.send=br.prototype.u,br.prototype.open=br.prototype.m,ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,D.COMPLETE="complete",(Ee.EventType=zt).OPEN="a",zt.CLOSE="b",zt.ERROR="c",zt.MESSAGE="d",Ut.prototype.listen=Ut.prototype.N,Fn.prototype.listenOnce=Fn.prototype.O,Fn.prototype.getLastError=Fn.prototype.La,Fn.prototype.getLastErrorCode=Fn.prototype.Da,Fn.prototype.getStatus=Fn.prototype.ba,Fn.prototype.getResponseJson=Fn.prototype.Qa,Fn.prototype.getResponseText=Fn.prototype.ga,Fn.prototype.send=Fn.prototype.ea;var Er=pe,xr=ke,Tr=D,Sr=he,Or=An,Cr=Ee,Dr=Fn,Ar=(Nr.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},Nr.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},Nr);function Nr(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}Ar.o=-1;var Rr,Lr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Pr=(r(Mr,Rr=Error),Mr),Br=new x("@firebase/firestore");function Mr(t,e){var n=this;return(n=Rr.call(this,e)||this).code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function Fr(){return Br.logLevel}function Ur(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Br.logLevel<=w.DEBUG&&(e=n.map(qr),Br.debug.apply(Br,s(["Firestore (8.10.0): "+t],e)))}function Vr(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Br.logLevel<=w.ERROR&&(e=n.map(qr),Br.error.apply(Br,s(["Firestore (8.10.0): "+t],e)))}function jr(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Br.logLevel<=w.WARN&&(e=n.map(qr),Br.warn.apply(Br,s(["Firestore (8.10.0): "+t],e)))}function qr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function zr(t){throw Vr(t="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+(t=void 0===t?"Unexpected state":t)),new Error(t)}function Xr(t){t||zr()}var Yr=(Hr.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=function(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<40;r++)n[r]=Math.floor(256*Math.random());return n}(),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},Hr);function Hr(){}function Kr(t,e){return t<e?-1:e<t?1:0}function Gr(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Zr(t){return t+"\0"}var Wr=(Jr.now=function(){return Jr.fromMillis(Date.now())},Jr.fromDate=function(t){return Jr.fromMillis(t.getTime())},Jr.fromMillis=function(t){var e=Math.floor(t/1e3);return new Jr(e,Math.floor(1e6*(t-1e3*e)))},Jr.prototype.toDate=function(){return new Date(this.toMillis())},Jr.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},Jr.prototype._compareTo=function(t){return this.seconds===t.seconds?Kr(this.nanoseconds,t.nanoseconds):Kr(this.seconds,t.seconds)},Jr.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},Jr.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},Jr.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},Jr.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},Jr),Qr=($r.fromTimestamp=function(t){return new $r(t)},$r.min=function(){return new $r(new Wr(0,0))},$r.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},$r.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},$r.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},$r.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},$r.prototype.toTimestamp=function(){return this.timestamp},$r);function $r(t){this.timestamp=t}function Jr(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new Pr(Lr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new Pr(Lr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Pr(Lr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new Pr(Lr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}function ti(t){var e,n=0;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n++;return n}function ei(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ni(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}Object.defineProperty(pi.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),pi.prototype.isEqual=function(t){return 0===pi.comparator(this,t)},pi.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof pi?t.forEach(function(t){e.push(t)}):e.push(t),this.construct(e)},pi.prototype.limit=function(){return this.offset+this.length},pi.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},pi.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},pi.prototype.firstSegment=function(){return this.segments[this.offset]},pi.prototype.lastSegment=function(){return this.get(this.length-1)},pi.prototype.get=function(t){return this.segments[this.offset+t]},pi.prototype.isEmpty=function(){return 0===this.length},pi.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},pi.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},pi.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},pi.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},pi.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},D=pi;var ri,ii,oi=(r(di,ii=D),di.prototype.construct=function(t,e,n){return new di(t,e,n)},di.prototype.canonicalString=function(){return this.toArray().join("/")},di.prototype.toString=function(){return this.canonicalString()},di.fromString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new Pr(Lr.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter(function(t){return 0<t.length}))}return new di(n)},di.emptyPath=function(){return new di([])},di),ai=/^[_a-zA-Z][_a-zA-Z0-9]*$/,si=(r(hi,ri=D),hi.prototype.construct=function(t,e,n){return new hi(t,e,n)},hi.isValidIdentifier=function(t){return ai.test(t)},hi.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hi.isValidIdentifier(t)?t:"`"+t+"`"}).join(".")},hi.prototype.toString=function(){return this.canonicalString()},hi.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},hi.keyField=function(){return new hi(["__name__"])},hi.fromServerFormat=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new Pr(Lr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new Pr(Lr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var s=t[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Pr(Lr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new Pr(Lr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new hi(e)},hi.emptyPath=function(){return new hi([])},hi),ui=(fi.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},fi.prototype.isEqual=function(t){return Gr(this.fields,t.fields,function(t,e){return t.isEqual(e)})},fi),ci=(li.fromBase64String=function(t){return new li(atob(t))},li.fromUint8Array=function(t){return new li(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))},li.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},li.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},li.prototype.approximateByteSize=function(){return 2*this.binaryString.length},li.prototype.compareTo=function(t){return Kr(this.binaryString,t.binaryString)},li.prototype.isEqual=function(t){return this.binaryString===t.binaryString},li);function li(t){this.binaryString=t}function fi(t){(this.fields=t).sort(si.comparator)}function hi(){return null!==ri&&ri.apply(this,arguments)||this}function di(){return null!==ii&&ii.apply(this,arguments)||this}function pi(t,e,n){void 0===e?e=0:e>t.length&&zr(),void 0===n?n=t.length-e:n>t.length-e&&zr(),this.segments=t,this.offset=e,this.len=n}ci.EMPTY_BYTE_STRING=new ci("");var mi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(t){if(Xr(!!t),"string"!=typeof t)return{seconds:yi(t.seconds),nanos:yi(t.nanos)};var e=0,n=mi.exec(t);return Xr(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),e=Number(n)),t=new Date(t),{seconds:Math.floor(t.getTime()/1e3),nanos:e}}function yi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function wi(t){return"string"==typeof t?ci.fromBase64String(t):ci.fromUint8Array(t)}function vi(t){return"server_timestamp"===(null===(t=((null===(t=null==t?void 0:t.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function bi(t){return t=gi(t.mapValue.fields.__local_write_time__.timestampValue),new Wr(t.seconds,t.nanos)}function ki(t){return null==t}function _i(t){return 0===t&&1/t==-1/0}function Ii(t){return"number"==typeof t&&Number.isInteger(t)&&!_i(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Ei=(xi.fromPath=function(t){return new xi(oi.fromString(t))},xi.fromName=function(t){return new xi(oi.fromString(t).popFirst(5))},xi.prototype.hasCollectionId=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},xi.prototype.isEqual=function(t){return null!==t&&0===oi.comparator(this.path,t.path)},xi.prototype.toString=function(){return this.path.toString()},xi.comparator=function(t,e){return oi.comparator(t.path,e.path)},xi.isDocumentKey=function(t){return t.length%2==0},xi.fromSegments=function(t){return new xi(new oi(t.slice()))},xi);function xi(t){this.path=t}function Ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vi(t)?4:10:zr()}function Si(t,e){var n,r,i=Ti(t);if(i!==Ti(e))return!1;switch(i){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bi(t).isEqual(bi(e));case 3:return function(e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=gi(t.timestampValue);e=gi(e.timestampValue);return n.seconds===e.seconds&&n.nanos===e.nanos}(e);case 5:return t.stringValue===e.stringValue;case 6:return r=e,wi(t.bytesValue).isEqual(wi(r.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return n=e,yi((r=t).geoPointValue.latitude)===yi(n.geoPointValue.latitude)&&yi(r.geoPointValue.longitude)===yi(n.geoPointValue.longitude);case 2:return function(t,e){return"integerValue"in t&&"integerValue"in e?yi(t.integerValue)===yi(e.integerValue):"doubleValue"in t&&"doubleValue"in e&&((t=yi(t.doubleValue))===(e=yi(e.doubleValue))?_i(t)===_i(e):isNaN(t)&&isNaN(e))}(t,e);case 9:return Gr(t.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:return function(){var n,r=t.mapValue.fields||{},i=e.mapValue.fields||{};if(ti(r)!==ti(i))return!1;for(n in r)if(r.hasOwnProperty(n)&&(void 0===i[n]||!Si(r[n],i[n])))return!1;return!0}();default:return zr()}}function Oi(t,e){return void 0!==(t.values||[]).find(function(t){return Si(t,e)})}function Ci(t,e){var n,r,i,o=Ti(t),a=Ti(e);if(o!==a)return Kr(o,a);switch(o){case 0:return 0;case 1:return Kr(t.booleanValue,e.booleanValue);case 2:return r=e,(i=yi(t.integerValue||t.doubleValue))<(r=yi(r.integerValue||r.doubleValue))?-1:r<i?1:i===r?0:isNaN(i)?isNaN(r)?0:-1:1;case 3:return Di(t.timestampValue,e.timestampValue);case 4:return Di(bi(t),bi(e));case 5:return Kr(t.stringValue,e.stringValue);case 6:return function(t,e){return t=wi(t),e=wi(e),t.compareTo(e)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Kr(n[i],r[i]);if(0!==o)return o}return Kr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return n=t.geoPointValue,i=e.geoPointValue,0!==(r=Kr(yi(n.latitude),yi(i.latitude)))?r:Kr(yi(n.longitude),yi(i.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ci(n[i],r[i]);if(o)return o}return Kr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Kr(r[a],o[a]);if(0!==s)return s;if(0!==(s=Ci(n[r[a]],i[o[a]])))return s}return Kr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw zr()}}function Di(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Kr(t,e);var n=gi(t);t=gi(e);return 0!==(e=Kr(n.seconds,t.seconds))?e:Kr(n.nanos,t.nanos)}function Ai(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){return"time("+(t=gi(t)).seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?wi(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ei.fromName(n).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):zr();var n}(t)}function Ni(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Ri(t){return t&&"integerValue"in t}function Li(t){return!!t&&"arrayValue"in t}function Pi(t){return t&&"nullValue"in t}function Bi(t){return t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mi(t){return t&&"mapValue"in t}function Fi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return ei(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Fi(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Fi(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Ui=(Vi.empty=function(){return new Vi({mapValue:{}})},Vi.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Mi(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},Vi.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Fi(e)},Vi.prototype.setAll=function(t){var e=this,n=si.emptyPath(),r={},i=[];t.forEach(function(t,o){var a;n.isImmediateParentOf(o)||(a=e.getFieldsMap(n),e.applyChanges(a,r,i),r={},i=[],n=o.popLast()),t?r[o.lastSegment()]=Fi(t):i.push(o.lastSegment())}),t=this.getFieldsMap(n),this.applyChanges(t,r,i)},Vi.prototype.delete=function(t){var e=this.field(t.popLast());Mi(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},Vi.prototype.isEqual=function(t){return Si(this.value,t.value)},Vi.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Mi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},Vi.prototype.applyChanges=function(t,e,n){ei(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},Vi.prototype.clone=function(){return new Vi(Fi(this.value))},Vi);function Vi(t){this.value=t}var ji=(zi.newInvalidDocument=function(t){return new zi(t,0,Qr.min(),Ui.empty(),0)},zi.newFoundDocument=function(t,e,n){return new zi(t,1,e,n,0)},zi.newNoDocument=function(t,e){return new zi(t,2,e,Ui.empty(),0)},zi.newUnknownDocument=function(t,e){return new zi(t,3,e,Ui.empty(),2)},zi.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},zi.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ui.empty(),this.documentState=0,this},zi.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ui.empty(),this.documentState=2,this},zi.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},zi.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(zi.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(zi.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(zi.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),zi.prototype.isValidDocument=function(){return 0!==this.documentType},zi.prototype.isFoundDocument=function(){return 1===this.documentType},zi.prototype.isNoDocument=function(){return 2===this.documentType},zi.prototype.isUnknownDocument=function(){return 3===this.documentType},zi.prototype.isEqual=function(t){return t instanceof zi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},zi.prototype.clone=function(){return new zi(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},zi.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},zi),qi=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function zi(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}function Xi(t,e,n,r,i,o,a){return new qi(t,e=void 0===e?null:e,n=void 0===n?[]:n,r=void 0===r?[]:r,i=void 0===i?null:i,o=void 0===o?null:o,a=void 0===a?null:a)}function Yi(t){var e=t;return null===e.h&&(t=e.path.canonicalString(),null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(function(t){return(t=t).field.canonicalString()+t.op.toString()+Ai(t.value)}).join(","),t+="|ob:",t+=e.orderBy.map(function(t){return(t=t).field.canonicalString()+t.dir}).join(","),ki(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=ko(e.startAt)),e.endAt&&(t+="|ub:",t+=ko(e.endAt)),e.h=t),e.h}function Hi(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n,r,i=0;i<t.orderBy.length;i++)if(n=t.orderBy[i],r=e.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(t.filters.length!==e.filters.length)return!1;for(var o,a,s=0;s<t.filters.length;s++)if(o=t.filters[s],a=e.filters[s],o.op!==a.op||!o.field.isEqual(a.field)||!Si(o.value,a.value))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Eo(t.startAt,e.startAt)&&Eo(t.endAt,e.endAt)}function Ki(t){return Ei.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Gi,Zi=(r(Wi,Gi=function(){}),Wi.create=function(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.l(t,e,n):new to(t,e,n):"array-contains"===e?new fo(t,n):"in"===e?new ho(t,n):"not-in"===e?new po(t,n):"array-contains-any"===e?new mo(t,n):new Wi(t,e,n)},Wi.l=function(t,e,n){return new("in"===e?eo:no)(t,n)},Wi.prototype.matches=function(t){return t=t.data.field(this.field),"!="===this.op?null!==t&&this.m(Ci(t,this.value)):null!==t&&Ti(this.value)===Ti(t)&&this.m(Ci(t,this.value))},Wi.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return 0<t;case">=":return 0<=t;default:return zr()}},Wi.prototype.g=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},Wi);function Wi(t,e,n){var r=this;return(r=Gi.call(this)||this).field=t,r.op=e,r.value=n,r}var Qi,$i,Ji,to=(r(oo,Ji=Zi),oo.prototype.matches=function(t){return t=Ei.comparator(t.key,this.key),this.m(t)},oo),eo=(r(io,$i=Zi),io.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},io),no=(r(ro,Qi=Zi),ro.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},ro);function ro(t,e){var n=this;return(n=Qi.call(this,t,"not-in",e)||this).keys=ao(0,e),n}function io(t,e){var n=this;return(n=$i.call(this,t,"in",e)||this).keys=ao(0,e),n}function oo(t,e,n){var r=this;return(r=Ji.call(this,t,e,n)||this).key=Ei.fromName(n.referenceValue),r}function ao(t,e){return((null===(e=e.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(t){return Ei.fromName(t.referenceValue)})}var so,uo,co,lo,fo=(r(bo,lo=Zi),bo.prototype.matches=function(t){return Li(t=t.data.field(this.field))&&Oi(t.arrayValue,this.value)},bo),ho=(r(vo,co=Zi),vo.prototype.matches=function(t){return null!==(t=t.data.field(this.field))&&Oi(this.value.arrayValue,t)},vo),po=(r(wo,uo=Zi),wo.prototype.matches=function(t){return!Oi(this.value.arrayValue,{nullValue:"NULL_VALUE"})&&(null!==(t=t.data.field(this.field))&&!Oi(this.value.arrayValue,t))},wo),mo=(r(yo,so=Zi),yo.prototype.matches=function(t){var e=this;return!(!Li(t=t.data.field(this.field))||!t.arrayValue.values)&&t.arrayValue.values.some(function(t){return Oi(e.value.arrayValue,t)})},yo),go=function(t,e){this.position=t,this.before=e};function yo(t,e){return so.call(this,t,"array-contains-any",e)||this}function wo(t,e){return uo.call(this,t,"not-in",e)||this}function vo(t,e){return co.call(this,t,"in",e)||this}function bo(t,e){return lo.call(this,t,"array-contains",e)||this}function ko(t){return(t.before?"b":"a")+":"+t.position.map(Ai).join(",")}var _o=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Io(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];r=o.field.isKeyField()?Ei.comparator(Ei.fromName(a.referenceValue),n.key):Ci(a,n.data.field(o.field));if("desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Eo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Si(t.position[n],e.position[n]))return!1;return!0}var xo=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function To(t,e,n,r,i,o,a,s){return new xo(t,e,n,r,i,o,a,s)}function So(t){return new xo(t)}function Oo(t){return!ki(t.limit)&&"F"===t.limitType}function Co(t){return!ki(t.limit)&&"L"===t.limitType}function Do(t){return 0<t.explicitOrderBy.length?t.explicitOrderBy[0].field:null}function Ao(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function No(t){return null!==t.collectionGroup}function Ro(t){var e=t;if(null===e.p){e.p=[];var n=Ao(e);t=Do(e);if(null!==n&&null===t)n.isKeyField()||e.p.push(new _o(n)),e.p.push(new _o(si.keyField(),"asc"));else{for(var r=!1,i=0,o=e.explicitOrderBy;i<o.length;i++){var a=o[i];e.p.push(a),a.field.isKeyField()&&(r=!0)}r||(n=0<e.explicitOrderBy.length?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",e.p.push(new _o(si.keyField(),n)))}}return e.p}function Lo(t){var e=t;if(!e.T)if("F"===e.limitType)e.T=Xi(e.path,e.collectionGroup,Ro(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ro(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new _o(o.field,a))}var s=e.endAt?new go(e.endAt.position,!e.endAt.before):null;t=e.startAt?new go(e.startAt.position,!e.startAt.before):null;e.T=Xi(e.path,e.collectionGroup,n,e.filters,e.limit,s,t)}return e.T}function Po(t,e,n){return new xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bo(t,e){return Hi(Lo(t),Lo(e))&&t.limitType===e.limitType}function Mo(t){return Yi(Lo(t))+"|lt:"+t.limitType}function Fo(t){return"Query(target="+(n=(e=Lo(t)).path.canonicalString(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),0<e.filters.length&&(n+=", filters: ["+e.filters.map(function(t){return(t=t).field.canonicalString()+" "+t.op+" "+Ai(t.value)}).join(", ")+"]"),ki(e.limit)||(n+=", limit: "+e.limit),0<e.orderBy.length&&(n+=", orderBy: ["+e.orderBy.map(function(t){return(t=t).field.canonicalString()+" ("+t.dir+")"}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+ko(e.startAt)),e.endAt&&(n+=", endAt: "+ko(e.endAt)),"Target("+n+")")+"; limitType="+t.limitType+")";var e,n}function Uo(t,e){return e.isFoundDocument()&&(n=t,r=e.key.path,null!==n.collectionGroup?e.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):Ei.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r))&&function(e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return}return 1}(e)&&function(e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return;return 1}(e)&&(r=e,(!(e=t).startAt||Io(e.startAt,Ro(e),r))&&(!e.endAt||!Io(e.endAt,Ro(e),r)));var n,r}function Vo(t){return function(e,n){for(var r=!1,i=0,o=Ro(t);i<o.length;i++){var a=o[i],s=function(t,e,n){var r=t.field.isKeyField()?Ei.comparator(e.key,n.key):function(t,n){var r=e.data.field(t);t=n.data.field(t);return null!==r&&null!==t?Ci(r,t):zr()}(t.field,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return zr()}}(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function jo(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_i(e)?"-0":e}}function qo(t){return{integerValue:""+t}}function zo(t,e){return Ii(e)?qo(e):jo(t,e)}function Xo(t,e){return t instanceof ra?Ri(t=e)||t&&"doubleValue"in t?e:{integerValue:0}:null}var Yo,Ho,Ko=(r(Wo,Ho=x=function(){this._=void 0}),Wo),Go=(r(Zo,Yo=x),Zo);function Zo(t){var e=this;return(e=Yo.call(this)||this).elements=t,e}function Wo(){return null!==Ho&&Ho.apply(this,arguments)||this}function Qo(t,e){for(var n=aa(e),r=0,i=t.elements;r<i.length;r++)!function(t){n.some(function(e){return Si(e,t)})||n.push(t)}(i[r]);return{arrayValue:{values:n}}}var $o,Jo=(r(ta,$o=x),ta);function ta(t){var e=this;return(e=$o.call(this)||this).elements=t,e}function ea(t,e){for(var n=aa(e),r=0,i=t.elements;r<i.length;r++)!function(t){n=n.filter(function(e){return!Si(e,t)})}(i[r]);return{arrayValue:{values:n}}}var na,ra=(r(ia,na=x),ia);function ia(t,e){var n=this;return(n=na.call(this)||this).R=t,n.A=e,n}function oa(t){return yi(t.integerValue||t.doubleValue)}function aa(t){return Li(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function sa(t,e){this.version=t,this.transformResults=e}var ua=function(t,e){this.field=t,this.transform=e},ca=(la.none=function(){return new la},la.exists=function(t){return new la(void 0,t)},la.updateTime=function(t){return new la(t)},Object.defineProperty(la.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),la.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},la);function la(t,e){this.updateTime=t,this.exists=e}function fa(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}function ha(t,e,n){var r,i,o,a;t instanceof ya?(i=e,o=n,fa((r=t).precondition,i)&&(a=r.value.clone(),o=Ia(r.fieldTransforms,o,i),a.setAll(o),i.convertToFoundDocument(pa(i),a).setHasLocalMutations())):t instanceof wa?(o=e,i=n,fa((a=t).precondition,o)&&(n=Ia(a.fieldTransforms,i,o),(i=o.data).setAll(ka(a)),i.setAll(n),o.convertToFoundDocument(pa(o),i).setHasLocalMutations())):(e=e,fa(t.precondition,e)&&e.convertToNoDocument(Qr.min()))}function da(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Gr(n,r,function(t,e){return e=e,(t=t).field.isEqual(e.field)&&(t=t.transform,e=e.transform,t instanceof Go&&e instanceof Go||t instanceof Jo&&e instanceof Jo?Gr(t.elements,e.elements,Si):t instanceof ra&&e instanceof ra?Si(t.A,e.A):t instanceof Ko&&e instanceof Ko)})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function pa(t){return t.isFoundDocument()?t.version:Qr.min()}var ma,ga,ya=(r(ba,ga=D=function(){}),ba),wa=(r(va,ma=D),va);function va(t,e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=ma.call(this)||this).key=t,o.data=e,o.fieldMask=n,o.precondition=r,o.fieldTransforms=i,o.type=1,o}function ba(t,e,n,r){void 0===r&&(r=[]);var i=this;return(i=ga.call(this)||this).key=t,i.value=e,i.precondition=n,i.fieldTransforms=r,i.type=0,i}function ka(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){var r;n.isEmpty()||(r=t.data.field(n),e.set(n,r))}),e}function _a(t,e,n){var r=new Map;Xr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,(o=a,a=s,s=n[i],o instanceof Go?Qo(o,a):o instanceof Jo?ea(o,a):s))}return r}function Ia(t,e,n){for(var r,i=new Map,o=0,a=t;o<a.length;o++){var s=a[o],u=s.transform,c=n.data.field(s.field);i.set(s.field,(r=c,s=e,c=void 0,(u=u)instanceof Ko?(c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}},r&&(c.fields.__previous_value__=r),{mapValue:c}):u instanceof Go?Qo(u,r):u instanceof Jo?ea(u,r):(r=oa(u=Xo(c=u,r))+oa(c.A),Ri(u)&&Ri(c.A)?qo(r):jo(c.R,r))))}return i}function Ea(t){this.count=t}var xa,Ta,Sa,Oa=(r(Aa,Sa=D),Aa),Ca=(r(Da,Ta=D),Da);function Da(t,e){var n=this;return(n=Ta.call(this)||this).key=t,n.precondition=e,n.type=3,n.fieldTransforms=[],n}function Aa(t,e){var n=this;return(n=Sa.call(this)||this).key=t,n.precondition=e,n.type=2,n.fieldTransforms=[],n}function Na(t){switch(t){case Lr.OK:return zr(),0;case Lr.CANCELLED:case Lr.UNKNOWN:case Lr.DEADLINE_EXCEEDED:case Lr.RESOURCE_EXHAUSTED:case Lr.INTERNAL:case Lr.UNAVAILABLE:case Lr.UNAUTHENTICATED:return;case Lr.INVALID_ARGUMENT:case Lr.NOT_FOUND:case Lr.ALREADY_EXISTS:case Lr.PERMISSION_DENIED:case Lr.FAILED_PRECONDITION:case Lr.ABORTED:case Lr.OUT_OF_RANGE:case Lr.UNIMPLEMENTED:case Lr.DATA_LOSS:return 1;default:return zr(),0}}function Ra(t){if(void 0===t)return Vr("GRPC error has no .code"),Lr.UNKNOWN;switch(t){case xa.OK:return Lr.OK;case xa.CANCELLED:return Lr.CANCELLED;case xa.UNKNOWN:return Lr.UNKNOWN;case xa.DEADLINE_EXCEEDED:return Lr.DEADLINE_EXCEEDED;case xa.RESOURCE_EXHAUSTED:return Lr.RESOURCE_EXHAUSTED;case xa.INTERNAL:return Lr.INTERNAL;case xa.UNAVAILABLE:return Lr.UNAVAILABLE;case xa.UNAUTHENTICATED:return Lr.UNAUTHENTICATED;case xa.INVALID_ARGUMENT:return Lr.INVALID_ARGUMENT;case xa.NOT_FOUND:return Lr.NOT_FOUND;case xa.ALREADY_EXISTS:return Lr.ALREADY_EXISTS;case xa.PERMISSION_DENIED:return Lr.PERMISSION_DENIED;case xa.FAILED_PRECONDITION:return Lr.FAILED_PRECONDITION;case xa.ABORTED:return Lr.ABORTED;case xa.OUT_OF_RANGE:return Lr.OUT_OF_RANGE;case xa.UNIMPLEMENTED:return Lr.UNIMPLEMENTED;case xa.DATA_LOSS:return Lr.DATA_LOSS;default:return zr()}}(x=xa=xa||{})[x.OK=0]="OK",x[x.CANCELLED=1]="CANCELLED",x[x.UNKNOWN=2]="UNKNOWN",x[x.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",x[x.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",x[x.NOT_FOUND=5]="NOT_FOUND",x[x.ALREADY_EXISTS=6]="ALREADY_EXISTS",x[x.PERMISSION_DENIED=7]="PERMISSION_DENIED",x[x.UNAUTHENTICATED=16]="UNAUTHENTICATED",x[x.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",x[x.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",x[x.ABORTED=10]="ABORTED",x[x.OUT_OF_RANGE=11]="OUT_OF_RANGE",x[x.UNIMPLEMENTED=12]="UNIMPLEMENTED",x[x.INTERNAL=13]="INTERNAL",x[x.UNAVAILABLE=14]="UNAVAILABLE",x[x.DATA_LOSS=15]="DATA_LOSS";var La=(Ua.prototype.insert=function(t,e){return new Ua(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ba.BLACK,null,null))},Ua.prototype.remove=function(t){return new Ua(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ba.BLACK,null,null))},Ua.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},Ua.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},Ua.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(Ua.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),Ua.prototype.minKey=function(){return this.root.minKey()},Ua.prototype.maxKey=function(){return this.root.maxKey()},Ua.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},Ua.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},Ua.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},Ua.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},Ua.prototype.getIterator=function(){return new Pa(this.root,null,this.comparator,!1)},Ua.prototype.getIteratorFrom=function(t){return new Pa(this.root,t,this.comparator,!1)},Ua.prototype.getReverseIterator=function(){return new Pa(this.root,null,this.comparator,!0)},Ua.prototype.getReverseIteratorFrom=function(t){return new Pa(this.root,t,this.comparator,!0)},Ua),Pa=(Fa.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},Fa.prototype.hasNext=function(){return 0<this.nodeStack.length},Fa.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},Fa),Ba=(Ma.prototype.copy=function(t,e,n,r,i){return new Ma(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},Ma.prototype.isEmpty=function(){return!1},Ma.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},Ma.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},Ma.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},Ma.prototype.minKey=function(){return this.min().key},Ma.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},Ma.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},Ma.prototype.removeMin=function(){if(this.left.isEmpty())return Ma.EMPTY;var t=this;return(t=(t=t.left.isRed()||t.left.left.isRed()?t:t.moveRedLeft()).copy(null,null,null,t.left.removeMin(),null)).fixUp()},Ma.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r=(r=r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()?r:r.moveRedLeft()).copy(null,null,null,r.left.remove(t,e),null);else{if(0===e(t,(r=(r=r.left.isRed()?r.rotateRight():r).right.isEmpty()||r.right.isRed()||r.right.left.isRed()?r:r.moveRedRight()).key)){if(r.right.isEmpty())return Ma.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()},Ma.prototype.isRed=function(){return this.color},Ma.prototype.fixUp=function(){var t=this;return(t=(t=t.right.isRed()&&!t.left.isRed()?t.rotateLeft():t).left.isRed()&&t.left.left.isRed()?t.rotateRight():t).left.isRed()&&t.right.isRed()?t.colorFlip():t},Ma.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()?(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip():t},Ma.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()?(t=t.rotateRight()).colorFlip():t},Ma.prototype.rotateLeft=function(){var t=this.copy(null,null,Ma.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},Ma.prototype.rotateRight=function(){var t=this.copy(null,null,Ma.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},Ma.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},Ma.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},Ma.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw zr();if(this.right.isRed())throw zr();var t=this.left.check();if(t!==this.right.check())throw zr();return t+(this.isRed()?0:1)},Ma);function Ma(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Ma.RED,this.left=null!=r?r:Ma.EMPTY,this.right=null!=i?i:Ma.EMPTY,this.size=this.left.size+1+this.right.size}function Fa(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}function Ua(t,e){this.comparator=t,this.root=e||Ba.EMPTY}function Va(){this.size=0}Ba.EMPTY=null,Ba.RED=!0,Ba.BLACK=!1,Ba.EMPTY=(Object.defineProperty(Va.prototype,"key",{get:function(){throw zr()},enumerable:!1,configurable:!0}),Object.defineProperty(Va.prototype,"value",{get:function(){throw zr()},enumerable:!1,configurable:!0}),Object.defineProperty(Va.prototype,"color",{get:function(){throw zr()},enumerable:!1,configurable:!0}),Object.defineProperty(Va.prototype,"left",{get:function(){throw zr()},enumerable:!1,configurable:!0}),Object.defineProperty(Va.prototype,"right",{get:function(){throw zr()},enumerable:!1,configurable:!0}),Va.prototype.copy=function(t,e,n,r,i){return this},Va.prototype.insert=function(t,e,n){return new Ba(t,e)},Va.prototype.remove=function(t,e){return this},Va.prototype.isEmpty=function(){return!0},Va.prototype.inorderTraversal=function(t){return!1},Va.prototype.reverseTraversal=function(t){return!1},Va.prototype.minKey=function(){return null},Va.prototype.maxKey=function(){return null},Va.prototype.isRed=function(){return!1},Va.prototype.checkMaxDepth=function(){return!0},Va.prototype.check=function(){return 0},new Va);var ja=(Ya.prototype.has=function(t){return null!==this.data.get(t)},Ya.prototype.first=function(){return this.data.minKey()},Ya.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(Ya.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),Ya.prototype.indexOf=function(t){return this.data.indexOf(t)},Ya.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},Ya.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,t[1]))return;e(r.key)}},Ya.prototype.forEachWhile=function(t,e){for(var n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},Ya.prototype.firstAfterOrEqual=function(t){return(t=this.data.getIteratorFrom(t)).hasNext()?t.getNext().key:null},Ya.prototype.getIterator=function(){return new qa(this.data.getIterator())},Ya.prototype.getIteratorFrom=function(t){return new qa(this.data.getIteratorFrom(t))},Ya.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},Ya.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},Ya.prototype.isEmpty=function(){return this.data.isEmpty()},Ya.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},Ya.prototype.isEqual=function(t){if(!(t instanceof Ya))return!1;if(this.size!==t.size)return!1;for(var e=this.data.getIterator(),n=t.data.getIterator();e.hasNext();){var r=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},Ya.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},Ya.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},Ya.prototype.copy=function(t){var e=new Ya(this.comparator);return e.data=t,e},Ya),qa=(Xa.prototype.getNext=function(){return this.iter.getNext().key},Xa.prototype.hasNext=function(){return this.iter.hasNext()},Xa),za=new La(Ei.comparator);function Xa(t){this.iter=t}function Ya(t){this.comparator=t,this.data=new La(this.comparator)}var Ha=new La(Ei.comparator),Ka=new La(Ei.comparator),Ga=new ja(Ei.comparator);function Za(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ga,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Wa=new ja(Kr),Qa=(ss.createSynthesizedRemoteEventForCurrentChange=function(t,e){var n=new Map;return n.set(t,$a.createSynthesizedTargetChangeForCurrentChange(t,e)),new ss(Qr.min(),n,Wa,za,Za())},ss),$a=(as.createSynthesizedTargetChangeForCurrentChange=function(t,e){return new as(ci.EMPTY_BYTE_STRING,e,Za(),Za(),Za())},as),Ja=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},ts=function(t,e){this.targetId=t,this.V=e},es=function(t,e,n,r){void 0===n&&(n=ci.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ns=(Object.defineProperty(os.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(os.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(os.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(os.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),os.prototype.O=function(t){0<t.approximateByteSize()&&(this.k=!0,this.C=t)},os.prototype.M=function(){var t=Za(),e=Za(),n=Za();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:zr()}}),new $a(this.C,this.N,t,e,n)},os.prototype.L=function(){this.k=!1,this.D=cs()},os.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},os.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},os.prototype.U=function(){this.S+=1},os.prototype.K=function(){--this.S},os.prototype.j=function(){this.k=!0,this.N=!0},os),rs=(is.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},is.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:zr()}})},is.prototype.forEachTarget=function(t,e){var n=this;0<t.targetIds.length?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},is.prototype.rt=function(t){var e=t.targetId,n=t.V.count;(t=this.ot(e))&&(Ki(t=t.target)?0===n?(t=new Ei(t.path),this.tt(e,t,ji.newNoDocument(t,Qr.min()))):Xr(1===n):this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e)))},is.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);o&&(r.current&&Ki(o.target)&&(o=new Ei(o.target.path),null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,ji.newNoDocument(o,t))),r.$&&(n.set(i,r.M()),r.L()))});var r=Za();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){return!(t=e.ot(t))||2===t.purpose||(i=!1)}),i&&(r=r.add(t))});var i=new Qa(t,n,this.Y,this.H,r);return this.H=za,this.J=us(),this.Y=new ja(Kr),i},is.prototype.Z=function(t,e){var n;this.st(t)&&(n=this.at(t,e.key)?2:0,this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t)))},is.prototype.tt=function(t,e,n){var r;this.st(t)&&(r=this.nt(t),this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n)))},is.prototype.removeTarget=function(t){this.G.delete(t)},is.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},is.prototype.U=function(t){this.nt(t).U()},is.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new ns,this.G.set(t,e)),e},is.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new ja(Kr),this.J=this.J.insert(t,e)),e},is.prototype.st=function(t){var e=null!==this.ot(t);return e||Ur("WatchChangeAggregator","Detected inactive target",t),e},is.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},is.prototype.it=function(t){var e=this;this.G.set(t,new ns),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},is.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},is);function is(t){this.W=t,this.G=new Map,this.H=za,this.J=us(),this.Y=new ja(Kr)}function os(){this.S=0,this.D=cs(),this.C=ci.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}function as(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}function ss(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}function us(){return new La(Ei.comparator)}function cs(){return new La(Ei.comparator)}var ls={asc:"ASCENDING",desc:"DESCENDING"},fs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hs=function(t,e){this.databaseId=t,this.I=e};function ds(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ps(t,e){return t.I?e.toBase64():e.toUint8Array()}function ms(t){return Xr(!!t),Qr.fromTimestamp((t=gi(t),new Wr(t.seconds,t.nanos)))}function gs(t,e){return new oi(["projects",t.projectId,"databases",t.database]).child("documents").child(e).canonicalString()}function ys(t){return Xr(Ms(t=oi.fromString(t))),t}function ws(t,e){return gs(t.databaseId,e.path)}function vs(t,e){if((e=ys(e)).get(1)!==t.databaseId.projectId)throw new Pr(Lr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+t.databaseId.projectId);if(e.get(3)!==t.databaseId.database)throw new Pr(Lr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+t.databaseId.database);return new Ei(Is(e))}function bs(t,e){return gs(t.databaseId,e)}function ks(t){return 4===(t=ys(t)).length?oi.emptyPath():Is(t)}function _s(t){return new oi(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Is(t){return Xr(4<t.length&&"documents"===t.get(4)),t.popFirst(5)}function Es(t,e,n){return{name:ws(t,e),fields:n.value.mapValue.fields}}function xs(t,e,n){var r=vs(t,e.name);t=ms(e.updateTime),e=new Ui({mapValue:{fields:e.fields}}),e=ji.newFoundDocument(r,t,e);return n&&e.setHasCommittedMutations(),n?e.setHasCommittedMutations():e}function Ts(t,e){var n,r,i;if(e instanceof ya)n={update:Es(t,e.key,e.value)};else if(e instanceof Oa)n={delete:ws(t,e.key)};else if(e instanceof wa)n={update:Es(t,e.key,e.data),updateMask:(r=e.fieldMask,i=[],r.fields.forEach(function(t){return i.push(t.canonicalString())}),{fieldPaths:i})};else{if(!(e instanceof Ca))return zr();n={verify:ws(t,e.key)}}return 0<e.fieldTransforms.length&&(n.updateTransforms=e.fieldTransforms.map(function(t){var e=t.transform;if(e instanceof Ko)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(e instanceof Go)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:e.elements}};if(e instanceof Jo)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:e.elements}};if(e instanceof ra)return{fieldPath:t.field.canonicalString(),increment:e.A};throw zr()})),e.precondition.isNone||(n.currentDocument=void 0!==(e=e.precondition).updateTime?{updateTime:ds(t,e.updateTime.toTimestamp())}:void 0!==e.exists?{exists:e.exists}:zr()),n}function Ss(t,e){var n=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?ca.updateTime(ms(a.updateTime)):void 0!==a.exists?ca.exists(a.exists):ca.none():ca.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n,r=null;return"setToServerValue"in e?(Xr("REQUEST_TIME"===e.setToServerValue),r=new Ko):"appendMissingElements"in e?(n=e.appendMissingElements.values||[],r=new Go(n)):"removeAllFromArray"in e?(n=e.removeAllFromArray.values||[],r=new Jo(n)):"increment"in e?r=new ra(t,e.increment):zr(),e=si.fromServerFormat(e.fieldPath),new ua(e,r)}(t,e)}):[];if(e.update){e.update.name;var i=vs(t,e.update.name),o=new Ui({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=(a=e.updateMask.fieldPaths||[],new ui(a.map(function(t){return si.fromServerFormat(t)})));return new wa(i,o,a,n,r)}return new ya(i,o,n,r)}return e.delete?(r=vs(t,e.delete),new Oa(r,n)):e.verify?(e=vs(t,e.verify),new Ca(e,n)):zr()}function Os(t,e){return{documents:[bs(t,e.path)]}}function Cs(t,e){var n={structuredQuery:{}},r=e.path;return null!==e.collectionGroup?(n.parent=bs(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=bs(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),(r=function(t){if(0!==t.length)return 1===(t=t.map(function(t){if("=="===t.op){if(Bi(t.value))return{unaryFilter:{field:Rs(t.field),op:"IS_NAN"}};if(Pi(t.value))return{unaryFilter:{field:Rs(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Bi(t.value))return{unaryFilter:{field:Rs(t.field),op:"IS_NOT_NAN"}};if(Pi(t.value))return{unaryFilter:{field:Rs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(t.field),op:(e=t.op,fs[e]),value:t.value}};var e})).length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(e.filters))&&(n.structuredQuery.where=r),(r=function(t){if(0!==t.length)return t.map(function(t){return{field:Rs((t=t).field),direction:(t=t.dir,ls[t])}})}(e.orderBy))&&(n.structuredQuery.orderBy=r),r=e.limit,null!==(r=t.I||ki(r)?r:{value:r})&&(n.structuredQuery.limit=r),e.startAt&&(n.structuredQuery.startAt=As(e.startAt)),e.endAt&&(n.structuredQuery.endAt=As(e.endAt)),n}function Ds(t){var e=ks(t.parent),n=t.structuredQuery,r=null;0<(a=n.from?n.from.length:0)&&(Xr(1===a),(s=n.from[0]).allDescendants?r=s.collectionId:e=e.child(s.collectionId));var i=[];n.where&&(i=function t(e){return e?void 0!==e.unaryFilter?[Bs(e)]:void 0!==e.fieldFilter?[Ps(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t(e)}).reduce(function(t,e){return t.concat(e)}):zr():[]}(n.where));var o=[],a=(t=null,null),s=null;return To(e,r,o=n.orderBy?n.orderBy.map(function(t){return new _o(Ls((e=t).field),function(){switch(e.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var e}):o,i,t=n.limit?ki(i="object"==typeof(i=n.limit)?i.value:i)?null:i:t,"F",a=n.startAt?Ns(n.startAt):a,s=n.endAt?Ns(n.endAt):s)}function As(t){return{before:t.before,values:t.position}}function Ns(t){var e=!!t.before;t=t.values||[];return new go(t,e)}function Rs(t){return{fieldPath:t.canonicalString()}}function Ls(t){return si.fromServerFormat(t.fieldPath)}function Ps(t){return Zi.create(Ls(t.fieldFilter.field),function(){switch(t.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return zr()}}(),t.fieldFilter.value)}function Bs(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ls(t.unaryFilter.field);return Zi.create(e,"==",{doubleValue:NaN});case"IS_NULL":return e=Ls(t.unaryFilter.field),Zi.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var n=Ls(t.unaryFilter.field);return Zi.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":return n=Ls(t.unaryFilter.field),Zi.create(n,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return zr()}}function Ms(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)}function Fs(t){for(var e="",n=0;n<t.length;n++)0<e.length&&(e=Us(e)),e=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}(t.get(n),e);return Us(e)}function Us(t){return t+""}function Vs(t){var e=t.length;if(Xr(2<=e),2===e)return Xr(""===t.charAt(0)&&""===t.charAt(1)),oi.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||n<a)&&zr(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:zr()}o=a+2}return new oi(r)}function js(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}var qs=function(t,e){this.seconds=t,this.nanoseconds=e};function zs(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}function Xs(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}js.store="owner",js.key="owner",zs.store="mutationQueues",zs.keyPath="userId",Xs.store="mutations",Xs.keyPath="batchId",Xs.userMutationsIndex="userMutationsIndex",Xs.userMutationsKeyPath=["userId","batchId"];var Ys=(Hs.prefixForUser=function(t){return[t]},Hs.prefixForPath=function(t,e){return[t,Fs(e)]},Hs.key=function(t,e,n){return[t,Fs(e),n]},Hs);function Hs(){}function Ks(t,e){this.path=t,this.readTime=e}function Gs(t,e){this.path=t,this.version=e}Ys.store="documentMutations",Ys.PLACEHOLDER=new Ys;var Zs=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};function Ws(t){this.byteSize=t}function Qs(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}Zs.store="remoteDocuments",Zs.readTimeIndex="readTimeIndex",Zs.readTimeIndexPath="readTime",Zs.collectionReadTimeIndex="collectionReadTimeIndex",Zs.collectionReadTimeIndexPath=["parentPath","readTime"],Ws.store="remoteDocumentGlobal",Ws.key="remoteDocumentGlobalKey",Qs.store="targets",Qs.keyPath="targetId",Qs.queryTargetsIndexName="queryTargetsIndex",Qs.queryTargetsKeyPath=["canonicalId","targetId"];var $s=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};function Js(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}function tu(t,e){this.collectionId=t,this.parent=e}function eu(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}function nu(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}function ru(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}$s.store="targetDocuments",$s.keyPath=["targetId","path"],$s.documentTargetsIndex="documentTargetsIndex",$s.documentTargetsKeyPath=["path","targetId"],Js.key="targetGlobalKey",Js.store="targetGlobal",tu.store="collectionParents",tu.keyPath=["collectionId","parent"],eu.store="clientMetadata",eu.keyPath="clientId",nu.store="bundles",nu.keyPath="bundleId",ru.store="namedQueries",ru.keyPath="name";var iu,ou=s(s([],s(s([],s(s([],s(s([],[zs.store,Xs.store,Ys.store,Zs.store,Qs.store,js.store,Js.store,$s.store]),[eu.store])),[Ws.store])),[tu.store])),[nu.store,ru.store]),au="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",su=(D=(wu.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},wu.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},wu),function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}),uu=(yu.prototype.catch=function(t){return this.next(void 0,t)},yu.prototype.next=function(t,e){var n=this;return this.callbackAttached&&zr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new yu(function(r,i){n.nextCallback=function(e){n.wrapSuccess(t,e).next(r,i)},n.catchCallback=function(t){n.wrapFailure(e,t).next(r,i)}})},yu.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},yu.prototype.wrapUserFunction=function(t){try{var e=t();return e instanceof yu?e:yu.resolve(e)}catch(t){return yu.reject(t)}},yu.prototype.wrapSuccess=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):yu.resolve(e)},yu.prototype.wrapFailure=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):yu.reject(e)},yu.resolve=function(t){return new yu(function(e,n){e(t)})},yu.reject=function(t){return new yu(function(e,n){n(t)})},yu.waitFor=function(t){return new yu(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(t){return n(t)})}),o=!0,i===r&&e()})},yu.or=function(t){for(var e=yu.resolve(!1),n=0,r=t;n<r.length;n++)!function(t){e=e.next(function(e){return e?yu.resolve(e):t()})}(r[n]);return e},yu.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},yu),cu=(gu.open=function(t,e,n,r){try{return new gu(e,t.transaction(r,n))}catch(t){throw new hu(e,t)}},Object.defineProperty(gu.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),gu.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Ur("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},gu.prototype.store=function(t){return t=this.transaction.objectStore(t),new bu(t)},gu),lu=(mu.delete=function(t){return Ur("SimpleDb","Removing database:",t),_u(window.indexedDB.deleteDatabase(t)).toPromise()},mu.yt=function(){if("undefined"==typeof indexedDB)return!1;if(mu.gt())return!0;var t=f(),e=0<(n=mu._t(t))&&n<10,n=0<(n=mu.Et(t))&&n<4.5;return!(0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||e||n)},mu.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},mu.It=function(t,e){return t.store(e)},mu._t=function(t){return t=(t=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i))?t[1].split("_").slice(0,2).join("."):"-1",Number(t)},mu.Et=function(t){return t=(t=t.match(/Android ([\d.]+)/i))?t[1].split(".").slice(0,2).join("."):"-1",Number(t)},mu.prototype.At=function(t){return o(this,void 0,void 0,function(){var e,n=this;return a(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Ur("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){t=t.target.result,e(t)},i.onblocked=function(){r(new hu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){"VersionError"===(e=e.target.error).name?r(new Pr(Lr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new hu(t,e))},i.onupgradeneeded=function(t){Ur("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next(function(){Ur("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},mu.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},mu.prototype.runTransaction=function(t,e,n,r){return o(this,void 0,void 0,function(){var i,o,s,u;return a(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,u=function(){var e,u,c;return a(this,function(a){switch(a.label){case 0:++o,a.label=1;case 1:return a.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=a.sent(),e=cu.open(s.db,t,i?"readonly":"readwrite",n),u=r(e).catch(function(t){return e.abort(t),uu.reject(t)}).toPromise(),c={},u.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(a.sent(),u),c)];case 4:return u=a.sent(),c="FirebaseError"!==u.name&&o<3,Ur("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),s.close(),c?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,u()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},mu.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},mu),fu=(Object.defineProperty(pu.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(pu.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(pu.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),pu.prototype.done=function(){this.Vt=!0},pu.prototype.Ct=function(t){this.St=t},pu.prototype.delete=function(){return _u(this.Pt.delete())},pu),hu=(r(du,iu=Pr),du);function du(t,e){var n=this;return(n=iu.call(this,Lr.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+e)||this).name="IndexedDbTransactionError",n}function pu(t){this.Pt=t,this.Vt=!1,this.St=null}function mu(t,e,n){this.name=t,this.version=e,this.wt=n,12.2===mu._t(f())&&Vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function gu(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new su,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new hu(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){e=Eu(e.target.error),n.ft.reject(new hu(t,e))}}function yu(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}function wu(){this.onCommittedListeners=[]}function vu(t){return"IndexedDbTransactionError"===t.name}var bu=(ku.prototype.put=function(t,e){return _u(t=void 0!==e?(Ur("SimpleDb","PUT",this.store.name,t,e),this.store.put(e,t)):(Ur("SimpleDb","PUT",this.store.name,"<auto-key>",t),this.store.put(t)))},ku.prototype.add=function(t){return Ur("SimpleDb","ADD",this.store.name,t,t),_u(this.store.add(t))},ku.prototype.get=function(t){var e=this;return _u(this.store.get(t)).next(function(n){return Ur("SimpleDb","GET",e.store.name,t,n=void 0===n?null:n),n})},ku.prototype.delete=function(t){return Ur("SimpleDb","DELETE",this.store.name,t),_u(this.store.delete(t))},ku.prototype.count=function(){return Ur("SimpleDb","COUNT",this.store.name),_u(this.store.count())},ku.prototype.Nt=function(t,e){e=this.cursor(this.options(t,e));var n=[];return this.xt(e,function(t,e){n.push(e)}).next(function(){return n})},ku.prototype.kt=function(t,e){return Ur("SimpleDb","DELETE ALL",this.store.name),(e=this.options(t,e)).Ft=!1,e=this.cursor(e),this.xt(e,function(t,e,n){return n.delete()})},ku.prototype.$t=function(t,e){e?n=t:(n={},e=t);var n=this.cursor(n);return this.xt(n,e)},ku.prototype.Ot=function(t){var e=this.cursor({});return new uu(function(n,r){e.onerror=function(t){t=Eu(t.target.error),r(t)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},ku.prototype.xt=function(t,e){var n=[];return new uu(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i,o=t.target.result;o?(i=new fu(o),(t=e(o.primaryKey,o.value,i))instanceof uu&&(t=t.catch(function(t){return i.done(),uu.reject(t)}),n.push(t)),i.isDone?r():null===i.Dt?o.continue():o.continue(i.Dt)):r()}}).next(function(){return uu.waitFor(n)})},ku.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},ku.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},ku);function ku(t){this.store=t}function _u(t){return new uu(function(e,n){t.onsuccess=function(t){t=t.target.result,e(t)},t.onerror=function(t){t=Eu(t.target.error),n(t)}})}var Iu=!1;function Eu(t){var e=lu._t(f());if(12.2<=e&&e<13&&(e="An internal error was encountered in the Indexed Database server",0<=t.message.indexOf(e))){var n=new Pr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Iu||(Iu=!0,setTimeout(function(){throw n},0)),n}return t}var xu,Tu=(r(Su,xu=D),Su);function Su(t,e){var n=this;return(n=xu.call(this)||this).Mt=t,n.currentSequenceNumber=e,n}function Ou(t,e){return lu.It(t.Mt,e)}var Cu=(Pu.prototype.applyToRemoteDocument=function(t,e){for(var n,r,i,o,a,s,u=e.mutationResults,c=0;c<this.mutations.length;c++){var l=this.mutations[c];l.key.isEqual(t.key)&&(n=l,r=t,i=u[c],l=s=a=o=void 0,n instanceof ya?(a=r,s=i,l=(o=n).value.clone(),o=_a(o.fieldTransforms,a,s.transformResults),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()):n instanceof wa?(o=r,a=i,fa((s=n).precondition,o)?(l=_a(s.fieldTransforms,o,a.transformResults),(n=o.data).setAll(ka(s)),n.setAll(l),o.convertToFoundDocument(a.version,n).setHasCommittedMutations()):o.convertToUnknownDocument(a.version)):r.convertToNoDocument(i.version).setHasCommittedMutations())}},Pu.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(r=n[e]).key.isEqual(t.key)&&ha(r,t,this.localWriteTime);for(var r,i=0,o=this.mutations;i<o.length;i++)(r=o[i]).key.isEqual(t.key)&&ha(r,t,this.localWriteTime)},Pu.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key);n=r;e.applyToLocalView(n),r.isValidDocument()||n.convertToNoDocument(Qr.min())})},Pu.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Za())},Pu.prototype.isEqual=function(t){return this.batchId===t.batchId&&Gr(this.mutations,t.mutations,da)&&Gr(this.baseMutations,t.baseMutations,da)},Pu),Du=(Lu.from=function(t,e,n){Xr(t.mutations.length===n.length);for(var r=Ka,i=t.mutations,o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Lu(t,e,n,r)},Lu),Au=(Ru.prototype.withSequenceNumber=function(t){return new Ru(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},Ru.prototype.withResumeToken=function(t,e){return new Ru(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},Ru.prototype.withLastLimboFreeSnapshotVersion=function(t){return new Ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},Ru),Nu=function(t){this.Lt=t};function Ru(t,e,n,r,i,o,a){void 0===i&&(i=Qr.min()),void 0===o&&(o=Qr.min()),void 0===a&&(a=ci.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}function Lu(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}function Pu(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}function Bu(t,e){if(e.document)return xs(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ei.fromSegments(e.noDocument.path),r=ju(e.noDocument.readTime);n=ji.newNoDocument(n,r);return e.hasCommittedMutations?n.setHasCommittedMutations():n}return e.unknownDocument?(n=Ei.fromSegments(e.unknownDocument.path),r=ju(e.unknownDocument.version),ji.newUnknownDocument(n,r)):zr()}function Mu(t,e,n){var r=Fu(n);n=e.key.path.popLast().toArray();if(e.isFoundDocument()){var i={name:ws(o=t.Lt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:ds(o,a.version.toTimestamp())},o=e.hasCommittedMutations;return new Zs(null,null,i,o,r,n)}if(e.isNoDocument()){var a=e.key.path.toArray();i=Vu(e.version),o=e.hasCommittedMutations;return new Zs(null,new Ks(a,i),null,o,r,n)}return e.isUnknownDocument()?(o=e.key.path.toArray(),e=Vu(e.version),new Zs(new Gs(o,e),null,null,!0,r,n)):zr()}function Fu(t){return[(t=t.toTimestamp()).seconds,t.nanoseconds]}function Uu(t){return t=new Wr(t[0],t[1]),Qr.fromTimestamp(t)}function Vu(t){return t=t.toTimestamp(),new qs(t.seconds,t.nanoseconds)}function ju(t){return t=new Wr(t.seconds,t.nanoseconds),Qr.fromTimestamp(t)}function qu(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Ss(t.Lt,e)}),r=0;r<e.mutations.length-1;++r){var i,o=e.mutations[r];r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(i=e.mutations[r+1],o.updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r+1,1),++r)}var a=e.mutations.map(function(e){return Ss(t.Lt,e)}),s=Wr.fromMillis(e.localWriteTimeMs);return new Cu(e.batchId,s,n,a)}function zu(t){var e=ju(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?ju(t.lastLimboFreeSnapshotVersion):Qr.min(),r=void 0!==t.query.documents?(Xr(1===(r=t.query).documents.length),Lo(So(ks(r.documents[0])))):Lo(Ds(t.query));return new Au(r,t.targetId,0,t.lastListenSequenceNumber,e,n,ci.fromBase64String(t.resumeToken))}function Xu(t,e){var n=Vu(e.snapshotVersion),r=Vu(e.lastLimboFreeSnapshotVersion),i=(Ki(e.target)?Os:Cs)(t.Lt,e.target);t=e.resumeToken.toBase64();return new Qs(e.targetId,Yi(e.target),n,t,e.sequenceNumber,r,i)}function Yu(t){var e=Ds({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Po(e,e.limit,"L"):e}var Hu=(Ku.prototype.getBundleMetadata=function(t,e){return Gu(t).get(e).next(function(t){if(t)return{id:(t=t).bundleId,createTime:ju(t.createTime),version:t.version}})},Ku.prototype.saveBundleMetadata=function(t,e){return Gu(t).put({bundleId:(e=e).id,createTime:Vu(ms(e.createTime)),version:e.version})},Ku.prototype.getNamedQuery=function(t,e){return Zu(t).get(e).next(function(t){if(t)return{name:(t=t).name,query:Yu(t.bundledQuery),readTime:ju(t.readTime)}})},Ku.prototype.saveNamedQuery=function(t,e){return Zu(t).put({name:(e=e).name,readTime:Vu(ms(e.readTime)),bundledQuery:e.bundledQuery})},Ku);function Ku(){}function Gu(t){return Ou(t,nu.store)}function Zu(t){return Ou(t,ru.store)}var Wu=(ec.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),uu.resolve()},ec.prototype.getCollectionParents=function(t,e){return uu.resolve(this.Bt.getEntries(e))},ec),Qu=(tc.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ja(oi.comparator);t=!r.has(n);return this.index[e]=r.add(n),t},tc.prototype.has=function(t){var e=t.lastSegment();t=t.popLast();return(e=this.index[e])&&e.has(t)},tc.prototype.getEntries=function(t){return(this.index[t]||new ja(oi.comparator)).toArray()},tc),$u=(Ju.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(this.qt.has(e))return uu.resolve();var r=e.lastSegment(),i=e.popLast();return t.addOnCommittedListener(function(){n.qt.add(e)}),i={collectionId:r,parent:Fs(i)},nc(t).put(i)},Ju.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Zr(e),""],!1,!0);return nc(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Vs(o.parent))}return n})},Ju);function Ju(){this.qt=new Qu}function tc(){this.index={}}function ec(){this.Bt=new Qu}function nc(t){return Ou(t,tu.store)}var rc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ic=(oc.withCacheSize=function(t){return new oc(t,oc.DEFAULT_COLLECTION_PERCENTILE,oc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},oc);function oc(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}function ac(t,e,n){var r=t.store(Xs.store),i=t.store(Ys.store),o=[],a=(t=IDBKeyRange.only(n.batchId),0);t=r.$t({range:t},function(t,e,n){return a++,n.delete()});o.push(t.next(function(){Xr(1===a)}));for(var s=[],u=0,c=n.mutations;u<c.length;u++){var l=c[u],f=Ys.key(e,l.key.path,n.batchId);o.push(i.delete(f)),s.push(l.key)}return uu.waitFor(o).next(function(){return s})}function sc(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw zr();e=t.noDocument}return JSON.stringify(e).length}ic.DEFAULT_COLLECTION_PERCENTILE=10,ic.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ic.DEFAULT=new ic(41943040,ic.DEFAULT_COLLECTION_PERCENTILE,ic.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ic.DISABLED=new ic(-1,0,0);var uc=(cc.Qt=function(t,e,n,r){return Xr(""!==t.uid),new cc(t.isAuthenticated()?t.uid:"",e,n,r)},cc.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fc(t).$t({index:Xs.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},cc.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=hc(t),a=fc(t);return a.add({}).next(function(s){Xr("number"==typeof s);for(var u,c,l,f,h,d=new Cu(s,e,n,r),p=(u=i.R,c=i.userId,f=(l=d).baseMutations.map(function(t){return Ts(u.Lt,t)}),h=l.mutations.map(function(t){return Ts(u.Lt,t)}),new Xs(c,l.batchId,l.localWriteTime.toMillis(),f,h)),m=[],g=new ja(function(t,e){return Kr(t.canonicalString(),e.canonicalString())}),y=0,w=r;y<w.length;y++){var v=w[y],b=Ys.key(i.userId,v.key.path,s);g=g.add(v.key.path.popLast());m.push(a.put(p)),m.push(o.put(b,Ys.PLACEHOLDER))}return g.forEach(function(e){m.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[s]=d.keys()}),uu.waitFor(m).next(function(){return d})})},cc.prototype.lookupMutationBatch=function(t,e){var n=this;return fc(t).get(e).next(function(t){return t?(Xr(t.userId===n.userId),qu(n.R,t)):null})},cc.prototype.jt=function(t,e){var n=this;return this.Kt[e]?uu.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){return t?(t=t.keys(),n.Kt[e]=t):null})},cc.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=(e=IDBKeyRange.lowerBound([this.userId,r]),null);return fc(t).$t({index:Xs.userMutationsIndex,range:e},function(t,e,o){e.userId===n.userId&&(Xr(e.batchId>=r),i=qu(n.R,e)),o.done()}).next(function(){return i})},cc.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return fc(t).$t({index:Xs.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},cc.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fc(t).Nt(Xs.userMutationsIndex,n).next(function(t){return t.map(function(t){return qu(e.R,t)})})},cc.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Ys.prefixForPath(this.userId,e.path),i=(r=IDBKeyRange.lowerBound(r),[]);return hc(t).$t({range:r},function(r,o,a){var s=r[0],u=r[1];r=r[2],u=Vs(u);if(s===n.userId&&e.path.isEqual(u))return fc(t).get(r).next(function(t){if(!t)throw zr();Xr(t.userId===n.userId),i.push(qu(n.R,t))});a.done()}).next(function(){return i})},cc.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ja(Kr),i=[];return e.forEach(function(e){var o=Ys.prefixForPath(n.userId,e.path);o=IDBKeyRange.lowerBound(o),o=hc(t).$t({range:o},function(t,i,o){var a=t[0],s=t[1];t=t[2],s=Vs(s);a===n.userId&&e.path.isEqual(s)?r=r.add(t):o.done()});i.push(o)}),uu.waitFor(i).next(function(){return n.Wt(t,r)})},cc.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=(e=Ys.prefixForPath(this.userId,r),e=IDBKeyRange.lowerBound(e),new ja(Kr));return hc(t).$t({range:e},function(t,e,a){var s=t[0],u=t[1];t=t[2],u=Vs(u);s===n.userId&&r.isPrefixOf(u)?u.length===i&&(o=o.add(t)):a.done()}).next(function(){return n.Wt(t,o)})},cc.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(fc(t).get(e).next(function(t){if(null===t)throw zr();Xr(t.userId===n.userId),r.push(qu(n.R,t))}))}),uu.waitFor(i).next(function(){return r})},cc.prototype.removeMutationBatch=function(t,e){var n=this;return ac(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),uu.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},cc.prototype.Gt=function(t){delete this.Kt[t]},cc.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return uu.resolve();n=IDBKeyRange.lowerBound(Ys.prefixForUser(e.userId));var r=[];return hc(t).$t({range:n},function(t,n,i){t[0]===e.userId?(t=Vs(t[1]),r.push(t)):i.done()}).next(function(){Xr(0===r.length)})})},cc.prototype.containsKey=function(t,e){return lc(t,this.userId,e)},cc.prototype.zt=function(t){var e=this;return dc(t).get(this.userId).next(function(t){return t||new zs(e.userId,-1,"")})},cc);function cc(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}function lc(t,e,n){var r=(n=Ys.prefixForPath(e,n.path))[1],i=(n=IDBKeyRange.lowerBound(n),!1);return hc(t).$t({range:n,Ft:!0},function(t,n,o){var a=t[0],s=t[1];t[2],a===e&&s===r&&(i=!0),o.done()}).next(function(){return i})}function fc(t){return Ou(t,Xs.store)}function hc(t){return Ou(t,Ys.store)}function dc(t){return Ou(t,zs.store)}var pc=(yc.prototype.next=function(){return this.Ht+=2,this.Ht},yc.Jt=function(){return new yc(0)},yc.Yt=function(){return new yc(-1)},yc),mc=(gc.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new pc(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},gc.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Qr.fromTimestamp(new Wr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},gc.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},gc.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},gc.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},gc.prototype.updateTargetData=function(t,e){return this.te(t,e)},gc.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return wc(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Xr(0<e.targetCount),--e.targetCount,n.Zt(t,e)})},gc.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return wc(t).$t(function(a,s){(s=zu(s)).sequenceNumber<=e&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(t,s)))}).next(function(){return uu.waitFor(o)}).next(function(){return i})},gc.prototype.forEachTarget=function(t,e){return wc(t).$t(function(t,n){n=zu(n),e(n)})},gc.prototype.Xt=function(t){return vc(t).get(Js.key).next(function(t){return Xr(null!==t),t})},gc.prototype.Zt=function(t,e){return vc(t).put(Js.key,e)},gc.prototype.te=function(t,e){return wc(t).put(Xu(this.R,e))},gc.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},gc.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},gc.prototype.getTargetData=function(t,e){var n=Yi(e),r=(n=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),null);return wc(t).$t({range:n,index:Qs.queryTargetsIndexName},function(t,n,i){n=zu(n),Hi(e,n.target)&&(r=n,i.done())}).next(function(){return r})},gc.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=bc(t);return e.forEach(function(e){var a=Fs(e.path);i.push(o.put(new $s(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))}),uu.waitFor(i)},gc.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=bc(t);return uu.forEach(e,function(e){var o=Fs(e.path);return uu.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},gc.prototype.removeMatchingKeysForTargetId=function(t,e){return t=bc(t),e=IDBKeyRange.bound([e],[e+1],!1,!0),t.delete(e)},gc.prototype.getMatchingKeysForTargetId=function(t,e){e=IDBKeyRange.bound([e],[e+1],!1,!0),t=bc(t);var n=Za();return t.$t({range:e,Ft:!0},function(t,e,r){t=Vs(t[1]),t=new Ei(t),n=n.add(t)}).next(function(){return n})},gc.prototype.containsKey=function(t,e){e=Fs(e.path),e=IDBKeyRange.bound([e],[Zr(e)],!1,!0);var n=0;return bc(t).$t({index:$s.documentTargetsIndex,Ft:!0,range:e},function(t,e,r){var i=t[0];t[1],0!==i&&(n++,r.done())}).next(function(){return 0<n})},gc.prototype.lt=function(t,e){return wc(t).get(e).next(function(t){return t?zu(t):null})},gc);function gc(t,e){this.referenceDelegate=t,this.R=e}function yc(t){this.Ht=t}function wc(t){return Ou(t,Qs.store)}function vc(t){return Ou(t,Js.store)}function bc(t){return Ou(t,$s.store)}function kc(t){return o(this,void 0,void 0,function(){return a(this,function(e){if(t.code!==Lr.FAILED_PRECONDITION||t.message!==au)throw t;return Ur("LocalStore","Unexpectedly lost primary lease"),[2]})})}function _c(t,e){var n=t[0],r=t[1];t=e[0],e=e[1];return 0===(t=Kr(n,t))?Kr(r,e):t}var Ic=(Dc.prototype.ie=function(){return++this.se},Dc.prototype.re=function(t){var e=[t,this.ie()];this.buffer.size<this.ne?this.buffer=this.buffer.add(e):_c(e,t=this.buffer.last())<0&&(this.buffer=this.buffer.delete(t).add(e))},Object.defineProperty(Dc.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),Dc),Ec=(Cc.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},Cc.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(Cc.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),Cc.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Ur("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return o(e,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return vu(e=n.sent())?(Ur("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,kc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},Cc),xc=(Oc.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},Oc.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return uu.resolve(Ar.o);var r=new Ic(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},Oc.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},Oc.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},Oc.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ur("LruGarbageCollector","Garbage collection skipped; disabled"),uu.resolve(rc)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Ur("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),rc):n.fe(t,e)})},Oc.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},Oc.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return r=e>c.params.maximumSequenceNumbersToCollect?(Ur("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),c.params.maximumSequenceNumbersToCollect):e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Fr()<=w.DEBUG&&Ur("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),uu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},Oc),Tc=(Sc.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},Sc.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},Sc.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},Sc.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},Sc.prototype.addReference=function(t,e,n){return Ac(t,n)},Sc.prototype.removeReference=function(t,e,n){return Ac(t,n)},Sc.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},Sc.prototype.markPotentiallyOrphaned=Ac,Sc.prototype._e=function(t,e){return r=e,i=!1,dc(n=t).Ot(function(t){return lc(n,t,r).next(function(t){return t&&(i=!0),uu.resolve(!t)})}).next(function(){return i});var n,r,i},Sc.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(a,s){s<=e&&(s=n._e(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),bc(t).delete([0,Fs(a.path)])})}),i.push(s))}).next(function(){return uu.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},Sc.prototype.removeTarget=function(t,e){return e=e.withSequenceNumber(t.currentSequenceNumber),this.db.getTargetCache().updateTargetData(t,e)},Sc.prototype.updateLimboDocument=Ac,Sc.prototype.we=function(t,e){t=bc(t);var n,r=Ar.o;return t.$t({index:$s.documentTargetsIndex},function(t,i){var o=t[0];t[1],t=i.path,i=i.sequenceNumber,0===o?(r!==Ar.o&&e(new Ei(Vs(n)),r),r=i,n=t):r=Ar.o}).next(function(){r!==Ar.o&&e(new Ei(Vs(n)),r)})},Sc.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},Sc);function Sc(t,e){this.db=t,this.garbageCollector=new xc(this,e)}function Oc(t,e){this.ae=t,this.params=e}function Cc(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}function Dc(t){this.ne=t,this.buffer=new ja(_c),this.se=0}function Ac(t,e){return bc(t).put((t=t.currentSequenceNumber,new $s(0,Fs(e.path),t)))}var Nc,Rc=(Uc.prototype.get=function(t){var e=this.mapKeyFn(t);if(void 0!==(e=this.inner[e]))for(var n=0,r=e;n<r.length;n++){var i=(o=r[n])[0],o=o[1];if(this.equalsFn(i,t))return o}},Uc.prototype.has=function(t){return void 0!==this.get(t)},Uc.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},Uc.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},Uc.prototype.forEach=function(t){ei(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=(a=i[r])[0],a=a[1];t(o,a)}})},Uc.prototype.isEmpty=function(){return ni(this.inner)},Uc),Lc=(x=(Fc.prototype.getReadTime=function(t){return(t=this.changes.get(t))?t.readTime:Qr.min()},Fc.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},Fc.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:ji.newInvalidDocument(t),readTime:e})},Fc.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?uu.resolve(n.document):this.getFromCache(t,e)},Fc.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},Fc.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},Fc.prototype.assertNotApplied=function(){},Fc),Mc.prototype.addEntry=function(t,e,n){return jc(t).put(qc(e),n)},Mc.prototype.removeEntry=function(t,e){return t=jc(t),e=qc(e),t.delete(e)},Mc.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},Mc.prototype.getEntry=function(t,e){var n=this;return jc(t).get(qc(e)).next(function(t){return n.ye(e,t)})},Mc.prototype.ge=function(t,e){var n=this;return jc(t).get(qc(e)).next(function(t){return{document:n.ye(e,t),size:sc(t)}})},Mc.prototype.getEntries=function(t,e){var n=this,r=za;return this.pe(t,e,function(t,e){e=n.ye(t,e),r=r.insert(t,e)}).next(function(){return r})},Mc.prototype.Ee=function(t,e){var n=this,r=za,i=new La(Ei.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,sc(e))}).next(function(){return{documents:r,Te:i}})},Mc.prototype.pe=function(t,e,n){if(e.isEmpty())return uu.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return jc(t).$t({range:r},function(t,e,r){for(var a=Ei.fromSegments(t);o&&Ei.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},Mc.prototype.getDocumentsMatchingQuery=function(t,e,n){var r,i=this,o=za,a=e.path.length+1,s={};return n.isEqual(Qr.min())?(r=e.path.toArray(),s.range=IDBKeyRange.lowerBound(r)):(r=e.path.toArray(),n=Fu(n),s.range=IDBKeyRange.lowerBound([r,n],!0),s.index=Zs.collectionReadTimeIndex),jc(t).$t(s,function(t,n,r){t.length===a&&(n=Bu(i.R,n),e.path.isPrefixOf(n.key.path)?Uo(e,n)&&(o=o.insert(n.key,n)):r.done())}).next(function(){return o})},Mc.prototype.newChangeBuffer=function(t){return new Pc(this,!!t&&t.trackRemovals)},Mc.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},Mc.prototype.getMetadata=function(t){return Vc(t).get(Ws.key).next(function(t){return Xr(!!t),t})},Mc.prototype.me=function(t,e){return Vc(t).put(Ws.key,e)},Mc.prototype.ye=function(t,e){return!e||(e=Bu(this.R,e)).isNoDocument()&&e.version.isEqual(Qr.min())?ji.newInvalidDocument(t):e},Mc),Pc=(r(Bc,Nc=x),Bc.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new ja(function(t,e){return Kr(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var s,u=e.Ae.get(o);a.document.isValidDocument()?(s=Mu(e.Ie.R,a.document,e.getReadTime(o)),i=i.add(o.path.popLast()),a=sc(s),r+=a-u,n.push(e.Ie.addEntry(t,o,s))):(r-=u,e.trackRemovals?(u=Mu(e.Ie.R,ji.newNoDocument(o,Qr.min()),e.getReadTime(o)),n.push(e.Ie.addEntry(t,o,u))):n.push(e.Ie.removeEntry(t,o)))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),uu.waitFor(n)},Bc.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},Bc.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},Bc);function Bc(t,e){var n=this;return(n=Nc.call(this)||this).Ie=t,n.trackRemovals=e,n.Ae=new Rc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),n}function Mc(t,e){this.R=t,this.Ut=e}function Fc(){this.changes=new Rc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}function Uc(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}function Vc(t){return Ou(t,Ws.store)}function jc(t){return Ou(t,Zs.store)}function qc(t){return t.path.toArray()}var zc=(Xc.prototype.Rt=function(t,e,n,r){var i=this;Xr(n<r&&0<=n&&r<=11);var o=new cu("createOrUpgrade",e);n<1&&1<=r&&(t.createObjectStore(js.store),(a=t).createObjectStore(zs.store,{keyPath:zs.keyPath}),a.createObjectStore(Xs.store,{keyPath:Xs.keyPath,autoIncrement:!0}).createIndex(Xs.userMutationsIndex,Xs.userMutationsKeyPath,{unique:!0}),a.createObjectStore(Ys.store),Yc(t),t.createObjectStore(Zs.store));var a,s=uu.resolve();return n<3&&3<=r&&(0!==n&&((a=t).deleteObjectStore($s.store),a.deleteObjectStore(Qs.store),a.deleteObjectStore(Js.store),Yc(t)),s=s.next(function(){return t=o.store(Js.store),e=new Js(0,0,Qr.min().toTimestamp(),0),t.put(Js.key,e);var t,e})),n<4&&4<=r&&(s=(s=0!==n?s.next(function(){return e=t,(n=o).store(Xs.store).Nt().next(function(t){e.deleteObjectStore(Xs.store),e.createObjectStore(Xs.store,{keyPath:Xs.keyPath,autoIncrement:!0}).createIndex(Xs.userMutationsIndex,Xs.userMutationsKeyPath,{unique:!0});var r=n.store(Xs.store);t=t.map(function(t){return r.put(t)});return uu.waitFor(t)});var e,n}):s).next(function(){t.createObjectStore(eu.store,{keyPath:eu.keyPath})})),n<5&&5<=r&&(s=s.next(function(){return i.Re(o)})),n<6&&6<=r&&(s=s.next(function(){return t.createObjectStore(Ws.store),i.be(o)})),n<7&&7<=r&&(s=s.next(function(){return i.ve(o)})),n<8&&8<=r&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&9<=r&&(s=s.next(function(){var n;(n=t).objectStoreNames.contains("remoteDocumentChanges")&&n.deleteObjectStore("remoteDocumentChanges"),(n=e.objectStore(Zs.store)).createIndex(Zs.readTimeIndex,Zs.readTimeIndexPath,{unique:!1}),n.createIndex(Zs.collectionReadTimeIndex,Zs.collectionReadTimeIndexPath,{unique:!1})})),n<10&&10<=r&&(s=s.next(function(){return i.Ve(o)})),n<11&&11<=r?s.next(function(){t.createObjectStore(nu.store,{keyPath:nu.keyPath}),t.createObjectStore(ru.store,{keyPath:ru.keyPath})}):s},Xc.prototype.be=function(t){var e=0;return t.store(Zs.store).$t(function(t,n){e+=sc(n)}).next(function(){var n=new Ws(e);return t.store(Ws.store).put(Ws.key,n)})},Xc.prototype.Re=function(t){var e=this,n=t.store(zs.store),r=t.store(Xs.store);return n.Nt().next(function(n){return uu.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Xs.userMutationsIndex,i).next(function(r){return uu.forEach(r,function(r){return Xr(r.userId===n.userId),r=qu(e.R,r),ac(t,n.userId,r).next(function(){})})})})})},Xc.prototype.ve=function(t){var e=t.store($s.store),n=t.store(Zs.store);return t.store(Js.store).get(Js.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new oi(n);n=[0,Fs(o)];r.push(e.get(n).next(function(n){return n?uu.resolve():e.put(new $s(0,Fs(o),t.highestListenSequenceNumber))}))}).next(function(){return uu.waitFor(r)})})},Xc.prototype.Pe=function(t,e){function n(t){if(i.add(t)){var e=t.lastSegment();t=t.popLast();return r.put({collectionId:e,parent:Fs(t)})}}t.createObjectStore(tu.store,{keyPath:tu.keyPath});var r=e.store(tu.store),i=new Qu;return e.store(Zs.store).$t({Ft:!0},function(t,e){return n((t=new oi(t)).popLast())}).next(function(){return e.store(Ys.store).$t({Ft:!0},function(t,e){t[0];var r=t[1];return t[2],n((r=Vs(r)).popLast())})})},Xc.prototype.Ve=function(t){var e=this,n=t.store(Qs.store);return n.$t(function(t,r){return r=zu(r),r=Xu(e.R,r),n.put(r)})},Xc);function Xc(t){this.R=t}function Yc(t){t.createObjectStore($s.store,{keyPath:$s.keyPath}).createIndex($s.documentTargetsIndex,$s.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Qs.store,{keyPath:Qs.keyPath}).createIndex(Qs.queryTargetsIndexName,Qs.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Js.store)}var Hc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Kc=(Gc.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Pr(Lr.FAILED_PRECONDITION,Hc);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Ar(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},Gc.prototype.He=function(t){var e=this;return this.Me=function(n){return o(e,void 0,void 0,function(){return a(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},Gc.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return o(e,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},Gc.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return o(e,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},Gc.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Wc(e).put(new eu(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(vu(e))return Ur("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ur("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},Gc.prototype.Je=function(t){var e=this;return Zc(t).get(js.key).next(function(t){return uu.resolve(e.tn(t))})},Gc.prototype.en=function(t){return Wc(t).delete(this.clientId)},Gc.prototype.nn=function(){return o(this,void 0,void 0,function(){var t,e,n,r,i=this;return a(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Ou(t,eu.store);return e.Nt().next(function(t){var n=i.rn(t,18e5),r=t.filter(function(t){return-1===n.indexOf(t)});return uu.forEach(r,function(t){return e.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(t=o.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)r=n[e],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}})})},Gc.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},Gc.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},Gc.prototype.Ye=function(t){var e=this;return this.Ce?uu.resolve(!0):Zc(t).get(js.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Pr(Lr.FAILED_PRECONDITION,Hc);return!1}}return!(!e.networkEnabled||!e.inForeground)||Wc(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground;t=e.networkEnabled===t.networkEnabled;if(n||r&&t)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&Ur("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},Gc.prototype.shutdown=function(){return o(this,void 0,void 0,function(){var t=this;return a(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[js.store,eu.store],function(e){var n=new Tu(e,Ar.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},Gc.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},Gc.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Wc(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(Gc.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),Gc.prototype.getMutationQueue=function(t){return uc.Qt(t,this.R,this.Ut,this.referenceDelegate)},Gc.prototype.getTargetCache=function(){return this.qe},Gc.prototype.getRemoteDocumentCache=function(){return this.Ue},Gc.prototype.getIndexManager=function(){return this.Ut},Gc.prototype.getBundleCache=function(){return this.Ke},Gc.prototype.runTransaction=function(t,e,n){var r,i=this;return Ur("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",ou,function(o){return r=new Tu(o,i.Ne?i.Ne.next():Ar.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Vr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Pr(Lr.FAILED_PRECONDITION,au);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},Gc.prototype.dn=function(t){var e=this;return Zc(t).get(js.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Pr(Lr.FAILED_PRECONDITION,Hc)})},Gc.prototype.Ze=function(t){var e=new js(this.clientId,this.allowTabSynchronization,Date.now());return Zc(t).put(js.key,e)},Gc.yt=function(){return lu.yt()},Gc.prototype.Xe=function(t){var e=this,n=Zc(t);return n.get(js.key).next(function(t){return e.tn(t)?(Ur("IndexedDbPersistence","Releasing primary lease."),n.delete(js.key)):uu.resolve()})},Gc.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(Vr("Detected an update time that is in the future: "+t+" > "+n),1))},Gc.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},Gc.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},Gc.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),!function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},Gc.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},Gc.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Ur("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Vr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},Gc.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Vr("Failed to set zombie client id.",t)}},Gc.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},Gc.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},Gc);function Gc(t,e,n,r,i,o,a,s,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Se=i,this.window=o,this.document=a,this.De=u,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!Gc.yt())throw new Pr(Lr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Tc(this,r),this.Le=e+"main",this.R=new Nu(s),this.Be=new lu(this.Le,11,new zc(this.R)),this.qe=new mc(this.referenceDelegate,this.R),this.Ut=new $u,this.Ue=(e=this.R,s=this.Ut,new Lc(e,s)),this.Ke=new Hu,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===c&&Vr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function Zc(t){return Ou(t,js.store)}function Wc(t){return Ou(t,eu.store)}function Qc(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}function $c(t,e){this.progress=t,this.wn=e}var Jc=(al.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},al.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},al.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},al.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},al.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},al.prototype.getDocumentsMatchingQuery=function(t,e,n){return r=e,Ei.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(t,e.path):No(e)?this.In(t,e,n):this.An(t,e,n);var r},al.prototype.Tn=function(t,e){return this.mn(t,new Ei(e)).next(function(t){var e=Ha;return t.isFoundDocument()?e.insert(t.key,t):e})},al.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Ha;return this.Ut.getCollectionParents(t,i).next(function(a){return uu.forEach(a,function(a){var s=(s=e,a=a.child(i),new xo(a,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.An(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},al.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return i=e,o.Rn(t,i,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=ji.newInvalidDocument(c),r=r.insert(c,l)),ha(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Uo(e,n)||(r=r.remove(t))}),r})},al.prototype.Rn=function(t,e,n){for(var r=Za(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof wa&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},al),tl=(ol.Pn=function(t,e){for(var n=Za(),r=Za(),i=0,o=e.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new ol(t,e.fromCache,n,r)},ol),el=(il.prototype.Vn=function(t){this.Sn=t},il.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())||n.isEqual(Qr.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var a=i.Cn(e,o);return(Oo(e)||Co(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(Fr()<=w.DEBUG&&Ur("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Fo(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},il.prototype.Cn=function(t,e){var n=new ja(Vo(t));return e.forEach(function(e,r){Uo(t,r)&&(n=n.add(r))}),n},il.prototype.Nn=function(t,e,n,r){return n.size!==e.size||!!(e="F"===t?e.last():e.first())&&(e.hasPendingWrites||0<e.version.compareTo(r))},il.prototype.Dn=function(t,e){return Fr()<=w.DEBUG&&Ur("QueryEngine","Using full collection scan to execute query:",Fo(e)),this.Sn.getDocumentsMatchingQuery(t,e,Qr.min())},il),nl=(rl.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.kn)})},rl);function rl(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new La(Kr),this.Fn=new Rc(Yi,Hi),this.$n=Qr.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Jc(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}function il(){}function ol(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}function al(t,e,n){this.Ue=t,this._n=e,this.Ut=n}function sl(t,e,n,r){return new nl(t,e,n,r)}function ul(t,e){return o(this,void 0,void 0,function(){var n,r,i,o;return a(this,function(a){switch(a.label){case 0:return r=(n=t)._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new Jc(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],a=Za(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=e;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var g=0,y=m.mutations;g<y.length;g++){var w=y[g];a=a.add(w.key)}}return i.pn(t,a).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function cl(t,e){var n=t;return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r,i,o,a,s,u,c,l=e.batch.keys(),f=n.On.newChangeBuffer({trackRemovals:!0});return r=n,i=t,a=f,u=(s=(o=e).batch).keys(),c=uu.resolve(),u.forEach(function(t){c=c.next(function(){return a.getEntry(i,t)}).next(function(e){var n=o.docVersions.get(t);Xr(null!==n),e.version.compareTo(n)<0&&(s.applyToRemoteDocument(e,o),e.isValidDocument()&&a.addEntry(e,o.commitVersion))})}),c.next(function(){return r._n.removeMutationBatch(i,s)}).next(function(){return f.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,l)})})}function ll(t){var e=t;return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function fl(t,e){var n=t,r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];e.targetChanges.forEach(function(e,o){var s,u,c,l=i.get(o);l&&(a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})),0<(c=e.resumeToken).approximateByteSize()&&(s=l.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber),i=i.insert(o,s),u=l,c=e,Xr(0<(l=s).resumeToken.approximateByteSize()),(0===u.resumeToken.approximateByteSize()||3e8<=l.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()||0<c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size)&&a.push(n.qe.updateTargetData(t,s))))});var s,u=za;return e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(hl(t,o,e.documentUpdates,r,void 0).next(function(t){u=t})),r.isEqual(Qr.min())||(s=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}),a.push(s)),uu.waitFor(a).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,u)}).next(function(){return u})}).then(function(t){return n.kn=i,t})}function hl(t,e,n,r,i){var o=Za();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=za;return n.forEach(function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Qr.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||0<a.version.compareTo(s.version)||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Ur("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function dl(t,e){var n=t;return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?(r=i,uu.resolve(r)):n.qe.allocateTargetId(t).next(function(i){return r=new Au(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.kn.get(t.targetId);return(null===r||0<t.snapshotVersion.compareTo(r.snapshotVersion))&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t})}function pl(t,e,n){return o(this,void 0,void 0,function(){var r,i,o;return a(this,function(a){switch(a.label){case 0:i=(r=t).kn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!vu(o=a.sent()))throw o;return Ur("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function ml(t,e,n){var r=t,i=Qr.min(),o=Za();return r.persistence.runTransaction("Execute query","readonly",function(t){return a=r,s=t,u=Lo(e),(void 0!==(a=(c=a).Fn.get(u))?uu.resolve(c.kn.get(a)):c.qe.getTargetData(s,u)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Qr.min(),n?o:Za())}).next(function(t){return{documents:t,Bn:o}});var a,s,u,c})}function gl(t,e){var n=t,r=n.qe;return(t=n.kn.get(e))?Promise.resolve(t.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function yl(t){var e=t;return e.persistence.runTransaction("Get new document changes","readonly",function(t){return n=e.On,r=t,t=e.$n,i=n,o=za,a=Fu(t),t=jc(r),r=IDBKeyRange.lowerBound(a,!0),t.$t({index:Zs.readTimeIndex,range:r},function(t,e){var n=Bu(i.R,e);o=o.insert(n.key,n),a=e.readTime}).next(function(){return{wn:o,readTime:Uu(a)}});var n,r,i,o,a}).then(function(t){var n=t.wn;t=t.readTime;return e.$n=t,n})}function wl(t){return o(this,void 0,void 0,function(){var e;return a(this,function(n){return[2,(e=t).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return t=jc(t),e=Qr.min(),t.$t({index:Zs.readTimeIndex,reverse:!0},function(t,n,r){n.readTime&&(e=Uu(n.readTime)),r.done()}).next(function(){return e});var e}).then(function(t){e.$n=t})]})})}var vl,bl,kl=(ql.prototype.getBundleMetadata=function(t,e){return uu.resolve(this.Qn.get(e))},ql.prototype.saveBundleMetadata=function(t,e){return this.Qn.set(e.id,{id:e.id,version:e.version,createTime:ms(e.createTime)}),uu.resolve()},ql.prototype.getNamedQuery=function(t,e){return uu.resolve(this.jn.get(e))},ql.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(e=e).name,query:Yu(e.bundledQuery),readTime:ms(e.readTime)}),uu.resolve()},ql),_l=(jl.prototype.isEmpty=function(){return this.Wn.isEmpty()},jl.prototype.addReference=function(t,e){e=new Il(t,e),this.Wn=this.Wn.add(e),this.zn=this.zn.add(e)},jl.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},jl.prototype.removeReference=function(t,e){this.Yn(new Il(t,e))},jl.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},jl.prototype.Zn=function(t){var e=this,n=new Ei(new oi([])),r=new Il(n,t),i=(t=new Il(n,t+1),[]);return this.zn.forEachInRange([r,t],function(t){e.Yn(t),i.push(t.key)}),i},jl.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},jl.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},jl.prototype.es=function(t){var e=new Ei(new oi([])),n=new Il(e,t),r=(t=new Il(e,t+1),Za());return this.zn.forEachInRange([n,t],function(t){r=r.add(t.key)}),r},jl.prototype.containsKey=function(t){var e=new Il(t,0);return null!==(e=this.Wn.firstAfterOrEqual(e))&&t.isEqual(e.key)},jl),Il=(Vl.Gn=function(t,e){return Ei.comparator(t.key,e.key)||Kr(t.ns,e.ns)},Vl.Hn=function(t,e){return Kr(t.ns,e.ns)||Ei.comparator(t.key,e.key)},Vl),El=(Ul.prototype.checkEmpty=function(t){return uu.resolve(0===this._n.length)},Ul.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,0<this._n.length&&this._n[this._n.length-1],n=new Cu(i,e,n,r),this._n.push(n);for(var o=0,a=r;o<a.length;o++){var s=a[o];this.rs=this.rs.add(new Il(s.key,i)),this.Ut.addToCollectionParentIndex(t,s.key.path.popLast())}return uu.resolve(n)},Ul.prototype.lookupMutationBatch=function(t,e){return uu.resolve(this.os(e))},Ul.prototype.getNextMutationBatchAfterBatchId=function(t,e){return e=(e=this.cs(e+1))<0?0:e,uu.resolve(this._n.length>e?this._n[e]:null)},Ul.prototype.getHighestUnacknowledgedBatchId=function(){return uu.resolve(0===this._n.length?-1:this.ss-1)},Ul.prototype.getAllMutationBatches=function(t){return uu.resolve(this._n.slice())},Ul.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Il(e,0),i=(e=new Il(e,Number.POSITIVE_INFINITY),[]);return this.rs.forEachInRange([r,e],function(t){t=n.os(t.ns),i.push(t)}),uu.resolve(i)},Ul.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ja(Kr);return e.forEach(function(t){var e=new Il(t,0);t=new Il(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,t],function(t){r=r.add(t.ns)})}),uu.resolve(this.us(r))},Ul.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1;e=n;Ei.isDocumentKey(e)||(e=e.child(""));e=new Il(new Ei(e),0);var i=new ja(Kr);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(i=i.add(t.ns)),!0)},e),uu.resolve(this.us(i))},Ul.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){null!==(t=e.os(t))&&n.push(t)}),n},Ul.prototype.removeMutationBatch=function(t,e){var n=this;Xr(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return uu.forEach(e.mutations,function(i){var o=new Il(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},Ul.prototype.Gt=function(t){},Ul.prototype.containsKey=function(t,e){var n=new Il(e,0);n=this.rs.firstAfterOrEqual(n);return uu.resolve(e.isEqual(n&&n.key))},Ul.prototype.performConsistencyCheck=function(t){return this._n.length,uu.resolve()},Ul.prototype.hs=function(t,e){return this.cs(t)},Ul.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},Ul.prototype.os=function(t){return(t=this.cs(t))<0||t>=this._n.length?null:this._n[t]},Ul),xl=(Fl.prototype.addEntry=function(t,e,n){var r=e.key,i=(o=this.docs.get(r))?o.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-i,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},Fl.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},Fl.prototype.getEntry=function(t,e){var n=this.docs.get(e);return uu.resolve(n?n.document.clone():ji.newInvalidDocument(e))},Fl.prototype.getEntries=function(t,e){var n=this,r=za;return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():ji.newInvalidDocument(t))}),uu.resolve(r)},Fl.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=za,i=new Ei(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=(s=o.getNext()).key,s=(u=s.value).document,u=u.readTime;if(!e.path.isPrefixOf(a.path))break;u.compareTo(n)<=0||Uo(e,s)&&(r=r.insert(s.key,s.clone()))}return uu.resolve(r)},Fl.prototype.fs=function(t,e){return uu.forEach(this.docs,function(t){return e(t)})},Fl.prototype.newChangeBuffer=function(t){return new Tl(this)},Fl.prototype.getSize=function(t){return uu.resolve(this.size)},Fl),Tl=(r(Ml,bl=x),Ml.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),uu.waitFor(n)},Ml.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},Ml.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},Ml),Sl=(Bl.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),uu.resolve()},Bl.prototype.getLastRemoteSnapshotVersion=function(t){return uu.resolve(this.lastRemoteSnapshotVersion)},Bl.prototype.getHighestSequenceNumber=function(t){return uu.resolve(this.ws)},Bl.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),uu.resolve(this.highestTargetId)},Bl.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),uu.resolve()},Bl.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new pc(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},Bl.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,uu.resolve()},Bl.prototype.updateTargetData=function(t,e){return this.te(e),uu.resolve()},Bl.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),--this.targetCount,uu.resolve()},Bl.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),uu.waitFor(o).next(function(){return i})},Bl.prototype.getTargetCount=function(t){return uu.resolve(this.targetCount)},Bl.prototype.getTargetData=function(t,e){return e=this.ds.get(e)||null,uu.resolve(e)},Bl.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),uu.resolve()},Bl.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),uu.waitFor(i)},Bl.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),uu.resolve()},Bl.prototype.getMatchingKeysForTargetId=function(t,e){return e=this._s.es(e),uu.resolve(e)},Bl.prototype.containsKey=function(t,e){return uu.resolve(this._s.containsKey(e))},Bl),Ol=(Pl.prototype.start=function(){return Promise.resolve()},Pl.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(Pl.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),Pl.prototype.setDatabaseDeletedListener=function(){},Pl.prototype.setNetworkEnabled=function(){},Pl.prototype.getIndexManager=function(){return this.Ut},Pl.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new El(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},Pl.prototype.getTargetCache=function(){return this.qe},Pl.prototype.getRemoteDocumentCache=function(){return this.Ue},Pl.prototype.getBundleCache=function(){return this.Ke},Pl.prototype.runTransaction=function(t,e,n){var r=this;Ur("MemoryPersistence","Starting transaction:",t);var i=new Cl(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},Pl.prototype.Is=function(t,e){return uu.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},Pl),Cl=(r(Ll,vl=D),Ll),Dl=(Rl.bs=function(t){return new Rl(t)},Object.defineProperty(Rl.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw zr()},enumerable:!1,configurable:!0}),Rl.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),uu.resolve()},Rl.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),uu.resolve()},Rl.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),uu.resolve()},Rl.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},Rl.prototype.Es=function(){this.Rs=new Set},Rl.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return uu.forEach(this.vs,function(r){var i=Ei.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},Rl.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},Rl.prototype.ps=function(t){return 0},Rl.prototype.Ps=function(t,e){var n=this;return uu.or([function(){return uu.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},Rl),Al=(Nl.prototype.isAuthenticated=function(){return null!=this.uid},Nl.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},Nl.prototype.isEqual=function(t){return t.uid===this.uid},Nl);function Nl(t){this.uid=t}function Rl(t){this.persistence=t,this.As=new _l,this.Rs=null}function Ll(t){var e=this;return(e=vl.call(this)||this).currentSequenceNumber=t,e}function Pl(t,e){var n=this;this.gs={},this.Ne=new Ar(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Sl(this),this.Ut=new Wu,this.Ue=(t=this.Ut,new xl(t,function(t){return n.referenceDelegate.ps(t)})),this.R=new Nu(e),this.Ke=new kl(this.R)}function Bl(t){this.persistence=t,this.ds=new Rc(Yi,Hi),this.lastRemoteSnapshotVersion=Qr.min(),this.highestTargetId=0,this.ws=0,this._s=new _l,this.targetCount=0,this.ys=pc.Jt()}function Ml(t){var e=this;return(e=bl.call(this)||this).Ie=t,e}function Fl(t,e){this.Ut=t,this.ls=e,this.docs=new La(Ei.comparator),this.size=0}function Ul(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new ja(Il.Gn)}function Vl(t,e){this.key=t,this.ns=e}function jl(){this.Wn=new ja(Il.Gn),this.zn=new ja(Il.Hn)}function ql(t){this.R=t,this.Qn=new Map,this.jn=new Map}function zl(t,e){return"firestore_clients_"+t+"_"+e}function Xl(t,e,n){return n="firestore_mutations_"+t+"_"+n,e.isAuthenticated()&&(n+="_"+e.uid),n}function Yl(t,e){return"firestore_targets_"+t+"_"+e}Al.UNAUTHENTICATED=new Al(null),Al.GOOGLE_CREDENTIALS=new Al("google-credentials-uid"),Al.FIRST_PARTY=new Al("first-party-uid"),Al.MOCK_USER=new Al("mock-user");var Hl,Kl=(yf.Vs=function(t,e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Pr(i.error.code,i.error.message)),o?new yf(t,e,i.state,r):(Vr("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+n),null)},yf.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},yf),Gl=(gf.Vs=function(t,e){var n,r=JSON.parse(e),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(n=new Pr(r.error.code,r.error.message)),i?new gf(t,r.state,n):(Vr("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},gf.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},gf),Zl=(mf.Vs=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Wa,o=0;r&&o<n.activeTargetIds.length;++o)r=Ii(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new mf(t,i):(Vr("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},mf),Wl=(pf.Vs=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new pf(e.clientId,e.onlineState):(Vr("SharedClientState","Failed to parse online state: "+t),null)},pf),Ql=(df.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},df.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},df.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},df),$l=(hf.yt=function(t){return!(!t||!t.localStorage)},hf.prototype.start=function(){return o(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,c,l,f=this;return a(this,function(a){switch(a.label){case 0:return[4,this.syncEngine.fn()];case 1:for(o=a.sent(),t=0,e=o;t<e.length;t++)(n=e[t])!==this.Ns&&(r=this.getItem(zl(this.persistenceKey,n)))&&(i=Zl.Vs(n,r))&&(this.Fs=this.Fs.insert(i.clientId,i));for(this.Qs(),(o=this.storage.getItem(this.Us))&&(s=this.js(o))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)l=c[u],this.ks(l);return this.$s=[],this.window.addEventListener("pagehide",function(){return f.shutdown()}),this.started=!0,[2]}})})},hf.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},hf.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},hf.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},hf.prototype.addPendingMutation=function(t){this.zs(t,"pending")},hf.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},hf.prototype.addLocalQueryTarget=function(t){var e,n="not-current";return this.isActiveQueryTarget(t)&&(!(e=this.storage.getItem(Yl(this.persistenceKey,t)))||(e=Gl.Vs(t,e))&&(n=e.state)),this.Js.Ds(t),this.Qs(),n},hf.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},hf.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},hf.prototype.clearQueryState=function(t){this.removeItem(Yl(this.persistenceKey,t))},hf.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},hf.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},hf.prototype.setOnlineState=function(t){this.Xs(t)},hf.prototype.notifyBundleLoaded=function(){this.Zs()},hf.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},hf.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ur("SharedClientState","READ",t,e),e},hf.prototype.setItem=function(t,e){Ur("SharedClientState","SET",t,e),this.storage.setItem(t,e)},hf.prototype.removeItem=function(t){Ur("SharedClientState","REMOVE",t),this.storage.removeItem(t)},hf.prototype.ks=function(t){var e=this,n=t;n.storageArea===this.storage&&(Ur("SharedClientState","EVENT",n.key,n.newValue),n.key!==this.Os?this.Se.enqueueRetryable(function(){return o(e,void 0,void 0,function(){var t,e,r,i;return a(this,function(o){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(e=this.si(n.key,n.newValue)))return[2,this.ii(e)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(r=this.ri(n.key,n.newValue)))return[2,this.oi(r)]}else if(n.key===this.Us){if(null!==n.newValue&&(i=this.js(n.newValue)))return[2,this.Ws(i)]}else if(n.key===this.Ms)(i=function(t){var e=Ar.o;if(null!=t)try{var n=JSON.parse(t);Xr("number"==typeof n),e=n}catch(t){Vr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ar.o&&this.sequenceNumberHandler(i);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})}):Vr("Received WebStorage notification for local change. Another client might have garbage-collected our state"))},Object.defineProperty(hf.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),hf.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},hf.prototype.zs=function(t,e,n){n=new Kl(this.currentUser,t,e,n),t=Xl(this.persistenceKey,this.currentUser,t),this.setItem(t,n.Ss())},hf.prototype.Hs=function(t){t=Xl(this.persistenceKey,this.currentUser,t),this.removeItem(t)},hf.prototype.Xs=function(t){t={clientId:this.Ns,onlineState:t},this.storage.setItem(this.Us,JSON.stringify(t))},hf.prototype.Ys=function(t,e,n){var r=Yl(this.persistenceKey,t);n=new Gl(t,e,n);this.setItem(r,n.Ss())},hf.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},hf.prototype.ti=function(t){return(t=this.Ls.exec(t))?t[1]:null},hf.prototype.ni=function(t,e){return t=this.ti(t),Zl.Vs(t,e)},hf.prototype.si=function(t,e){var n=this.Bs.exec(t);t=Number(n[1]),n=void 0!==n[2]?n[2]:null;return Kl.Vs(new Al(n),t,e)},hf.prototype.ri=function(t,e){return t=this.qs.exec(t),t=Number(t[1]),Gl.Vs(t,e)},hf.prototype.js=function(t){return Wl.Vs(t)},hf.prototype.ii=function(t){return o(this,void 0,void 0,function(){return a(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Ur("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},hf.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},hf.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.syncEngine.hi(a,s).then(function(){n.Fs=r})},hf.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},hf.prototype.Gs=function(t){var e=Wa;return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},hf),Jl=(ff.prototype.addPendingMutation=function(t){},ff.prototype.updateMutationState=function(t,e,n){},ff.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},ff.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},ff.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},ff.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},ff.prototype.clearQueryState=function(t){delete this.fi[t]},ff.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},ff.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},ff.prototype.start=function(){return this.li=new Ql,Promise.resolve()},ff.prototype.handleUserChange=function(t,e,n){},ff.prototype.setOnlineState=function(t){},ff.prototype.shutdown=function(){},ff.prototype.writeSequenceNumber=function(t){},ff.prototype.notifyBundleLoaded=function(){},ff),tf=(lf.prototype.di=function(t){},lf.prototype.shutdown=function(){},lf),ef=(cf.prototype.di=function(t){this.gi.push(t)},cf.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},cf.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},cf.prototype._i=function(){Ur("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},cf.prototype.yi=function(){Ur("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},cf.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},cf),nf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},rf=(uf.prototype.Ii=function(t){this.Ai=t},uf.prototype.Ri=function(t){this.bi=t},uf.prototype.onMessage=function(t){this.vi=t},uf.prototype.close=function(){this.Ti()},uf.prototype.send=function(t){this.Ei(t)},uf.prototype.Pi=function(){this.Ai()},uf.prototype.Vi=function(t){this.bi(t)},uf.prototype.Si=function(t){this.vi(t)},uf),of=(sf.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);return Ur("RestConnection","Sending: ",i,n),e={},this.ki(e,r),this.Fi(t,i,e,n).then(function(t){return Ur("RestConnection","Received: ",t),t},function(e){throw jr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},sf.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},sf.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},sf.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+nf[t]},r(af,Hl=sf),af.prototype.Fi=function(t,e,n,r){return new Promise(function(i,o){var a=new Dr;a.listenOnce(Tr.COMPLETE,function(){try{switch(a.getLastErrorCode()){case xr.NO_ERROR:var e=a.getResponseJson();Ur("Connection","XHR received:",JSON.stringify(e)),i(e);break;case xr.TIMEOUT:Ur("Connection",'RPC "'+t+'" timed out'),o(new Pr(Lr.DEADLINE_EXCEEDED,"Request time out"));break;case xr.HTTP_ERROR:var n,r,s=a.getStatus();Ur("Connection",'RPC "'+t+'" failed with status:',s,"response text:",a.getResponseText()),0<s?(n=a.getResponseJson().error)&&n.status&&n.message?(u=n.status.toLowerCase().replace(/_/g,"-"),r=0<=Object.values(Lr).indexOf(u)?u:Lr.UNKNOWN,o(new Pr(r,n.message))):o(new Pr(Lr.UNKNOWN,"Server responded with status "+a.getStatus())):o(new Pr(Lr.UNAVAILABLE,"Connection failed."));break;default:zr()}}finally{Ur("Connection",'RPC "'+t+'" completed.')}var u});var s=JSON.stringify(r);a.send(e,"POST",s,n,15)})},af.prototype.Oi=function(t,e){var n,r=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=new vr,o=Er();t={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(t.xmlHttpFactory=new Or({})),this.ki(t.initMessageHeaders,e),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())||"object"==typeof navigator&&"ReactNative"===navigator.product||0<=f().indexOf("Electron/")||0<=(n=f()).indexOf("MSIE ")||0<=n.indexOf("Trident/")||0<=f().indexOf("MSAppHost/")||"object"==typeof(n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(t.httpHeadersOverwriteParam="$httpHeaders"),Ur("Connection","Creating WebChannel: "+(r=r.join("")),t);var a=i.createWebChannel(r,t),s=!1,u=!1,c=new rf({Ei:function(t){u?Ur("Connection","Not sending because WebChannel is closed:",t):(s||(Ur("Connection","Opening WebChannel transport."),a.open(),s=!0),Ur("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}});return(t=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})})(a,Cr.EventType.OPEN,function(){u||Ur("Connection","WebChannel transport opened.")}),t(a,Cr.EventType.CLOSE,function(){u||(u=!0,Ur("Connection","WebChannel transport closed"),c.Vi())}),t(a,Cr.EventType.ERROR,function(t){u||(u=!0,jr("Connection","WebChannel transport errored:",t),c.Vi(new Pr(Lr.UNAVAILABLE,"The operation could not be completed")))}),t(a,Cr.EventType.MESSAGE,function(t){var e,n,r,i;u||(Xr(!!(e=t.data[0])),(n=e.error||(null===(i=e[0])||void 0===i?void 0:i.error))?(Ur("Connection","WebChannel received error:",n),r=n.status,t=function(){var t=xa[r];if(void 0!==t)return Ra(t)}(),i=n.message,void 0===t&&(t=Lr.INTERNAL,i="Unknown error status: "+r+" with message "+n.message),u=!0,c.Vi(new Pr(t,i)),a.close()):(Ur("Connection","WebChannel received:",e),c.Si(e)))}),t(o,Sr.STAT_EVENT,function(t){10===t.stat?Ur("Connection","Detected buffering proxy"):11===t.stat&&Ur("Connection","Detected no buffering proxy")}),setTimeout(function(){c.Pi()},0),c},af);function af(t){var e=this;return(e=Hl.call(this,t)||this).forceLongPolling=t.forceLongPolling,e.autoDetectLongPolling=t.autoDetectLongPolling,e.useFetchStreams=t.useFetchStreams,e}function sf(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}function uf(t){this.Ei=t.Ei,this.Ti=t.Ti}function cf(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}function lf(){}function ff(){this.li=new Ql,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}function hf(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new La(Kr),this.started=!1,this.$s=[],n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),this.storage=this.window.localStorage,this.currentUser=i,this.Os=zl(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new Ql),this.Ls=new RegExp("^firestore_clients_"+n+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+n+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+n+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.xs)}function df(){this.activeTargetIds=Wa}function pf(t,e){this.clientId=t,this.onlineState=e}function mf(t,e){this.clientId=t,this.activeTargetIds=e}function gf(t,e,n){this.targetId=t,this.state=e,this.error=n}function yf(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}function wf(){return"undefined"!=typeof window?window:null}function vf(){return"undefined"!=typeof document?document:null}function bf(t){return new hs(t,!0)}function kf(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return o(s,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return Xf(this)?(Ur("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return o(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return(e=t).Or.add(4),[4,Mf(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Bf(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Cf(n,r)}var _f,If,Ef,xf=(Pf.prototype.reset=function(){this.qi=0},Pf.prototype.Qi=function(){this.qi=this.Bi},Pf.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);0<i&&Ur("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},Pf.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},Pf.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},Pf.prototype.Wi=function(){return(Math.random()-.5)*this.qi},Pf),Tf=(x=(Lf.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},Lf.prototype.er=function(){return 2===this.state},Lf.prototype.start=function(){3!==this.state?this.auth():this.nr()},Lf.prototype.stop=function(){return o(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},Lf.prototype.sr=function(){this.state=0,this.Zi.reset()},Lf.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},Lf.prototype.cr=function(t){this.ur(),this.stream.send(t)},Lf.prototype.rr=function(){return o(this,void 0,void 0,function(){return a(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},Lf.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},Lf.prototype.close=function(t,e){return o(this,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Lr.RESOURCE_EXHAUSTED?(Vr(e.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Lr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},Lf.prototype.ar=function(){},Lf.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Pr(Lr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},Lf.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},Lf.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return o(t,void 0,void 0,function(){return a(this,function(t){return this.state=0,this.start(),[2]})})})},Lf.prototype.dr=function(t){return Ur("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},Lf.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Ur("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},Lf),r(Rf,Ef=x),Rf.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},Rf.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){if("targetChange"in e){e.targetChange;var n="NO_CHANGE"===(o=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===o?1:"REMOVE"===o?2:"CURRENT"===o?3:"RESET"===o?4:zr(),r=e.targetChange.targetIds||[],i=(a=e.targetChange.resumeToken,t.I?(Xr(void 0===a||"string"==typeof a),ci.fromBase64String(a||"")):(Xr(void 0===a||a instanceof Uint8Array),ci.fromUint8Array(a||new Uint8Array))),o=(s=e.targetChange.cause)&&(u=void 0===(c=s).code?Lr.UNKNOWN:Ra(c.code),new Pr(u,c.message||"")),a=new es(n,r,i,o||null)}else if("documentChange"in e){e.documentChange,(n=e.documentChange).document,n.document.name,n.document.updateTime;r=vs(t,n.document.name),i=ms(n.document.updateTime);var s=new Ui({mapValue:{fields:n.document.fields}}),u=(o=ji.newFoundDocument(r,i,s),n.targetIds||[]),c=n.removedTargetIds||[];a=new Ja(u,c,o.key,o)}else if("documentDelete"in e)e.documentDelete,(n=e.documentDelete).document,r=vs(t,n.document),i=n.readTime?ms(n.readTime):Qr.min(),s=ji.newNoDocument(r,i),o=n.removedTargetIds||[],a=new Ja([],o,s.key,s);else if("documentRemove"in e)e.documentRemove,(n=e.documentRemove).document,r=vs(t,n.document),i=n.removedTargetIds||[],a=new Ja([],i,r,null);else{if(!("filter"in e))return zr();e.filter,(e=e.filter).targetId,r=new Ea(n=e.count||0),i=e.targetId,a=new ts(i,r)}return a}(this.R,t);t=function(t){return"targetChange"in t?(t=t.targetChange).targetIds&&t.targetIds.length||!t.readTime?Qr.min():ms(t.readTime):Qr.min()}(t);return this.listener._r(e,t)},Rf.prototype.mr=function(t){var e,n,r,i,o={};o.database=_s(this.R),o.addTarget=(e=this.R,(r=Ki(r=(n=t).target)?{documents:Os(e,r)}:{query:Cs(e,r)}).targetId=n.targetId,0<n.resumeToken.approximateByteSize()?r.resumeToken=ps(e,n.resumeToken):0<n.snapshotVersion.compareTo(Qr.min())&&(r.readTime=ds(e,n.snapshotVersion.toTimestamp())),r),(t=(this.R,i=t,null==(t=function(){switch(i.purpose){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return zr()}}())?null:{"goog-listen-tags":t}))&&(o.labels=t),this.cr(o)},Rf.prototype.yr=function(t){var e={};e.database=_s(this.R),e.removeTarget=t,this.cr(e)},Rf),Sf=(r(Nf,If=x),Object.defineProperty(Nf.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),Nf.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,If.prototype.start.call(this)},Nf.prototype.ar=function(){this.gr&&this.Er([])},Nf.prototype.wr=function(t){return this.Hi.Oi("Write",t)},Nf.prototype.onMessage=function(t){if(Xr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=(n=t.writeResults,r=t.commitTime,n&&0<n.length?(Xr(void 0!==r),n.map(function(t){return n=r,(t=(e=t).updateTime?ms(e.updateTime):ms(n)).isEqual(Qr.min())&&(t=ms(n)),new sa(t,e.transformResults||[]);var e,n})):[]),n=ms(t.commitTime);return this.listener.Tr(n,e)}var r;return Xr(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},Nf.prototype.Ar=function(){var t={};t.database=_s(this.R),this.cr(t)},Nf.prototype.Er=function(t){var e=this;t={streamToken:this.lastStreamToken,writes:t.map(function(t){return Ts(e.R,t)})};this.cr(t)},Nf),Of=(r(Af,_f=function(){}),Af.prototype.br=function(){if(this.Rr)throw new Pr(Lr.FAILED_PRECONDITION,"The client has already been terminated.")},Af.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Lr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Pr(Lr.UNKNOWN,t.toString())})},Af.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Lr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Pr(Lr.UNKNOWN,t.toString())})},Af.prototype.terminate=function(){this.Rr=!0},Af),Cf=(Df.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},Df.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,1<=this.vr&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},Df.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},Df.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},Df.prototype.Cr=function(t){t="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.",this.Vr?(Vr(t),this.Vr=!1):Ur("OnlineStateTracker",t)},Df.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},Df);function Df(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}function Af(t,e,n){var r=this;return(r=_f.call(this)||this).credentials=t,r.Hi=e,r.R=n,r.Rr=!1,r}function Nf(t,e,n,r,i){var o=this;return(o=If.call(this,t,"write_stream_connection_backoff","write_stream_idle",e,n,i)||this).R=r,o.gr=!1,o}function Rf(t,e,n,r,i){var o=this;return(o=Ef.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i)||this).R=r,o}function Lf(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new xf(t,e)}function Pf(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}function Bf(t){return o(this,void 0,void 0,function(){var e,n;return a(this,function(r){switch(r.label){case 0:if(!Xf(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Mf(t){return o(this,void 0,void 0,function(){var e,n;return a(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Ff(t,e){t.$r.has(e.targetId)||(t.$r.set(e.targetId,e),zf(t)?qf(t):Jf(t).er()&&Vf(t,e))}function Uf(t,e){var n=t;t=Jf(n);n.$r.delete(e),t.er()&&jf(n,e),0===n.$r.size&&(t.er()?t.ir():Xf(n)&&n.Br.set("Unknown"))}function Vf(t,e){t.qr.U(e.targetId),Jf(t).mr(e)}function jf(t,e){t.qr.U(e),Jf(t).yr(e)}function qf(t){t.qr=new rs({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Jf(t).start(),t.Br.Sr()}function zf(t){return Xf(t)&&!Jf(t).tr()&&0<t.$r.size}function Xf(t){return 0===t.Or.size}function Yf(t){t.qr=void 0}function Hf(t,e,n){return o(this,void 0,void 0,function(){var r,i;return a(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof es&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return o(this,void 0,void 0,function(){var n,r,i,o;return a(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.$r.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.$r.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Ur("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Kf(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ja?t.qr.X(e):e instanceof ts?t.qr.rt(e):t.qr.et(e),n.isEqual(Qr.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,ll(t.localStore)];case 8:return i=s.sent(),0<=n.compareTo(i)?[4,(c=n,(l=(u=t).qr.ut(c)).targetChanges.forEach(function(t,e){var n;0<t.resumeToken.approximateByteSize()&&(n=u.$r.get(e))&&u.$r.set(e,n.withResumeToken(t.resumeToken,c))}),l.targetMismatches.forEach(function(t){var e=u.$r.get(t);e&&(u.$r.set(t,e.withResumeToken(ci.EMPTY_BYTE_STRING,e.snapshotVersion)),jf(u,t),e=new Au(e.target,t,1,e.sequenceNumber),Vf(u,e))}),u.remoteSyncer.applyRemoteEvent(l))]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Ur("RemoteStore","Failed to raise snapshot:",i=s.sent()),[4,Kf(t,i)];case 12:return s.sent(),[3,13];case 13:return[2]}var u,c,l})})}function Kf(t,e,n){return o(this,void 0,void 0,function(){var r=this;return a(this,function(i){switch(i.label){case 0:if(!vu(e))throw e;return t.Or.add(1),[4,Mf(t)];case 1:return i.sent(),t.Br.set("Offline"),n=n||function(){return ll(t.localStore)},t.asyncQueue.enqueueRetryable(function(){return o(r,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return Ur("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Bf(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Gf(t,e){return e().catch(function(n){return Kf(t,n,e)})}function Zf(t){return o(this,void 0,void 0,function(){var e,n,r,i;return a(this,function(o){switch(o.label){case 0:n=th(e=t),r=0<e.Fr.length?e.Fr[e.Fr.length-1].batchId:-1,o.label=1;case 1:if(!(Xf(e)&&e.Fr.length<10))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,(a=e.localStore,s=r,(u=a).persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===s&&(s=-1),u._n.getNextMutationBatchAfterBatchId(t,s)}))];case 3:return null===(i=o.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e),(t=th(t)).er()&&t.pr&&t.Er(e.mutations)}(e,i),[3,6]);case 4:return i=o.sent(),[4,Kf(e,i)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Wf(e)&&Qf(e),[2]}var a,s,u})})}function Wf(t){return Xf(t)&&!th(t).tr()&&0<t.Fr.length}function Qf(t){th(t).start()}function $f(t,e){return o(this,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return n=t,e?(n.Or.delete(2),[4,Bf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Mf(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Jf(t){var e,n,r,i=this;return t.Ur||(t.Ur=(e=t.datastore,n=t.asyncQueue,r={Ii:function(t){return o(this,void 0,void 0,function(){return a(this,function(e){return t.$r.forEach(function(e,n){Vf(t,e)}),[2]})})}.bind(null,t),Ri:function(t,e){return o(this,void 0,void 0,function(){return a(this,function(n){return Yf(t),zf(t)?(t.Br.Nr(e),qf(t)):t.Br.set("Unknown"),[2]})})}.bind(null,t),_r:Hf.bind(null,t)},e.br(),new Tf(n,e.Hi,e.credentials,e.R,r)),t.Mr.push(function(e){return o(i,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return e?(t.Ur.sr(),zf(t)?qf(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:n.sent(),Yf(t),n.label=3;case 3:return[2]}})})})),t.Ur}function th(t){var e,n,r,i=this;return t.Kr||(t.Kr=(e=t.datastore,n=t.asyncQueue,r={Ii:function(t){return o(this,void 0,void 0,function(){return a(this,function(e){return th(t).Ar(),[2]})})}.bind(null,t),Ri:function(t,e){return o(this,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return e&&th(t).pr?[4,function(t,e){return o(this,void 0,void 0,function(){var n,r;return a(this,function(i){switch(i.label){case 0:return Na(r=e.code)&&r!==Lr.ABORTED?(n=t.Fr.shift(),th(t).sr(),[4,Gf(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Zf(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Wf(t)&&Qf(t),[2]}})})}.bind(null,t),Ir:function(t){return o(this,void 0,void 0,function(){var e,n,r,i;return a(this,function(o){for(e=th(t),n=0,r=t.Fr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}.bind(null,t),Tr:function(t,e,n){return o(this,void 0,void 0,function(){var r,i;return a(this,function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=Du.from(r,e,n),[4,Gf(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Zf(t)];case 2:return o.sent(),[2]}})})}.bind(null,t)},e.br(),new Sf(n,e.Hi,e.credentials,e.R,r)),t.Mr.push(function(e){return o(i,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return e?(t.Kr.sr(),[4,Zf(t)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:n.sent(),0<t.Fr.length&&(Ur("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),n.label=4;case 4:return[2]}})})})),t.Kr}var eh=(nh.createAndSchedule=function(t,e,n,r,i){return(i=new nh(t,e,Date.now()+n,r,i)).start(n),i},nh.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},nh.prototype.skipDelay=function(){return this.handleDelayElapsed()},nh.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pr(Lr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},nh.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},nh.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},nh);function nh(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new su,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}function rh(t,e){if(Vr("AsyncQueue",e+": "+t),vu(t))return new Pr(Lr.UNAVAILABLE,e+": "+t);throw t}function ih(){this.queries=new Rc(Mo,Bo),this.onlineState="Unknown",this.Gr=new Set}var oh=(fh.emptySet=function(t){return new fh(t.comparator)},fh.prototype.has=function(t){return null!=this.keyedMap.get(t)},fh.prototype.get=function(t){return this.keyedMap.get(t)},fh.prototype.first=function(){return this.sortedSet.minKey()},fh.prototype.last=function(){return this.sortedSet.maxKey()},fh.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},fh.prototype.indexOf=function(t){return(t=this.keyedMap.get(t))?this.sortedSet.indexOf(t):-1},Object.defineProperty(fh.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),fh.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},fh.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},fh.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},fh.prototype.isEqual=function(t){if(!(t instanceof fh))return!1;if(this.size!==t.size)return!1;for(var e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();e.hasNext();){var r=e.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0},fh.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},fh.prototype.copy=function(t,e){var n=new fh;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n},fh),ah=(lh.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);!n||0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):zr()},lh.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},lh),sh=(ch.fromInitialDocuments=function(t,e,n,r){var i=[];return e.forEach(function(t){i.push({type:0,doc:t})}),new ch(t,e,oh.emptySet(e),i,n,r,!0,!1)},Object.defineProperty(ch.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),ch.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Bo(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},ch),uh=function(){this.Wr=void 0,this.listeners=[]};function ch(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}function lh(){this.Qr=new La(Ei.comparator)}function fh(t){this.comparator=t?function(e,n){return t(e,n)||Ei.comparator(e.key,n.key)}:function(t,e){return Ei.comparator(t.key,e.key)},this.keyedMap=Ha,this.sortedSet=new La(this.comparator)}function hh(t,e){return o(this,void 0,void 0,function(){var n,r,i,o,s;return a(this,function(a){switch(a.label){case 0:if(n=t,r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new uh),!i)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=a.sent(),[3,4];case 3:return s=rh(s=a.sent(),"Initialization of query '"+Fo(e.query)+"' failed"),[2,void e.onError(s)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&ph(n),[2]}})})}function dh(t,e){return o(this,void 0,void 0,function(){var n,r,i,o,s;return a(this,function(a){return n=t,r=e.query,i=!1,(o=n.queries.get(r))&&0<=(s=o.listeners.indexOf(e))&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function ph(t){t.Gr.forEach(function(t){t.next()})}var mh=(_h.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new sh(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},_h.prototype.onError=function(t){this.Jr.error(t)},_h.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},_h.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},_h.prototype.Zr=function(t){if(0<t.docChanges.length)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},_h.prototype.no=function(t){t=sh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},_h),gh=(kh.prototype.io=function(){return"metadata"in this.payload},kh),yh=(bh.prototype.qn=function(t){return vs(this.R,t)},bh.prototype.Un=function(t){return t.metadata.exists?xs(this.R,t.document,!1):ji.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},bh.prototype.Kn=ms,bh),wh=(vh.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},vh.prototype.co=function(t){for(var e=new Map,n=new yh(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||Za()).add(a);e.set(c,l)}}return e},vh.prototype.complete=function(){return o(this,void 0,void 0,function(){var t,e,n,r;return a(this,function(i){switch(i.label){case 0:return[4,function(t,e,n,r){return o(this,void 0,void 0,function(){var i,o,s,u,c,l,f,h,d,p;return a(this,function(a){switch(a.label){case 0:for(i=t,o=Za(),s=za,u=Ka,c=0,l=n;c<l.length;c++)f=l[c],h=e.qn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,e.Un(f)),u=u.insert(h,e.Kn(f.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,dl(i,Lo(So(oi.fromString("__bundle__/docs/"+r))))];case 1:return p=a.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return hl(t,d,s,Qr.min(),u).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,p.targetId).next(function(){return i.qe.addMatchingKeys(t,o,p.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}(this.localStore,new yh(this.R),this.documents,this.ro.id)];case 1:t=i.sent(),e=this.co(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?(r=r[n],[4,function(t,e,n){return void 0===n&&(n=Za()),o(this,void 0,void 0,function(){var r,i;return a(this,function(o){switch(o.label){case 0:return[4,dl(t,Lo(Yu(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=t).persistence.runTransaction("Save named query","readwrite",function(t){var o=ms(e.readTime);return 0<=r.snapshotVersion.compareTo(o)?i.Ke.saveNamedQuery(t,e):(o=r.withResumeToken(ci.EMPTY_BYTE_STRING,o),i.kn=i.kn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)}))})]}})})}(this.localStore,r,e.get(r.name))]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new $c(Object.assign({},this.progress),t))]}})})},vh);function vh(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=Ih(t)}function bh(t){this.R=t}function kh(t,e){this.payload=t,this.byteLength=e}function _h(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}function Ih(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Eh=function(t){this.key=t},xh=function(t){this.key=t},Th=(Object.defineProperty(Ah.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),Ah.prototype._o=function(t,e){var n=this,r=e?e.mo:new ah,i=(e||this).fo,o=(e||this).mutatedKeys,a=i,s=!1,u=Oo(this.query)&&i.size===this.query.limit?i.last():null,c=Co(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),f=Uo(n.query,e)?e:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations);e=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),e=!0):n.yo(l,f)||(r.track({type:2,doc:f}),e=!0,(u&&0<n.lo(f,u)||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),e=!0):l&&!f&&(r.track({type:1,doc:l}),e=!0,(u||c)&&(s=!0)),e&&(o=f?(a=a.add(f),d?o.add(t):o.delete(t)):(a=a.delete(t),o.delete(t)))}),Oo(this.query)||Co(this.query))for(;a.size>this.query.limit;){var l=Oo(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key);r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},Ah.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},Ah.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return i=t.type,o=e.type,n(i)-n(o)||r.lo(t.doc,e.doc);function n(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zr()}}var i,o}),this.po(n);var a=e?this.Eo():[];e=(n=0===this.ho.size&&this.current?1:0)!==this.ao;return this.ao=n,0!==o.length||e?{snapshot:new sh(this.query,t.fo,i,o,t.mutatedKeys,0==n,e,!1),To:a}:{To:a}},Ah.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new ah,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},Ah.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},Ah.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},Ah.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Za(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new xh(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Eh(t))}),n},Ah.prototype.Ao=function(t){return this.uo=t.Bn,this.ho=Za(),t=this._o(t.documents),this.applyChanges(t,!0)},Ah.prototype.Ro=function(){return sh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},Ah),Sh=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Oh=function(t){this.key=t,this.bo=!1},Ch=(Object.defineProperty(Dh.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),Dh);function Dh(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Rc(Mo,Bo),this.Vo=new Map,this.So=new Set,this.Do=new La(Ei.comparator),this.Co=new Map,this.No=new _l,this.xo={},this.ko=new Map,this.Fo=pc.Yt(),this.onlineState="Unknown",this.$o=void 0}function Ah(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Za(),this.mutatedKeys=Za(),this.lo=Vo(t),this.fo=new oh(this.lo)}function Nh(t,e,n,r){return o(this,void 0,void 0,function(){var i,s,u;return a(this,function(c){switch(c.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return o(this,void 0,void 0,function(){var i,o;return a(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,ml(t.localStore,e.query,!1).then(function(t){return t=t.documents,e.view._o(t,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(jh(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,ml(t.localStore,e,!0)];case 1:return s=c.sent(),u=new Th(e,s.Bn),i=u._o(s.documents),s=$a.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),s=u.applyChanges(i,t.isPrimaryClient,s),jh(t,n,s.To),u=new Sh(e,n,u),[2,(t.Po.set(e,u),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),s.snapshot)]}})})}function Rh(t,e,n){return o(this,void 0,void 0,function(){var r,i;return a(this,function(o){switch(o.label){case 0:i=Zh(t),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,(c=i.localStore,l=e,h=c,d=Wr.now(),p=l.reduce(function(t,e){return t.add(e.key)},Za()),h.persistence.runTransaction("Locally write mutations","readwrite",function(t){return h.Mn.pn(t,p).next(function(e){f=e;for(var n=[],r=0,i=l;r<i.length;r++){var o=i[r],a=function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field);null!=(a=Xo(o.transform,a||null))&&(n=null==n?Ui.empty():n).set(o.field,a)}return n||null}(o,f.get(o.key));null!=a&&n.push(new wa(o.key,a,function t(e){var n=[];return ei(e.fields,function(e,r){var i=new si([e]);if(Mi(r))if(0===(r=t(r.mapValue).fields).length)n.push(i);else for(var o=0,a=r;o<a.length;o++){var s=a[o];n.push(i.child(s))}else n.push(i)}),new ui(n)}(a.value.mapValue),ca.exists(!0)))}return h._n.addMutationBatch(t,d,n,l)})}).then(function(t){return t.applyToLocalDocumentSet(f),{batchId:t.batchId,changes:f}}))];case 2:return r=o.sent(),i.sharedClientState.addPendingMutation(r.batchId),a=i,s=r.batchId,u=n,c=(c=(c=a.xo[a.currentUser.toKey()])||new La(Kr)).insert(s,u),a.xo[a.currentUser.toKey()]=c,[4,zh(i,r.changes)];case 3:return o.sent(),[4,Zf(i.remoteStore)];case 4:return o.sent(),[3,6];case 5:return i=rh(i=o.sent(),"Failed to persist write"),n.reject(i),[3,6];case 6:return[2]}var a,s,u,c,l,f,h,d,p})})}function Lh(t,e){return o(this,void 0,void 0,function(){var n,r;return a(this,function(i){switch(i.label){case 0:n=t,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,fl(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){(e=n.Co.get(e))&&(Xr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),0<t.addedDocuments.size?e.bo=!0:0<t.modifiedDocuments.size?Xr(e.bo):0<t.removedDocuments.size&&(Xr(e.bo),e.bo=!1))}),[4,zh(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,kc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Ph(t,e,n){var r;((t=t).isPrimaryClient&&0===n||!t.isPrimaryClient&&1===n)&&(r=[],t.Po.forEach(function(t,n){(n=n.view.zr(e)).snapshot&&r.push(n.snapshot)}),function(t,e){t.onlineState=e;var n=!1;t.queries.forEach(function(t,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].zr(e)&&(n=!0)}),n&&ph(t)}(t.eventManager,e),r.length&&t.vo._r(r),t.onlineState=e,t.isPrimaryClient&&t.sharedClientState.setOnlineState(e))}function Bh(t,e){return o(this,void 0,void 0,function(){var n,r,i;return a(this,function(o){switch(o.label){case 0:Xf((n=t).remoteStore)||Ur("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(a=n.localStore).persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return a._n.getHighestUnacknowledgedBatchId(t)})];case 2:return-1===(r=o.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return i=rh(i=o.sent(),"Initialization of waitForPendingWrites() operation failed"),e.reject(i),[3,4];case 4:return[2]}var a})})}function Mh(t,e){(t.ko.get(e)||[]).forEach(function(t){t.resolve()}),t.ko.delete(e)}function Fh(t,e,n){var r=t,i=r.xo[r.currentUser.toKey()];i&&((t=i.get(e))&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i)}function Uh(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Vh(t,e)})}function Vh(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Uf(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),qh(t))}function jh(t,e,n){for(var r,i,o,a=0,s=n;a<s.length;a++){var u=s[a];u instanceof Eh?(t.No.addReference(u.key,e),r=t,o=void 0,i=(o=(i=u).key).path.canonicalString(),r.Do.get(o)||r.So.has(i)||(Ur("SyncEngine","New document in limbo: "+o),r.So.add(i),qh(r))):u instanceof xh?(Ur("SyncEngine","Document no longer in limbo: "+u.key),t.No.removeReference(u.key,e),t.No.containsKey(u.key)||Vh(t,u.key)):zr()}}function qh(t){for(;0<t.So.size&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Ei(oi.fromString(e));e=t.Fo.next();t.Co.set(e,new Oh(n)),t.Do=t.Do.insert(n,e),Ff(t.remoteStore,new Au(Lo(So(n.path)),e,2,Ar.o))}}function zh(t,e,n){return o(this,void 0,void 0,function(){var r,i,s,u;return a(this,function(c){switch(c.label){case 0:return i=[],s=[],u=[],(r=t).Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,o){u.push(r.Oo(o,e,n).then(function(t){t&&(r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,t.fromCache?"not-current":"current"),i.push(t),t=tl.Pn(o.targetId,t),s.push(t))}))}),[4,Promise.all(u)]);case 1:return c.sent(),r.vo._r(i),[4,function(t,e){return o(this,void 0,void 0,function(){var n,r,i,o,s,u,c;return a(this,function(a){switch(a.label){case 0:n=t,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return uu.forEach(e,function(e){return uu.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return uu.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return a.sent(),[3,4];case 3:if(!vu(r=a.sent()))throw r;return Ur("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)c=o[i],s=c.targetId,c.fromCache||(u=n.kn.get(s),c=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(c),n.kn=n.kn.insert(s,c));return[2]}})})}(r.localStore,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function Xh(t,e,n,r){return o(this,void 0,void 0,function(){var i,o;return a(this,function(a){switch(a.label){case 0:return[4,(s=(i=t).localStore,u=e,l=(c=s)._n,c.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return l.jt(t,u).next(function(e){return e?c.Mn.pn(t,e):uu.resolve(null)})}))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Zf(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Fh(i,e,r||null),Mh(i,e),i.localStore._n.Gt(e)):zr(),a.label=4;case 4:return[4,zh(i,o)];case 5:return a.sent(),[3,7];case 6:Ur("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}var s,u,c,l})})}function Yh(t,e){return o(this,void 0,void 0,function(){var n,r,i,o,s,u,c,l;return a(this,function(a){switch(a.label){case 0:return Gh(n=t),Zh(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Hh(n,r.toArray())]);case 1:return i=a.sent(),n.$o=!0,[4,$f(n.remoteStore,!0)];case 2:for(a.sent(),o=0,s=i;o<s.length;o++)u=s[o],Ff(n.remoteStore,u);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?c.push(e):l=l.then(function(){return Uh(n,e),pl(n.localStore,e,!0)}),Uf(n.remoteStore,e)}),[4,l]);case 4:return a.sent(),[4,Hh(n,c)];case 5:return a.sent(),(f=n).Co.forEach(function(t,e){Uf(f.remoteStore,e)}),f.No.ts(),f.Co=new Map,f.Do=new La(Ei.comparator),n.$o=!1,[4,$f(n.remoteStore,!1)];case 6:a.sent(),a.label=7;case 7:return[2]}var f})})}function Hh(t,e){return o(this,void 0,void 0,function(){var n,r,i,s,u,c,l,f,h,d,p,m;return a(this,function(g){switch(g.label){case 0:n=t,r=[],i=[],s=0,u=e,g.label=1;case 1:return s<u.length?(c=u[s],l=void 0,(f=n.Vo.get(c))&&0!==f.length?[4,dl(n.localStore,Lo(f[0]))]:[3,7]):[3,13];case 2:l=g.sent(),h=0,d=f,g.label=3;case 3:return h<d.length?(p=d[h],p=n.Po.get(p),[4,function(t,e){return o(this,void 0,void 0,function(){var n,r;return a(this,function(i){switch(i.label){case 0:return[4,ml((n=t).localStore,e.query,!0)];case 1:return r=i.sent(),r=e.view.Ao(r),[2,(n.isPrimaryClient&&jh(n,e.targetId,r.To),r)]}})})}(n,p)]):[3,6];case 4:(p=g.sent()).snapshot&&i.push(p.snapshot),g.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,gl(n.localStore,c)];case 8:return m=g.sent(),[4,dl(n.localStore,m)];case 9:return l=g.sent(),[4,Nh(n,Kh(m),c,!1)];case 10:g.sent(),g.label=11;case 11:r.push(l),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Kh(t){return To(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Gh(t){return t.remoteStore.remoteSyncer.applyRemoteEvent=Lh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(t,e){var n=t;if((t=n.Co.get(e))&&t.bo)return Za().add(t.key);var r=Za();if(!(e=n.Vo.get(e)))return r;for(var i=0,o=e;i<o.length;i++){var a=o[i];a=n.Po.get(a),r=r.unionWith(a.view.wo)}return r}.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=function(t,e,n){return o(this,void 0,void 0,function(){var r,i,o,s;return a(this,function(a){switch(a.label){case 0:return(r=t).sharedClientState.updateQueryState(e,"rejected",n),s=r.Co.get(e),(i=s&&s.key)?(o=(o=new La(Ei.comparator)).insert(i,ji.newNoDocument(i,Qr.min())),s=Za().add(i),s=new Qa(Qr.min(),new Map,new ja(Kr),o,s),[4,Lh(r,s)]):[3,2];case 1:return a.sent(),r.Do=r.Do.remove(i),r.Co.delete(e),qh(r),[3,4];case 2:return[4,pl(r.localStore,e,!1).then(function(){return Uh(r,e,n)}).catch(kc)];case 3:a.sent(),a.label=4;case 4:return[2]}})})}.bind(null,t),t.vo._r=function(t,e){for(var n=t,r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query;if(s=n.queries.get(s)){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&ph(n)}.bind(null,t.eventManager),t.vo.Mo=function(t,e,n){var r=t;if(t=r.queries.get(e))for(var i=0,o=t.listeners;i<o.length;i++)o[i].onError(n);r.queries.delete(e)}.bind(null,t.eventManager),t}function Zh(t){return t.remoteStore.remoteSyncer.applySuccessfulWrite=function(t,e){return o(this,void 0,void 0,function(){var n,r,i;return a(this,function(o){switch(o.label){case 0:n=t,r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,cl(n.localStore,e)];case 2:return i=o.sent(),Fh(n,r,null),Mh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,zh(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,kc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=function(t,e,n){return o(this,void 0,void 0,function(){var r,i;return a(this,function(o){switch(o.label){case 0:r=t,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.localStore,s=e,(u=a).persistence.runTransaction("Reject batch","readwrite-primary",function(t){var e;return u._n.lookupMutationBatch(t,s).next(function(n){return Xr(null!==n),e=n.keys(),u._n.removeMutationBatch(t,n)}).next(function(){return u._n.performConsistencyCheck(t)}).next(function(){return u.Mn.pn(t,e)})}))];case 2:return i=o.sent(),Fh(r,e,n),Mh(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,zh(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,kc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u})})}.bind(null,t),t}function Wh(t,e,n){var r=t;(function(t,e,n){return o(this,void 0,void 0,function(){var r,i,o,s,u;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=a.sent(),[4,(f=t.localStore,d=f,p=ms((h=r).createTime),d.persistence.runTransaction("hasNewerBundle","readonly",function(t){return d.Ke.getBundleMetadata(t,h.id)}).then(function(t){return!!t&&0<=t.createTime.compareTo(p)}))];case 2:return a.sent()?[4,e.close()]:[3,4];case 3:return[2,(a.sent(),void n._completeWith({taskState:"Success",documentsLoaded:r.totalDocuments,bytesLoaded:r.totalBytes,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}))];case 4:return n._updateProgress(Ih(r)),i=new wh(r,t.localStore,e.R),[4,e.Lo()];case 5:o=a.sent(),a.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(s=a.sent())&&n._updateProgress(s),[4,e.Lo()];case 8:o=a.sent(),a.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return u=a.sent(),[4,zh(t,u.wn,void 0)];case 12:return a.sent(),[4,(f=t.localStore,c=r,(l=f).persistence.runTransaction("Save bundle","readwrite",function(t){return l.Ke.saveBundleMetadata(t,c)}))];case 13:return a.sent(),n._completeWith(u.progress),[3,15];case 14:return jr("SyncEngine","Loading bundle failed with "+(u=a.sent())),n._failWith(u),[3,15];case 15:return[2]}var c,l,f,h,d,p})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var Qh,$h,Jh=(ad.prototype.initialize=function(t){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return this.R=bf(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},ad.prototype.Uo=function(t){return null},ad.prototype.Ko=function(t){return sl(this.persistence,new el,t.initialUser,this.R)},ad.prototype.qo=function(t){return new Ol(Dl.bs,this.R)},ad.prototype.Bo=function(t){return new Jl},ad.prototype.terminate=function(){return o(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},ad),td=(r(od,$h=Jh),od.prototype.initialize=function(t){return o(this,void 0,void 0,function(){var e=this;return a(this,function(n){switch(n.label){case 0:return[4,$h.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,wl(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,t)];case 3:return n.sent(),[4,Zh(this.Qo.syncEngine)];case 4:return n.sent(),[4,Zf(this.Qo.remoteStore)];case 5:return n.sent(),[4,this.persistence.He(function(){return e.gcScheduler&&!e.gcScheduler.started&&e.gcScheduler.start(e.localStore),Promise.resolve()})];case 6:return n.sent(),[2]}})})},od.prototype.Ko=function(t){return sl(this.persistence,new el,t.initialUser,this.R)},od.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new Ec(e,t.asyncQueue)},od.prototype.qo=function(t){var e=Qc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ic.withCacheSize(this.cacheSizeBytes):ic.DEFAULT;return new Kc(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,wf(),vf(),this.R,this.sharedClientState,!!this.forceOwnership)},od.prototype.Bo=function(t){return new Jl},od),ed=(r(id,Qh=td),id.prototype.initialize=function(t){return o(this,void 0,void 0,function(){var e,n=this;return a(this,function(r){switch(r.label){case 0:return[4,Qh.prototype.initialize.call(this,t)];case 1:return r.sent(),e=this.Qo.syncEngine,this.sharedClientState instanceof $l?(this.sharedClientState.syncEngine={ui:Xh.bind(null,e),ai:function(t,e,n,r){return o(this,void 0,void 0,function(){var i,o,s;return a(this,function(a){switch(a.label){case 0:return(i=t).$o?(Ur("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,yl(i.localStore)];case 3:return o=a.sent(),s=Qa.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,zh(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,pl(i.localStore,e,!0)];case 6:return a.sent(),Uh(i,e,r),[3,8];case 7:zr(),a.label=8;case 8:return[2]}})})}.bind(null,e),hi:function(t,e,n){return o(this,void 0,void 0,function(){var r,i,o,s,u,c,l,f;return a(this,function(h){switch(h.label){case 0:if(!(r=Gh(t)).$o)return[3,10];i=0,o=e,h.label=1;case 1:return i<o.length?(o=o[i],r.Vo.has(o)?(Ur("SyncEngine","Adding an already active target "+o),[3,5]):[4,gl(r.localStore,o)]):[3,6];case 2:return s=h.sent(),[4,dl(r.localStore,s)];case 3:return u=h.sent(),[4,Nh(r,Kh(s),u.targetId,!1)];case 4:h.sent(),Ff(r.remoteStore,u),h.label=5;case 5:return i++,[3,1];case 6:c=function(t){return a(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,pl(r.localStore,t,!1).then(function(){Uf(r.remoteStore,t),Uh(r,t)}).catch(kc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,f=n,h.label=7;case 7:return l<f.length?(f=f[l],[5,c(f)]):[3,10];case 8:h.sent(),h.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}.bind(null,e),fn:function(t){return t.localStore.persistence.fn()}.bind(null,e),ci:function(t){return o(this,void 0,void 0,function(){var e;return a(this,function(n){return[2,yl((e=t).localStore).then(function(t){return zh(e,t)})]})})}.bind(null,e)},[4,this.sharedClientState.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.He(function(t){return o(n,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,Yh(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return r.sent(),[2]}})})},id.prototype.Bo=function(t){var e=wf();if(!$l.yt(e))throw new Pr(Lr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Qc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new $l(e,t.asyncQueue,n,t.clientId,t.initialUser)},id),nd=(rd.prototype.initialize=function(t,e){return o(this,void 0,void 0,function(){var n=this;return a(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Ph(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=function(t,e){return o(this,void 0,void 0,function(){var n,r;return a(this,function(i){switch(i.label){case 0:return(n=t).currentUser.isEqual(e)?[3,3]:(Ur("SyncEngine","User change. New user:",e.toKey()),[4,ul(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,(o=n).ko.forEach(function(t){t.forEach(function(t){t.reject(new Pr(Lr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ko.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,zh(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o})})}.bind(null,this.syncEngine),[4,$f(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},rd.prototype.createEventManager=function(t){return new ih},rd.prototype.createDatastore=function(t){var e=bf(t.databaseInfo.databaseId),n=(n=t.databaseInfo,new of(n));return t=t.credentials,new Of(t,n,e)},rd.prototype.createRemoteStore=function(t){var e=this;return new kf(this.localStore,this.datastore,t.asyncQueue,function(t){return Ph(e.syncEngine,t,0)},t=new(ef.yt()?ef:tf))},rd.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){return o=new Ch(t,e,n,r,i,o),a&&(o.$o=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},rd.prototype.terminate=function(){return function(t){return o(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return e=t,Ur("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Mf(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},rd);function rd(){}function id(t,e){var n=this;return(n=Qh.call(this,t,e,!1)||this).Qo=t,n.cacheSizeBytes=e,n.synchronizeTabs=!0,n}function od(t,e,n){var r=this;return(r=$h.call(this)||this).Qo=t,r.cacheSizeBytes=e,r.forceOwnership=n,r.synchronizeTabs=!1,r}function ad(){this.synchronizeTabs=!1}function sd(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return o(this,void 0,void 0,function(){var r;return a(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return o(this,void 0,void 0,function(){return a(this,function(t){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var ud=(yd.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},yd.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},yd.prototype.Wo=function(){this.muted=!0},yd.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},yd),cd=(gd.prototype.close=function(){return this.Go.cancel()},gd.prototype.getMetadata=function(){return o(this,void 0,void 0,function(){return a(this,function(t){return[2,this.metadata.promise]})})},gd.prototype.Lo=function(){return o(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},gd.prototype.Ho=function(){return o(this,void 0,void 0,function(){var t,e,n;return a(this,function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(t=r.sent())?[2,null]:(n=this.zo.decode(t),e=Number(n),isNaN(e)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(e)]);case 2:return n=r.sent(),[2,new gh(JSON.parse(n),t.length+e)]}})})},gd.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},gd.prototype.Jo=function(){return o(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},gd.prototype.Xo=function(t){return o(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},gd.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},gd.prototype.tc=function(){return o(this,void 0,void 0,function(){var t,e;return a(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})},gd),ld=(md.prototype.lookup=function(t){return o(this,void 0,void 0,function(){var e,n=this;return a(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new Pr(Lr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return o(this,void 0,void 0,function(){var n,r,i,o,s;return a(this,function(a){switch(a.label){case 0:return r=_s((n=t).R)+"/documents",i={documents:e.map(function(t){return ws(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return i=a.sent(),o=new Map,i.forEach(function(t){var e;e=n.R,t="found"in(t=t)?function(t,e){Xr(!!e.found),e.found.name,e.found.updateTime;var n=vs(t,e.found.name);t=ms(e.found.updateTime),e=new Ui({mapValue:{fields:e.found.fields}});return ji.newFoundDocument(n,t,e)}(e,t):"missing"in t?function(t,e){return Xr(!!e.missing),Xr(!!e.readTime),t=vs(t,e.missing),e=ms(e.readTime),ji.newNoDocument(t,e)}(e,t):zr();o.set(t.key.toString(),t)}),s=[],[2,(e.forEach(function(t){Xr(!!(t=o.get(t.toString()))),s.push(t)}),s)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},md.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},md.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},md.prototype.delete=function(t){this.write(new Oa(t,this.precondition(t))),this.writtenDocs.add(t.toString())},md.prototype.commit=function(){return o(this,void 0,void 0,function(){var t,e=this;return a(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){n=Ei.fromPath(n),e.mutations.push(new Ca(n,e.precondition(n)))}),[4,function(t,e){return o(this,void 0,void 0,function(){var n,r,i;return a(this,function(o){switch(o.label){case 0:return r=_s((n=t).R)+"/documents",i={writes:e.map(function(t){return Ts(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},md.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw zr();e=Qr.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Pr(Lr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},md.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ca.updateTime(e):ca.none()},md.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(this.writtenDocs.has(t.toString())||!e)return ca.exists(!0);if(e.isEqual(Qr.min()))throw new Pr(Lr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ca.updateTime(e)},md.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},md.prototype.ensureCommitNotCalled=function(){},md),fd=(pd.prototype.run=function(){--this.ec,this.nc()},pd.prototype.nc=function(){var t=this;this.Zi.ji(function(){return o(t,void 0,void 0,function(){var t,e,n=this;return a(this,function(r){return t=new ld(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},pd.prototype.sc=function(t){try{var e=this.updateFunction(t);return!ki(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},pd.prototype.ic=function(t){var e=this;0<this.ec&&this.rc(t)?(--this.ec,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},pd.prototype.rc=function(t){return"FirebaseError"===t.name&&("aborted"===(t=t.code)||"failed-precondition"===t||!Na(t))},pd),hd=(dd.prototype.getConfiguration=function(){return o(this,void 0,void 0,function(){return a(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},dd.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},dd.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Pr(Lr.FAILED_PRECONDITION,"The client has already been terminated.")},dd.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new su;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return o(t,void 0,void 0,function(){var t;return a(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:n.sent(),n.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=rh(t=n.sent(),"Failed to shutdown persistence"),e.reject(t),[3,6];case 6:return[2]}})})}),e.promise},dd);function dd(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Al.UNAUTHENTICATED,this.clientId=Yr.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return o(r,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return Ur("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}function pd(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new xf(this.asyncQueue,"transaction_retry")}function md(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}function gd(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new su,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}function yd(t){this.observer=t,this.muted=!1}function wd(t,e){return o(this,void 0,void 0,function(){var n,r,i=this;return a(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Ur("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return o(i,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,ul(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function vd(t,e){return o(this,void 0,void 0,function(){var n,r;return a(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,bd(t)];case 1:return n=i.sent(),Ur("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return o(this,void 0,void 0,function(){var n,r;return a(this,function(i){switch(i.label){case 0:return(n=t).asyncQueue.verifyOperationInProgress(),Ur("RemoteStore","RemoteStore received new credentials"),r=Xf(n),n.Or.add(3),[4,Mf(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Bf(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function bd(t){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Ur("FirestoreClient","Using default OfflineComponentProvider"),[4,wd(t,new Jh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function kd(t){return o(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Ur("FirestoreClient","Using default OnlineComponentProvider"),[4,vd(t,new nd)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function _d(t){return bd(t).then(function(t){return t.persistence})}function Id(t){return bd(t).then(function(t){return t.localStore})}function Ed(t){return kd(t).then(function(t){return t.remoteStore})}function xd(t){return kd(t).then(function(t){return t.syncEngine})}function Td(t){return o(this,void 0,void 0,function(){var e,n;return a(this,function(r){switch(r.label){case 0:return[4,kd(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=function(t,e){return o(this,void 0,void 0,function(){var n,r,i,o,s;return a(this,function(a){switch(a.label){case 0:return n=Gh(t),(s=n.Po.get(e))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,dl(n.localStore,Lo(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.targetId,[4,Nh(n,e,r,"current"===s)];case 3:i=a.sent(),n.isPrimaryClient&&Ff(n.remoteStore,o),a.label=4;case 4:return[2,i]}})})}.bind(null,e.syncEngine),n.onUnlisten=function(t,e){return o(this,void 0,void 0,function(){var n,r,i;return a(this,function(o){switch(o.label){case 0:return r=(n=t).Po.get(e),1<(i=n.Vo.get(r.targetId)).length?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Bo(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,pl(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Uf(n.remoteStore,r.targetId),Uh(n,r.targetId)}).catch(kc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Uh(n,r.targetId),[4,pl(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}.bind(null,e.syncEngine),n)]}})})}function Sd(t,e,n){var r=this;void 0===n&&(n={});var i=new su;return t.asyncQueue.enqueueAndForget(function(){return o(r,void 0,void 0,function(){var r;return a(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ud({next:function(o){e.enqueueAndForget(function(){return dh(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Pr(Lr.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Pr(Lr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new mh(So(n.path),o,{includeMetadataChanges:!0,so:!0});return hh(t,a)},[4,Td(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Od(t,e,n){var r=this;void 0===n&&(n={});var i=new su;return t.asyncQueue.enqueueAndForget(function(){return o(r,void 0,void 0,function(){var r;return a(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ud({next:function(n){e.enqueueAndForget(function(){return dh(t,a)}),n.fromCache&&"server"===r.source?i.reject(new Pr(Lr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new mh(n,o,{includeMetadataChanges:!0,so:!0});return hh(t,a)},[4,Td(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Cd(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t}var Dd=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Ad=(Object.defineProperty(zd.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),zd.prototype.isEqual=function(t){return t instanceof zd&&t.projectId===this.projectId&&t.database===this.database},zd),Nd=new Map,Rd=(qd.prototype.getToken=function(){return Promise.resolve(null)},qd.prototype.invalidateToken=function(){},qd.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Al.UNAUTHENTICATED)})},qd.prototype.removeChangeListener=function(){this.changeListener=null},qd),Ld=(jd.prototype.getToken=function(){return Promise.resolve(this.token)},jd.prototype.invalidateToken=function(){},jd.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},jd.prototype.removeChangeListener=function(){this.changeListener=null},jd),Pd=(Vd.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Ur("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Xr("string"==typeof n.accessToken),new Cd(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},Vd.prototype.invalidateToken=function(){this.forceRefresh=!0},Vd.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return o(n,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},Vd.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},Vd.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Xr(null===t||"string"==typeof t),new Al(t)},Vd),Bd=(Object.defineProperty(Ud.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),Ud),Md=(Fd.prototype.getToken=function(){return Promise.resolve(new Bd(this.hc,this.lc,this.fc))},Fd.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Al.FIRST_PARTY)})},Fd.prototype.removeChangeListener=function(){},Fd.prototype.invalidateToken=function(){},Fd);function Fd(t,e,n){this.hc=t,this.lc=e,this.fc=n}function Ud(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Al.FIRST_PARTY}function Vd(t){var e=this;function n(t){Ur("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)}this.currentUser=Al.UNAUTHENTICATED,this.oc=new su,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})},t.onInit(n),setTimeout(function(){var r;e.auth||((r=t.getImmediate({optional:!0}))?n(r):(Ur("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve()))},0)}function jd(t){this.token=t,this.changeListener=null}function qd(){this.changeListener=null}function zd(t,e){this.projectId=t,this.database=e||"(default)"}function Xd(t,e,n){if(!n)throw new Pr(Lr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Yd(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Pr(Lr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Hd(t,e,n,r){if(!0===e&&!0===r)throw new Pr(Lr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Kd(t){if(!Ei.isDocumentKey(t))throw new Pr(Lr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Gd(t){if(Ei.isDocumentKey(t))throw new Pr(Lr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Zd(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return 20<t.length&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"!=typeof t)return"function"==typeof t?"a function":zr();if(t instanceof Array)return"an array";var e=function(){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&1<e.length)return e[1]}return null}();return e?"a custom "+e+" object":"an object"}function Wd(t,e){if((t="_delegate"in t?t._delegate:t)instanceof e)return t;if(e.name===t.constructor.name)throw new Pr(Lr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");throw t=Zd(t),new Pr(Lr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+t)}function Qd(t,e){if(e<=0)throw new Pr(Lr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var $d,Jd=(up.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},up),tp=(Object.defineProperty(sp.prototype,"app",{get:function(){if(!this._app)throw new Pr(Lr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(sp.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(sp.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),sp.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Pr(Lr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jd(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Rd;switch(t.type){case"gapi":var e=t.client;return Xr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Md(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Pr(Lr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},sp.prototype._getSettings=function(){return this._settings},sp.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},sp.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},sp.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},sp.prototype._terminate=function(){return(t=Nd.get(this))&&(Ur("ComponentProvider","Removing Datastore"),Nd.delete(this),t.terminate()),Promise.resolve();var t},sp),ep=(Object.defineProperty(ap.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(ap.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(ap.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(ap.prototype,"parent",{get:function(){return new rp(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),ap.prototype.withConverter=function(t){return new ap(this.firestore,t,this._key)},ap),np=(op.prototype.withConverter=function(t){return new op(this.firestore,t,this._query)},op),rp=(r(ip,$d=np),Object.defineProperty(ip.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(ip.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(ip.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new ep(this.firestore,null,new Ei(t))},enumerable:!1,configurable:!0}),ip.prototype.withConverter=function(t){return new ip(this.firestore,t,this._path)},ip);function ip(t,e,n){var r=this;return(r=$d.call(this,t,e,So(n))||this)._path=n,r.type="collection",r}function op(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}function ap(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}function sp(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jd({}),this._settingsFrozen=!1,t instanceof Ad?(this._databaseId=t,this._credentials=new Rd):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Pr(Lr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ad(t.options.projectId)}(t),this._credentials=new Pd(e))}function up(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Pr(Lr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Pr(Lr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Hd("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}function cp(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=b(t),Xd("collection","path",e),t instanceof tp)return Gd(n=oi.fromString.apply(oi,s([e],r))),new rp(t,null,n);if(!(t instanceof ep||t instanceof rp))throw new Pr(Lr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Gd(n=oi.fromString.apply(oi,s([t.path],r)).child(oi.fromString(e))),new rp(t.firestore,null,n)}function lp(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=b(t),Xd("doc","path",e=1===arguments.length?Yr.u():e),t instanceof tp)return Kd(n=oi.fromString.apply(oi,s([e],r))),new ep(t,null,new Ei(n));if(!(t instanceof ep||t instanceof rp))throw new Pr(Lr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Kd(n=t._path.child(oi.fromString.apply(oi,s([e],r)))),new ep(t.firestore,t instanceof rp?t.converter:null,new Ei(n))}function fp(t,e){return t=b(t),e=b(e),(t instanceof ep||t instanceof rp)&&(e instanceof ep||e instanceof rp)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function hp(t,e){return t=b(t),e=b(e),t instanceof np&&e instanceof np&&t.firestore===e.firestore&&Bo(t._query,e._query)&&t.converter===e.converter}var dp=(Object.defineProperty(pp.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),pp.prototype.enqueueAndForget=function(t){this.enqueue(t)},pp.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},pp.prototype.enterRestrictedMode=function(t){this._c||(this._c=!0,this.Ec=t||!1,(t=vf())&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic))},pp.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new su;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},pp.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},pp.prototype.bc=function(){return o(this,void 0,void 0,function(){var t,e=this;return a(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!vu(t=n.sent()))throw t;return Ur("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:0<this.wc.length&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},pp.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Vr("INTERNAL UNHANDLED ERROR: ",(r=(n=t).message||"",r=n.stack?n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack:r)),t;var n,r}).then(function(t){return e.gc=!1,t})});return this.dc=n},pp.prototype.enqueueAfterDelay=function(t,e,n){var r=this;return this.Ac(),-1<this.Tc.indexOf(t)&&(e=0),n=eh.createAndSchedule(this,t,e,n,function(t){return r.vc(t)}),this.mc.push(n),n},pp.prototype.Ac=function(){this.yc&&zr()},pp.prototype.verifyOperationInProgress=function(){},pp.prototype.Pc=function(){return o(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},pp.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},pp.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},pp.prototype.Dc=function(t){this.Tc.push(t)},pp.prototype.vc=function(t){t=this.mc.indexOf(t),this.mc.splice(t,1)},pp);function pp(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new xf(this,"async_queue_retry"),this.Ic=function(){var e=vf();e&&Ur("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=vf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}function mp(t){return function(){if("object"==typeof t&&null!==t)for(var e=t,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return 1}}()}var gp,yp=(bp.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},bp.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},bp.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},bp.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},bp.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},bp.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},bp),wp=(r(vp,gp=tp),vp.prototype._terminate=function(){return this._firestoreClient||_p(this),this._firestoreClient.terminate()},vp);function vp(t,e){var n=this;return(n=gp.call(this,t,e)||this).type="firestore",n._queue=new dp,n._persistenceKey="name"in t?t.name:"[DEFAULT]",n}function bp(){this._progressObserver={},this._taskCompletionResolver=new su,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}function kp(t){return t._firestoreClient||_p(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function _p(t){var e,n,r,i=t._freezeSettings();e=t._databaseId,n=(null===(r=t._app)||void 0===r?void 0:r.options.appId)||"",r=t._persistenceKey,i=new Dd(e,n,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams);t._firestoreClient=new hd(t._credentials,t._queue,i)}function Ip(t,e,n){var r=this,i=new su;return t.asyncQueue.enqueue(function(){return o(r,void 0,void 0,function(){var r;return a(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,wd(t,n)];case 1:return o.sent(),[4,vd(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(r=o.sent()).name?r.code===Lr.FAILED_PRECONDITION||r.code===Lr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Ep(t){if(t._initialized||t._terminated)throw new Pr(Lr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var xp=(Bp.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},Bp),Tp=(Pp.fromBase64String=function(t){try{return new Pp(ci.fromBase64String(t))}catch(t){throw new Pr(Lr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},Pp.fromUint8Array=function(t){return new Pp(ci.fromUint8Array(t))},Pp.prototype.toBase64=function(){return this._byteString.toBase64()},Pp.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},Pp.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},Pp.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},Pp),Sp=function(t){this._methodName=t},Op=(Object.defineProperty(Lp.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(Lp.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),Lp.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},Lp.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},Lp.prototype._compareTo=function(t){return Kr(this._lat,t._lat)||Kr(this._long,t._long)},Lp),Cp=/^__.*__$/,Dp=(Rp.prototype.toMutation=function(t,e){return null!==this.fieldMask?new wa(t,this.data,this.fieldMask,e,this.fieldTransforms):new ya(t,this.data,e,this.fieldTransforms)},Rp),Ap=(Np.prototype.toMutation=function(t,e){return new wa(t,this.data,this.fieldMask,e,this.fieldTransforms)},Np);function Np(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}function Rp(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}function Lp(t,e){if(!isFinite(t)||t<-90||90<t)throw new Pr(Lr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new Pr(Lr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}function Pp(t){this._byteString=t}function Bp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Pr(Lr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new si(t)}function Mp(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw zr()}}var Fp=(Object.defineProperty(jp.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(jp.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),jp.prototype.xc=function(t){return new jp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},jp.prototype.kc=function(t){var e=null===(e=this.path)||void 0===e?void 0:e.child(t);return(e=this.xc({path:e,Fc:!1})).$c(t),e},jp.prototype.Oc=function(t){var e;t=null===(e=this.path)||void 0===e?void 0:e.child(t);return(t=this.xc({path:t,Fc:!1})).Cc(),t},jp.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},jp.prototype.Lc=function(t){return gm(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},jp.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},jp.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},jp.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(Mp(this.Nc)&&Cp.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},jp),Up=(Vp.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new Fp({Nc:t,methodName:e,qc:n,path:si.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},Vp);function Vp(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||bf(t)}function jp(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}function qp(t){var e=t._freezeSettings(),n=bf(t._databaseId);return new Up(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zp(t,e,n,r,i,o){var a=t.Uc((o=void 0===o?{}:o).merge||o.mergeFields?2:0,e,n,i);hm("Data must be an object, but it was:",a,r);var s,u;r=lm(r,a);if(o.merge)s=new ui(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var c=[],l=0,f=o.mergeFields;l<f.length;l++){var h=dm(e,f[l],n);if(!a.contains(h))throw new Pr(Lr.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");ym(c,h)||c.push(h)}s=new ui(c),u=a.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=null,u=a.fieldTransforms;return new Dp(new Ui(r),s,u)}var Xp,Yp=(r(Hp,Xp=Sp),Hp.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},Hp.prototype.isEqual=function(t){return t instanceof Hp},Hp);function Hp(){return null!==Xp&&Xp.apply(this,arguments)||this}function Kp(t,e,n){return new Fp({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Gp,Zp,Wp,Qp,$p=(r(om,Qp=Sp),om.prototype._toFieldTransform=function(t){return new ua(t.path,new Ko)},om.prototype.isEqual=function(t){return t instanceof om},om),Jp=(r(im,Wp=Sp),im.prototype._toFieldTransform=function(t){var e=Kp(this,t,!0),n=this.Kc.map(function(t){return cm(t,e)});n=new Go(n);return new ua(t.path,n)},im.prototype.isEqual=function(t){return this===t},im),tm=(r(rm,Zp=Sp),rm.prototype._toFieldTransform=function(t){var e=Kp(this,t,!0),n=this.Kc.map(function(t){return cm(t,e)});n=new Jo(n);return new ua(t.path,n)},rm.prototype.isEqual=function(t){return this===t},rm),em=(r(nm,Gp=Sp),nm.prototype._toFieldTransform=function(t){var e=new ra(t.R,zo(t.R,this.Qc));return new ua(t.path,e)},nm.prototype.isEqual=function(t){return this===t},nm);function nm(t,e){var n=this;return(n=Gp.call(this,t)||this).Qc=e,n}function rm(t,e){var n=this;return(n=Zp.call(this,t)||this).Kc=e,n}function im(t,e){var n=this;return(n=Wp.call(this,t)||this).Kc=e,n}function om(){return null!==Qp&&Qp.apply(this,arguments)||this}function am(t,e,n,r){var i=t.Uc(1,e,n);hm("Data must be an object, but it was:",i,r);var o=[],a=Ui.empty();return ei(r,function(t,r){var s=mm(e,t,n);r=b(r),t=i.Oc(s),r instanceof Yp?o.push(s):null!=(t=cm(r,t))&&(o.push(s),a.set(s,t))}),r=new ui(o),new Ap(a,r,i.fieldTransforms)}function sm(t,e,n,r,i,o){var a=t.Uc(1,e,n),s=[dm(e,r,n)],u=[i];if(o.length%2!=0)throw new Pr(Lr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(dm(e,o[c])),u.push(o[c+1]);for(var l,f,h,d=[],p=Ui.empty(),m=s.length-1;0<=m;--m)ym(d,s[m])||(l=s[m],f=b(f=u[m]),h=a.Oc(l),f instanceof Yp?d.push(l):null!=(h=cm(f,h))&&(d.push(l),p.set(l,h)));return i=new ui(d),new Ap(p,i,a.fieldTransforms)}function um(t,e,n,r){return cm(n,t.Uc((r=void 0!==r&&r)?4:3,e))}function cm(t,e){if(fm(t=b(t)))return hm("Unsupported field value:",e,t),lm(t,e);if(t instanceof Sp)return function(t,e){if(!Mp(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");(t=t._toFieldTransform(e))&&e.fieldTransforms.push(t)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=cm(o[i],e.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e)}return function(e,n){if(null===(e=b(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zo(n.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var r=Wr.fromDate(e);return{timestampValue:ds(n.R,r)}}if(e instanceof Wr)return r=new Wr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:ds(n.R,r)};if(e instanceof Op)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Tp)return{bytesValue:ps(n.R,e._byteString)};if(e instanceof ep){r=n.databaseId;var i=e.firestore._databaseId;if(!i.isEqual(r))throw n.Lc("Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+r.projectId+"/"+r.database);return{referenceValue:gs(e.firestore._databaseId||n.databaseId,e._key.path)}}throw n.Lc("Unsupported field value: "+Zd(e))}(0,e)}function lm(t,e){var n={};return ni(t)?e.path&&0<e.path.length&&e.fieldMask.push(e.path):ei(t,function(t,r){null!=(r=cm(r,e.kc(t)))&&(n[t]=r)}),{mapValue:{fields:n}}}function fm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Wr||t instanceof Op||t instanceof Tp||t instanceof ep||t instanceof Sp)}function hm(t,e,n){if(!fm(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))throw"an object"===(n=Zd(n))?e.Lc(t+" a custom object"):e.Lc(t+" "+n);var r}function dm(t,e,n){if((e=b(e))instanceof xp)return e._internalPath;if("string"==typeof e)return mm(t,e);throw gm("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var pm=new RegExp("[~\\*/\\[\\]]");function mm(t,e,n){if(0<=e.search(pm))throw gm("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(xp.bind.apply(xp,s([void 0],e.split(".")))))._internalPath}catch(r){throw gm("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function gm(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i;e="Function "+e+"() called with invalid data";return n&&(e+=" (via `toFirestore()`)"),n="",(o||a)&&(n+=" (found",o&&(n+=" in field "+r),a&&(n+=" in document "+i),n+=")"),new Pr(Lr.INVALID_ARGUMENT,(e+=". ")+t+n)}function ym(t,e){return t.some(function(t){return t.isEqual(e)})}var wm,vm=(Object.defineProperty(_m.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(_m.prototype,"ref",{get:function(){return new ep(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),_m.prototype.exists=function(){return null!==this._document},_m.prototype.data=function(){if(this._document){if(this._converter){var t=new bm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},_m.prototype.get=function(t){if(this._document&&null!==(t=this._document.data.field(Im("DocumentSnapshot.get",t))))return this._userDataWriter.convertValue(t)},_m),bm=(r(km,wm=vm),km.prototype.data=function(){return wm.prototype.data.call(this)},km);function km(){return null!==wm&&wm.apply(this,arguments)||this}function _m(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}function Im(t,e){return"string"==typeof e?mm(t,e):(e instanceof xp?e:e._delegate)._internalPath}var Em,xm,Tm=(Rm.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},Rm),Sm=(r(Nm,xm=vm),Nm.prototype.exists=function(){return xm.prototype.exists.call(this)},Nm.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Om(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},Nm.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document&&null!==(t=this._document.data.field(Im("DocumentSnapshot.get",t))))return this._userDataWriter.convertValue(t,e.serverTimestamps)},Nm),Om=(r(Am,Em=Sm),Am.prototype.data=function(t){return Em.prototype.data.call(this,t=void 0===t?{}:t)},Am),Cm=(Object.defineProperty(Dm.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(Dm.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(Dm.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),Dm.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Om(n._firestore,n._userDataWriter,r.key,r,new Tm(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},Dm.prototype.docChanges=function(t){if((t=!!(t=void 0===t?{}:t).includeMetadataChanges)&&this._snapshot.excludesMetadataChanges)throw new Pr(Lr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Om(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Tm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Om(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Tm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zr()}}(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},Dm);function Dm(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Tm(r.hasPendingWrites,r.fromCache),this.query=n}function Am(){return null!==Em&&Em.apply(this,arguments)||this}function Nm(t,e,n,r,i,o){var a=this;return(a=xm.call(this,t,e,n,r,o)||this)._firestore=t,a._firestoreImpl=t,a.metadata=i,a}function Rm(t,e){this.hasPendingWrites=t,this.fromCache=e}function Lm(t,e){return t instanceof Sm&&e instanceof Sm?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Cm&&e instanceof Cm&&t._firestore===e._firestore&&hp(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Pm(t){if(Co(t)&&0===t.explicitOrderBy.length)throw new Pr(Lr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Bm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++)t=i[r]._apply(t);return t}var Mm,Fm,Um,Vm,jm,qm=(r(Qm,jm=D=function(){}),Qm.prototype._apply=function(t){var e=qp(t.firestore);e=function(t,e,n,r,i,o){if(r.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Pr(Lr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){tg(o,i);for(var a=[],s=0,u=o;s<u.length;s++){var c=u[s];a.push(Jm(n,t,c))}l={arrayValue:{values:a}}}else l=Jm(n,t,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||tg(o,i),l=um(e,"where",o,"in"===i||"not-in"===i);var l=Zi.create(r,i,l);return function(t,e){if(e.g()){var n=Ao(t);if(null!==n&&!n.isEqual(e.field))throw new Pr(Lr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");null!==(n=Do(t))&&eg(0,e.field,n)}if(null!==(t=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(0<=e.indexOf(i.op))return i.op}return null}(t,function(){switch(e.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}())))throw t===e.op?new Pr(Lr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Pr(Lr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+t.toString()+"' filters.")}(t,l),l}(t._query,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new np(t.firestore,t.converter,(e=(t=t._query).filters.concat([e]),new xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),e,t.limit,t.limitType,t.startAt,t.endAt)))},Qm),zm=(r(Wm,Vm=D),Wm.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Pr(Lr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Pr(Lr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new _o(e,n);return e=r,null!==Do(n=t)||null!==(t=Ao(n))&&eg(0,t,e.field),r}(t._query,this.jc,this.zc);return new np(t.firestore,t.converter,(e=(t=t._query).explicitOrderBy.concat([e]),new xo(t.path,t.collectionGroup,e,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))},Wm),Xm=(r(Zm,Um=D),Zm.prototype._apply=function(t){return new np(t.firestore,t.converter,Po(t._query,this.Hc,this.Jc))},Zm),Ym=(r(Gm,Fm=D),Gm.prototype._apply=function(t){var e=$m(t,this.type,this.Yc,this.Xc);return new np(t.firestore,t.converter,(t=t._query,e=e,new xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)))},Gm),Hm=(r(Km,Mm=D),Km.prototype._apply=function(t){var e=$m(t,this.type,this.Yc,this.Xc);return new np(t.firestore,t.converter,(t=t._query,e=e,new xo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)))},Km);function Km(t,e,n){var r=this;return(r=Mm.call(this)||this).type=t,r.Yc=e,r.Xc=n,r}function Gm(t,e,n){var r=this;return(r=Fm.call(this)||this).type=t,r.Yc=e,r.Xc=n,r}function Zm(t,e,n){var r=this;return(r=Um.call(this)||this).type=t,r.Hc=e,r.Jc=n,r}function Wm(t,e){var n=this;return(n=Vm.call(this)||this).jc=t,n.zc=e,n.type="orderBy",n}function Qm(t,e,n){var r=this;return(r=jm.call(this)||this).jc=t,r.Wc=e,r.Gc=n,r.type="where",r}function $m(t,e,n,r){if(n[0]=b(n[0]),n[0]instanceof vm)return function(t,n,r,i){if(!r)throw new Pr(Lr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");for(var o=[],a=0,s=Ro(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Ni(n,r.key));else{var c=r.data.field(u.field);if(vi(c))throw new Pr(Lr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c)throw u=u.field.canonicalString(),new Pr(Lr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.");o.push(c)}}return new go(o,i)}(t._query,t.firestore._databaseId,n[0]._document,r);var i=qp(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new Pr(Lr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Pr(Lr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!No(t)&&-1!==c.indexOf("/"))throw new Pr(Lr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(oi.fromString(c));if(!Ei.isDocumentKey(l))throw new Pr(Lr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");l=new Ei(l),s.push(Ni(e,l))}else c=um(n,r,c),s.push(c)}return new go(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Jm(t,e,n){if("string"==typeof(n=b(n))){if(""===n)throw new Pr(Lr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!No(e)&&-1!==n.indexOf("/"))throw new Pr(Lr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");if(e=e.path.child(oi.fromString(n)),!Ei.isDocumentKey(e))throw new Pr(Lr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Ni(t,new Ei(e))}if(n instanceof ep)return Ni(t,n._key);throw new Pr(Lr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Zd(n)+".")}function tg(t,e){if(!Array.isArray(t)||0===t.length)throw new Pr(Lr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new Pr(Lr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function eg(t,e,n){if(!n.isEqual(e))throw new Pr(Lr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ng(){}function rg(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}ng.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Ti(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(wi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw zr()}},ng.prototype.convertObject=function(t,e){var n=this,r={};return ei(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},ng.prototype.convertGeoPoint=function(t){return new Op(yi(t.latitude),yi(t.longitude))},ng.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},ng.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){return vi(e=e.mapValue.fields.__previous_value__)?t(e):e}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(bi(t));default:return null}},ng.prototype.convertTimestamp=function(t){return t=gi(t),new Wr(t.seconds,t.nanos)},ng.prototype.convertDocumentKey=function(t,e){var n=oi.fromString(t);return Xr(Ms(n)),t=new Ad(n.get(1),n.get(3)),n=new Ei(n.popFirst(5)),t.isEqual(e)||Vr("Document "+n+" contains a document reference within a different database ("+t.projectId+"/"+t.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),n};var ig,og=(r(ug,ig=x=ng),ug.prototype.convertBytes=function(t){return new Tp(t)},ug.prototype.convertReference=function(t){return t=this.convertDocumentKey(t,this.firestore._databaseId),new ep(this.firestore,null,t)},ug),ag=(sg.prototype.set=function(t,e,n){return this._verifyNotCommitted(),e=rg((t=cg(t,this._firestore)).converter,e,n),n=zp(this._dataReader,"WriteBatch.set",t._key,e,null!==t.converter,n),this._mutations.push(n.toMutation(t._key,ca.none())),this},sg.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return this._verifyNotCommitted(),t=cg(t,this._firestore),e="string"==typeof(e=b(e))||e instanceof xp?sm(this._dataReader,"WriteBatch.update",t._key,e,n,r):am(this._dataReader,"WriteBatch.update",t._key,e),this._mutations.push(e.toMutation(t._key,ca.exists(!0))),this},sg.prototype.delete=function(t){return this._verifyNotCommitted(),t=cg(t,this._firestore),this._mutations=this._mutations.concat(new Oa(t._key,ca.none())),this},sg.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,0<this._mutations.length?this._commitHandler(this._mutations):Promise.resolve()},sg.prototype._verifyNotCommitted=function(){if(this._committed)throw new Pr(Lr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},sg);function sg(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=qp(t)}function ug(t){var e=this;return(e=ig.call(this)||this).firestore=t,e}function cg(t,e){if((t=b(t)).firestore!==e)throw new Pr(Lr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var lg,fg=(r(hg,lg=x),hg.prototype.convertBytes=function(t){return new Tp(t)},hg.prototype.convertReference=function(t){return t=this.convertDocumentKey(t,this.firestore._databaseId),new ep(this.firestore,null,t)},hg);function hg(t){var e=this;return(e=lg.call(this)||this).firestore=t,e}function dg(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Wd(t,ep);var o=Wd(t.firestore,wp),a=qp(o);return mg(o,[("string"==typeof(e=b(e))||e instanceof xp?sm(a,"updateDoc",t._key,e,n,r):am(a,"updateDoc",t._key,e)).toMutation(t._key,ca.exists(!0))])}function pg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t=b(t);var r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||mp(e[i])||(r=e[i],i++);var s,u,c,l,f,h,d={includeMetadataChanges:r.includeMetadataChanges};return mp(e[i])&&(s=e[i],e[i]=null===(r=s.next)||void 0===r?void 0:r.bind(s),e[i+1]=null===(r=s.error)||void 0===r?void 0:r.bind(s),e[i+2]=null===(r=s.complete)||void 0===r?void 0:r.bind(s)),t instanceof ep?(c=Wd(t.firestore,wp),l=So(t._key.path),h={next:function(n){e[i]&&e[i](gg(c,t,n))},error:e[i+1],complete:e[i+2]}):(u=Wd(t,np),c=Wd(u.firestore,wp),l=u._query,f=new fg(c),h={next:function(t){e[i]&&e[i](new Cm(c,f,u,t))},error:e[i+1],complete:e[i+2]},Pm(t._query)),function(t,e,n){var r=this,i=new ud(h),s=new mh(e,i,n);return t.asyncQueue.enqueueAndForget(function(){return o(r,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return e=hh,[4,Td(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){i.Wo(),t.asyncQueue.enqueueAndForget(function(){return o(r,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return e=dh,[4,Td(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(kp(c),l,d)}function mg(t,e){return function(t,e){var n=this,r=new su;return t.asyncQueue.enqueueAndForget(function(){return o(n,void 0,void 0,function(){var n;return a(this,function(i){switch(i.label){case 0:return n=Rh,[4,xd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(kp(t),e)}function gg(t,e,n){var r=n.docs.get(e._key),i=new fg(t);return new Sm(t,i,e._key,r,new Tm(n.hasPendingWrites,n.fromCache),e.converter)}var yg,wg=(bg.prototype.get=function(t){var e=this,n=cg(t,this._firestore),r=new og(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return zr();if((t=t[0]).isFoundDocument())return new vm(e._firestore,r,t.key,t,n.converter);if(t.isNoDocument())return new vm(e._firestore,r,n._key,null,n.converter);throw zr()})},bg.prototype.set=function(t,e,n){return e=rg((t=cg(t,this._firestore)).converter,e,n),n=zp(this._dataReader,"Transaction.set",t._key,e,null!==t.converter,n),this._transaction.set(t._key,n),this},bg.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return t=cg(t,this._firestore),e="string"==typeof(e=b(e))||e instanceof xp?sm(this._dataReader,"Transaction.update",t._key,e,n,r):am(this._dataReader,"Transaction.update",t._key,e),this._transaction.update(t._key,e),this},bg.prototype.delete=function(t){return t=cg(t,this._firestore),this._transaction.delete(t._key),this},r(vg,yg=bg),vg.prototype.get=function(t){var e=this,n=cg(t,this._firestore),r=new fg(this._firestore);return yg.prototype.get.call(this,t).then(function(t){return new Sm(e._firestore,r,n._key,t._document,new Tm(!1,!1),n.converter)})},vg);function vg(t,e){var n=this;return(n=yg.call(this,t,e)||this)._firestore=t,n}function bg(t,e){this._firestore=t,this._transaction=e,this._dataReader=qp(t)}function kg(){if("undefined"==typeof Uint8Array)throw new Pr(Lr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function _g(){if("undefined"==typeof atob)throw new Pr(Lr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ig,Eg=(Ag.fromBase64String=function(t){return _g(),new Ag(Tp.fromBase64String(t))},Ag.fromUint8Array=function(t){return kg(),new Ag(Tp.fromUint8Array(t))},Ag.prototype.toBase64=function(){return _g(),this._delegate.toBase64()},Ag.prototype.toUint8Array=function(){return kg(),this._delegate.toUint8Array()},Ag.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},Ag.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},Ag),xg=(Dg.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Ep(t=Wd(t,wp));var n=kp(t),r=t._freezeSettings();return Ip(n,t=new nd,new td(t,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},Dg.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Ep(t=Wd(t,wp));var e=kp(t),n=t._freezeSettings();return Ip(e,t=new nd,new ed(t,n.cacheSizeBytes))}(t._delegate)},Dg.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Pr(Lr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new su;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return o(e,void 0,void 0,function(){var e;return a(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return o(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return lu.yt()?(e=t+"main",[4,lu.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(Qc(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},Dg),Tg=(Object.defineProperty(Cg.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),Cg.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||jr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},Cg.prototype.useEmulator=function(t,e,n){!function(t,e,n,r){void 0===r&&(r={});var o,a=(t=Wd(t,tp))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&jr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},a),{host:e+":"+n,ssl:!1})),r.mockUserToken){if("string"==typeof r.mockUserToken)s=r.mockUserToken,o=Al.MOCK_USER;else{var s=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0;if(!(e=t.sub||t.user_id))throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");return t=i({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:e,user_id:e,firebase:{sign_in_provider:"custom",identities:{}}},t),[c(JSON.stringify({alg:"none",type:"JWT"})),c(JSON.stringify(t)),""].join(".")}(r.mockUserToken,null===(n=t._app)||void 0===n?void 0:n.options.projectId);if(!(r=r.mockUserToken.sub||r.mockUserToken.user_id))throw new Pr(Lr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new Al(r)}t._credentials=new Ld(new Cd(s,o))}}(this._delegate,t,e,n=void 0===n?{}:n)},Cg.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return o(e,void 0,void 0,function(){var e,n;return a(this,function(r){switch(r.label){case 0:return[4,_d(t)];case 1:return e=r.sent(),[4,Ed(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),(i=n).Or.delete(0),Bf(i))]}var i})})})}(kp(Wd(this._delegate,wp)))},Cg.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return o(e,void 0,void 0,function(){var e,n;return a(this,function(r){switch(r.label){case 0:return[4,_d(t)];case 1:return e=r.sent(),[4,Ed(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return o(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return(e=t).Or.add(0),[4,Mf(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(kp(Wd(this._delegate,wp)))},Cg.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Hd("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},Cg.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},Cg.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},Cg.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new su;return t.asyncQueue.enqueueAndForget(function(){return o(e,void 0,void 0,function(){var e;return a(this,function(r){switch(r.label){case 0:return e=Bh,[4,xd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(kp(Wd(this._delegate,wp)))},Cg.prototype.onSnapshotsInSync=function(t){return t=t,function(t,e){var n=this,r=new ud(e);return t.asyncQueue.enqueueAndForget(function(){return o(n,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return e=function(t,e){t.Gr.add(e),e.next()},[4,Td(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return o(n,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return e=function(t,e){t.Gr.delete(e)},[4,Td(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(kp(Wd(this._delegate,wp)),mp(t)?t:{next:t})},Object.defineProperty(Cg.prototype,"app",{get:function(){if(!this.tu)throw new Pr(Lr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),Cg.prototype.collection=function(t){try{return new Wg(this,cp(this._delegate,t))}catch(t){throw Vg(t,"collection()","Firestore.collection()")}},Cg.prototype.doc=function(t){try{return new Fg(this,lp(this._delegate,t))}catch(t){throw Vg(t,"doc()","Firestore.doc()")}},Cg.prototype.collectionGroup=function(t){try{return new Kg(this,function(t,e){if(t=Wd(t,tp),Xd("collectionGroup","collection id",e),0<=e.indexOf("/"))throw new Pr(Lr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new np(t,null,(e=e,new xo(oi.emptyPath(),e)))}(this._delegate,t))}catch(t){throw Vg(t,"collectionGroup()","Firestore.collectionGroup()")}},Cg.prototype.runTransaction=function(t){var e,n=this;return function(t,e){var n=this,r=new su;return t.asyncQueue.enqueueAndForget(function(){return o(n,void 0,void 0,function(){var n;return a(this,function(i){switch(i.label){case 0:return[4,kd(t).then(function(t){return t.datastore})];case 1:return n=i.sent(),new fd(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(kp(e=this._delegate),function(r){return r=new wg(e,r),t(new Ng(n,r))})},Cg.prototype.batch=function(){var t=this;return kp(this._delegate),new Rg(new ag(this._delegate,function(e){return mg(t._delegate,e)}))},Cg.prototype.loadBundle=function(t){throw new Pr(Lr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},Cg.prototype.namedQuery=function(t){throw new Pr(Lr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},Cg),Sg=(r(Og,Ig=x),Og.prototype.convertBytes=function(t){return new Eg(new Tp(t))},Og.prototype.convertReference=function(t){return t=this.convertDocumentKey(t,this.firestore._databaseId),Fg.eu(t,this.firestore,null)},Og);function Og(t){var e=this;return(e=Ig.call(this)||this).firestore=t,e}function Cg(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Ad||(this.tu=t)}function Dg(){}function Ag(t){this._delegate=t}var Ng=(Mg.prototype.get=function(t){var e=this,n=ry(t);return this._delegate.get(n).then(function(t){return new Yg(e._firestore,new Sm(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},Mg.prototype.set=function(t,e,n){return t=ry(t),n?(Yd("Transaction.set",n),this._delegate.set(t,e,n)):this._delegate.set(t,e),this},Mg.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=ry(t);return 2===arguments.length?this._delegate.update(o,e):(t=this._delegate).update.apply(t,s([o,e,n],r)),this},Mg.prototype.delete=function(t){return t=ry(t),this._delegate.delete(t),this},Mg),Rg=(Bg.prototype.set=function(t,e,n){return t=ry(t),n?(Yd("WriteBatch.set",n),this._delegate.set(t,e,n)):this._delegate.set(t,e),this},Bg.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=ry(t);return 2===arguments.length?this._delegate.update(o,e):(t=this._delegate).update.apply(t,s([o,e,n],r)),this},Bg.prototype.delete=function(t){return t=ry(t),this._delegate.delete(t),this},Bg.prototype.commit=function(){return this._delegate.commit()},Bg),Lg=(Pg.prototype.fromFirestore=function(t,e){return t=new Om(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null),this._delegate.fromFirestore(new Hg(this._firestore,t),null!=e?e:{})},Pg.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},Pg.nu=function(t,e){var n=Pg.su,r=n.get(t);return r||(r=new WeakMap,n.set(t,r)),(n=r.get(e))||(n=new Pg(t,new Sg(t),e),r.set(e,n)),n},Pg);function Pg(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}function Bg(t){this._delegate=t}function Mg(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Sg(t)}Lg.su=new WeakMap;var Fg=(Ug.iu=function(t,e,n){if(t.length%2!=0)throw new Pr(Lr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new Ug(e,new ep(e._delegate,n,new Ei(t)))},Ug.eu=function(t,e,n){return new Ug(e,new ep(e._delegate,n,t))},Object.defineProperty(Ug.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(Ug.prototype,"parent",{get:function(){return new Wg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(Ug.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Ug.prototype.collection=function(t){try{return new Wg(this.firestore,cp(this._delegate,t))}catch(t){throw Vg(t,"collection()","DocumentReference.collection()")}},Ug.prototype.isEqual=function(t){return(t=b(t))instanceof ep&&fp(this._delegate,t)},Ug.prototype.set=function(t,e){e=Yd("DocumentReference.set",e);try{return function(t,e,n){t=Wd(t,ep);var r=Wd(t.firestore,wp);e=rg(t.converter,e,n);return mg(r,[zp(qp(r),"setDoc",t._key,e,null!==t.converter,n).toMutation(t._key,ca.none())])}(this._delegate,t,e)}catch(t){throw Vg(t,"setDoc()","DocumentReference.set()")}},Ug.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?dg(this._delegate,t):dg.apply(void 0,s([this._delegate,t,e],n))}catch(t){throw Vg(t,"updateDoc()","DocumentReference.update()")}},Ug.prototype.delete=function(){return mg(Wd((t=this._delegate).firestore,wp),[new Oa(t._key,ca.none())]);var t},Ug.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=jg(e),i=qg(e,function(e){return new Yg(t.firestore,new Sm(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return pg(this._delegate,r,i)},Ug.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Wd(t,ep);var e=Wd(t.firestore,wp),n=kp(e),r=new fg(e);return function(t,e){var n=this,r=new su;return t.asyncQueue.enqueueAndForget(function(){return o(n,void 0,void 0,function(){var n;return a(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return o(this,void 0,void 0,function(){var r,i;return a(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(a=e,(s=t).persistence.runTransaction("read document","readonly",function(t){return s.Mn.mn(t,a)}))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Pr(Lr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=rh(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}var a,s})})},[4,Id(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Sm(e,r,t._key,n,new Tm(null!==n&&n.hasLocalMutations,!0),t.converter)})}:"server"===(null==t?void 0:t.source)?function(t){t=Wd(t,ep);var e=Wd(t.firestore,wp);return Sd(kp(e),t._key,{source:"server"}).then(function(n){return gg(e,t,n)})}:function(t){t=Wd(t,ep);var e=Wd(t.firestore,wp);return Sd(kp(e),t._key).then(function(n){return gg(e,t,n)})})(this._delegate).then(function(t){return new Yg(e.firestore,new Sm(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},Ug.prototype.withConverter=function(t){return new Ug(this.firestore,t?this._delegate.withConverter(Lg.nu(this.firestore,t)):this._delegate.withConverter(null))},Ug);function Ug(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Sg(t)}function Vg(t,e,n){return t.message=t.message.replace(e,n),t}function jg(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!mp(r))return r}return{}}function qg(t,e){var n;return{next:function(t){n.next&&n.next(e(t))},error:null===(t=(n=mp(t[0])?t[0]:mp(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===t?void 0:t.bind(n),complete:null===(t=n.complete)||void 0===t?void 0:t.bind(n)}}var zg,Xg,Yg=(Object.defineProperty(ny.prototype,"ref",{get:function(){return new Fg(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(ny.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(ny.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(ny.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),ny.prototype.data=function(t){return this._delegate.data(t)},ny.prototype.get=function(t,e){return this._delegate.get(t,e)},ny.prototype.isEqual=function(t){return Lm(this._delegate,t._delegate)},ny),Hg=(r(ey,Xg=Yg),ey.prototype.data=function(t){return this._delegate.data(t)},ey),Kg=(ty.prototype.where=function(t,e,n){try{return new ty(this.firestore,Bm(this._delegate,(r=n,i=e,o=Im("where",t),new qm(o,i,r))))}catch(t){throw Vg(t,/(orderBy|where)\(\)/,"Query.$1()")}var r,i,o},ty.prototype.orderBy=function(t,e){try{return new ty(this.firestore,Bm(this._delegate,(n=void 0===e?"asc":e,r=Im("orderBy",t),new zm(r,n))))}catch(t){throw Vg(t,/(orderBy|where)\(\)/,"Query.$1()")}var n,r},ty.prototype.limit=function(t){try{return new ty(this.firestore,Bm(this._delegate,(Qd("limit",e=t),new Xm("limit",e,"F"))))}catch(t){throw Vg(t,"limit()","Query.limit()")}var e},ty.prototype.limitToLast=function(t){try{return new ty(this.firestore,Bm(this._delegate,(Qd("limitToLast",e=t),new Xm("limitToLast",e,"L"))))}catch(t){throw Vg(t,"limitToLast()","Query.limitToLast()")}var e},ty.prototype.startAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new ty(this.firestore,Bm(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ym("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw Vg(t,"startAt()","Query.startAt()")}},ty.prototype.startAfter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new ty(this.firestore,Bm(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ym("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw Vg(t,"startAfter()","Query.startAfter()")}},ty.prototype.endBefore=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new ty(this.firestore,Bm(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hm("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw Vg(t,"endBefore()","Query.endBefore()")}},ty.prototype.endAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new ty(this.firestore,Bm(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hm("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw Vg(t,"endAt()","Query.endAt()")}},ty.prototype.isEqual=function(t){return hp(this._delegate,t._delegate)},ty.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Wd(t,np);var e=Wd(t.firestore,wp),n=kp(e),r=new fg(e);return function(t,e){var n=this,r=new su;return t.asyncQueue.enqueueAndForget(function(){return o(n,void 0,void 0,function(){var n;return a(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return o(this,void 0,void 0,function(){var r,i,o;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,ml(t,e,!0)];case 1:return o=a.sent(),r=new Th(e,o.Bn),i=r._o(o.documents),i=r.applyChanges(i,!1),n.resolve(i.snapshot),[3,3];case 2:return i=a.sent(),o=rh(i,"Failed to execute query '"+e+" against cache"),n.reject(o),[3,3];case 3:return[2]}})})},[4,Id(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Cm(e,r,t,n)})}:"server"===(null==t?void 0:t.source)?function(t){t=Wd(t,np);var e=Wd(t.firestore,wp),n=kp(e),r=new fg(e);return Od(n,t._query,{source:"server"}).then(function(n){return new Cm(e,r,t,n)})}:function(t){t=Wd(t,np);var e=Wd(t.firestore,wp),n=kp(e),r=new fg(e);return Pm(t._query),Od(n,t._query).then(function(n){return new Cm(e,r,t,n)})})(this._delegate).then(function(t){return new Zg(e.firestore,new Cm(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},ty.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=jg(e),i=qg(e,function(e){return new Zg(t.firestore,new Cm(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return pg(this._delegate,r,i)},ty.prototype.withConverter=function(t){return new ty(this.firestore,t?this._delegate.withConverter(Lg.nu(this.firestore,t)):this._delegate.withConverter(null))},ty),Gg=(Object.defineProperty(Jg.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(Jg.prototype,"doc",{get:function(){return new Hg(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(Jg.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(Jg.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),Jg),Zg=(Object.defineProperty($g.prototype,"query",{get:function(){return new Kg(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty($g.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty($g.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty($g.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty($g.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Hg(t._firestore,e)})},enumerable:!1,configurable:!0}),$g.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Gg(e._firestore,t)})},$g.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Hg(n._firestore,r))})},$g.prototype.isEqual=function(t){return Lm(this._delegate,t._delegate)},$g),Wg=(r(Qg,zg=Kg),Object.defineProperty(Qg.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(Qg.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(Qg.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Fg(this.firestore,t):null},enumerable:!1,configurable:!0}),Qg.prototype.doc=function(t){try{return new Fg(this.firestore,void 0===t?lp(this._delegate):lp(this._delegate,t))}catch(t){throw Vg(t,"doc()","CollectionReference.doc()")}},Qg.prototype.add=function(t){var e,n,r,i=this;return n=t,t=Wd((e=this._delegate).firestore,wp),r=lp(e),n=rg(e.converter,n),mg(t,[zp(qp(e.firestore),"addDoc",r._key,n,null!==e.converter,{}).toMutation(r._key,ca.exists(!1))]).then(function(){return r}).then(function(t){return new Fg(i.firestore,t)})},Qg.prototype.isEqual=function(t){return fp(this._delegate,t._delegate)},Qg.prototype.withConverter=function(t){return new Qg(this.firestore,t?this._delegate.withConverter(Lg.nu(this.firestore,t)):this._delegate.withConverter(null))},Qg);function Qg(t,e){var n=this;return(n=zg.call(this,t,e)||this).firestore=t,n._delegate=e,n}function $g(t,e){this._firestore=t,this._delegate=e}function Jg(t,e){this._firestore=t,this._delegate=e}function ty(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Sg(t)}function ey(){return null!==Xg&&Xg.apply(this,arguments)||this}function ny(t,e){this._firestore=t,this._delegate=e}function ry(t){return Wd(t,ep)}function iy(t){this._delegate=t}function oy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(xp.bind.apply(xp,s([void 0],t)))}oy.documentId=function(){return new oy(si.keyField().canonicalString())},oy.prototype.isEqual=function(t){return(t=b(t))instanceof xp&&this._delegate._internalPath.isEqual(t._internalPath)},D=oy,iy.serverTimestamp=function(){var t=new $p("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new iy(t)},iy.delete=function(){var t=new Yp("deleteField");return t._methodName="FieldValue.delete",new iy(t)},iy.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jp("arrayUnion",t)}.apply(void 0,t);return n._methodName="FieldValue.arrayUnion",new iy(n)},iy.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tm("arrayRemove",t)}.apply(void 0,t);return n._methodName="FieldValue.arrayRemove",new iy(n)},iy.increment=function(t){return(t=new em("increment",t))._methodName="FieldValue.increment",new iy(t)},iy.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},x=iy;var ay=(sy.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},sy.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},sy.prototype.setServiceProps=function(t){return this.serviceProps=t,this},sy.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},sy);function sy(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}var uy,cy,ly={Firestore:Tg,GeoPoint:Op,Timestamp:Wr,Blob:Eg,Transaction:Ng,WriteBatch:Rg,DocumentReference:Fg,DocumentSnapshot:Yg,Query:Kg,QueryDocumentSnapshot:Hg,QuerySnapshot:Zg,CollectionReference:Wg,FieldPath:D,FieldValue:x,setLogLevel:function(t){Br.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(uy=e.default).INTERNAL.registerComponent(new ay("firestore",function(t){var e=t.getProvider("app").getImmediate();return e=e,t=t.getProvider("auth-internal"),new Tg(e,new wp(e,t),new xg)},"PUBLIC").setServiceProps(Object.assign({},ly))),uy.registerVersion("@firebase/firestore","2.4.0"),(cy=Tg).prototype.loadBundle=function(t){return e=this._delegate,n=t,r=kp(e=Wd(e,wp)),t=new yp,function(t,e,r){var i,s=this,u=(i=n,e=bf(e),i=function(t){if(t instanceof Uint8Array)return sd(t,void 0);if(t instanceof ArrayBuffer)return sd(new Uint8Array(t),void 0);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof i?(new TextEncoder).encode(i):i),new cd(i,e));t.asyncQueue.enqueueAndForget(function(){return o(s,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return e=Wh,[4,xd(t)];case 1:return e.apply(void 0,[n.sent(),u,r]),[2]}})})})}(r,e._databaseId,t),t;var e,n,r},cy.prototype.namedQuery=function(t){var e=this,n=this._delegate;return t=t,function(t,e){var n=this;return t.asyncQueue.enqueue(function(){return o(n,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return n=function(t,e){var n=t;return n.persistence.runTransaction("Get named query","readonly",function(t){return n.Ke.getNamedQuery(t,e)})},[4,Id(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}})})})}(kp(n=Wd(n,wp)),t).then(function(t){return t?new np(n,null,t.query):null}).then(function(t){return t?new Kg(e,t):null})}}).apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-firestore.js - be sure to load firebase-app.js first.")}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Sweetalert2=e()}(this,function(){"use strict";const t=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),e="SweetAlert2:",n=t=>t.charAt(0).toUpperCase()+t.slice(1),r=t=>Array.prototype.slice.call(t),i=t=>{console.warn("".concat(e," ").concat("object"==typeof t?t.join(" "):t))},o=t=>{console.error("".concat(e," ").concat(t))},a=[],s=t=>"function"==typeof t?t():t,u=t=>t&&"function"==typeof t.toPromise,c=t=>u(t)?t.toPromise():Promise.resolve(t),l=t=>t&&Promise.resolve(t)===t,f=t=>t instanceof Element||(t=>"object"==typeof t&&t.jquery)(t);var h=t=>{const e={};for(const n in t)e[t[n]]="swal2-"+t[n];return e};const d=h(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),p=h(["success","warning","info","question","error"]),m=()=>document.body.querySelector(".".concat(d.container)),g=t=>{const e=m();return e?e.querySelector(t):null},y=t=>g(".".concat(t)),w=()=>y(d.popup),v=()=>y(d.icon),b=()=>y(d.title),k=()=>y(d["html-container"]),_=()=>y(d.image),I=()=>y(d["progress-steps"]),E=()=>y(d["validation-message"]),x=()=>g(".".concat(d.actions," .").concat(d.confirm)),T=()=>g(".".concat(d.actions," .").concat(d.deny)),S=()=>g(".".concat(d.loader)),O=()=>g(".".concat(d.actions," .").concat(d.cancel)),C=()=>y(d.actions),D=()=>y(d.footer),A=()=>y(d["timer-progress-bar"]),N=()=>y(d.close),R=()=>{const t=r(w().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((t,e)=>(t=parseInt(t.getAttribute("tabindex")),(e=parseInt(e.getAttribute("tabindex")))<t?1:t<e?-1:0));var e=r(w().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(t=>"-1"!==t.getAttribute("tabindex"));return(t=>{const e=[];for(let n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e})(t.concat(e)).filter(t=>$(t))},L=()=>!U(document.body,d["toast-shown"])&&!U(document.body,d["no-backdrop"]),P=()=>w()&&U(w(),d.toast);function B(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];const n=A();$(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"},10))}const M={previousBodyPadding:null},F=(t,e)=>{if(t.textContent="",e){const n=(new DOMParser).parseFromString(e,"text/html");r(n.querySelector("head").childNodes).forEach(e=>{t.appendChild(e)}),r(n.querySelector("body").childNodes).forEach(e=>{t.appendChild(e)})}},U=(t,e)=>{if(!e)return!1;var n=e.split(/\s+/);for(let e=0;e<n.length;e++)if(!t.classList.contains(n[e]))return!1;return!0},V=(t,e,n)=>{var o,a;if(a=e,r((o=t).classList).forEach(t=>{Object.values(d).includes(t)||Object.values(p).includes(t)||Object.values(a.showClass).includes(t)||o.classList.remove(t)}),e.customClass&&e.customClass[n]){if("string"!=typeof e.customClass[n]&&!e.customClass[n].forEach)return i("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof e.customClass[n],'"'));X(t,e.customClass[n])}},j=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return H(t,d[e]);case"checkbox":return t.querySelector(".".concat(d.checkbox," input"));case"radio":return t.querySelector(".".concat(d.radio," input:checked"))||t.querySelector(".".concat(d.radio," input:first-child"));case"range":return t.querySelector(".".concat(d.range," input"));default:return H(t,d.input)}},q=t=>{var e;t.focus(),"file"!==t.type&&(e=t.value,t.value="",t.value=e)},z=(t,e,n)=>{t&&e&&(e="string"==typeof e?e.split(/\s+/).filter(Boolean):e).forEach(e=>{t.forEach?t.forEach(t=>{n?t.classList.add(e):t.classList.remove(e)}):n?t.classList.add(e):t.classList.remove(e)})},X=(t,e)=>{z(t,e,!0)},Y=(t,e)=>{z(t,e,!1)},H=(t,e)=>{for(let n=0;n<t.childNodes.length;n++)if(U(t.childNodes[n],e))return t.childNodes[n]},K=(t,e,n)=>{(n=n==="".concat(parseInt(n))?parseInt(n):n)||0===parseInt(n)?t.style[e]="number"==typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)},G=function(t){t.style.display=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"flex"},Z=t=>{t.style.display="none"},W=(t,e,n,r)=>{const i=t.querySelector(e);i&&(i.style[n]=r)},Q=(t,e,n)=>{e?G(t,n):Z(t)},$=t=>!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),J=()=>!$(x())&&!$(T())&&!$(O()),tt=t=>!!(t.scrollHeight>t.clientHeight),et=t=>{const e=window.getComputedStyle(t);var n=parseFloat(e.getPropertyValue("animation-duration")||"0");t=parseFloat(e.getPropertyValue("transition-duration")||"0");return 0<n||0<t},nt=()=>"undefined"==typeof window||"undefined"==typeof document,rt='\n <div aria-labelledby="'.concat(d.title,'" aria-describedby="').concat(d["html-container"],'" class="').concat(d.popup,'" tabindex="-1">\n   <button type="button" class="').concat(d.close,'"></button>\n   <ul class="').concat(d["progress-steps"],'"></ul>\n   <div class="').concat(d.icon,'"></div>\n   <img class="').concat(d.image,'" />\n   <h2 class="').concat(d.title,'" id="').concat(d.title,'"></h2>\n   <div class="').concat(d["html-container"],'" id="').concat(d["html-container"],'"></div>\n   <input class="').concat(d.input,'" />\n   <input type="file" class="').concat(d.file,'" />\n   <div class="').concat(d.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(d.select,'"></select>\n   <div class="').concat(d.radio,'"></div>\n   <label for="').concat(d.checkbox,'" class="').concat(d.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(d.label,'"></span>\n   </label>\n   <textarea class="').concat(d.textarea,'"></textarea>\n   <div class="').concat(d["validation-message"],'" id="').concat(d["validation-message"],'"></div>\n   <div class="').concat(d.actions,'">\n     <div class="').concat(d.loader,'"></div>\n     <button type="button" class="').concat(d.confirm,'"></button>\n     <button type="button" class="').concat(d.deny,'"></button>\n     <button type="button" class="').concat(d.cancel,'"></button>\n   </div>\n   <div class="').concat(d.footer,'"></div>\n   <div class="').concat(d["timer-progress-bar-container"],'">\n     <div class="').concat(d["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),it=()=>{De.isVisible()&&De.resetValidationMessage()},ot=t=>{var e=(()=>{const t=m();return!!t&&(t.remove(),Y([document.documentElement,document.body],[d["no-backdrop"],d["toast-shown"],d["has-column"]]),!0)})();if(nt())o("SweetAlert2 requires document to initialize");else{const n=document.createElement("div");n.className=d.container,e&&X(n,d["no-transition"]),F(n,rt);const r="string"==typeof(e=t.target)?document.querySelector(e):e;r.appendChild(n),(t=>{const e=w();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")})(t),t=r,"rtl"===window.getComputedStyle(t).direction&&X(m(),d.rtl),(()=>{const t=w(),e=H(t,d.input),n=H(t,d.file),r=t.querySelector(".".concat(d.range," input")),i=t.querySelector(".".concat(d.range," output")),o=H(t,d.select),a=t.querySelector(".".concat(d.checkbox," input")),s=H(t,d.textarea);e.oninput=it,n.onchange=it,o.onchange=it,a.onchange=it,s.oninput=it,r.oninput=(()=>{it(),i.value=r.value}),r.onchange=(()=>{it(),r.nextSibling.value=r.value})})()}},at=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):"object"==typeof t?((t,e)=>{t.jquery?st(e,t):F(e,t.toString())})(t,e):t&&F(e,t)},st=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},ut=(()=>{if(nt())return!1;var t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==t.style[n])return e[n];return!1})();function ct(t,e,r){Q(t,r["show".concat(n(e),"Button")],"inline-block"),F(t,r["".concat(e,"ButtonText")]),t.setAttribute("aria-label",r["".concat(e,"ButtonAriaLabel")]),t.className=d[e],V(t,r,"".concat(e,"Button")),X(t,r["".concat(e,"ButtonClass")])}var lt={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const ft=["input","file","range","select","radio","checkbox","textarea"],ht=t=>{for(let n=0;n<t.attributes.length;n++){var e=t.attributes[n].name;["type","value","style"].includes(e)||t.removeAttribute(e)}},dt=(t,e)=>{t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},pt=(t,e,n)=>{if(n.inputLabel){t.id=d.input;const i=document.createElement("label");var r=d["input-label"];i.setAttribute("for",t.id),i.className=r,X(i,n.customClass.inputLabel),i.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",i)}},mt=t=>(t=d[t]||d.input,H(w(),t)),gt={};gt.text=gt.email=gt.password=gt.number=gt.tel=gt.url=((t,e)=>("string"==typeof e.inputValue||"number"==typeof e.inputValue?t.value=e.inputValue:l(e.inputValue)||i('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof e.inputValue,'"')),pt(t,t,e),dt(t,e),t.type=e.input,t)),gt.file=((t,e)=>(pt(t,t,e),dt(t,e),t)),gt.range=((t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,r.value=e.inputValue,pt(n,t,e),t}),gt.select=((t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");F(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return pt(t,t,e),t}),gt.radio=(t=>(t.textContent="",t)),gt.checkbox=((t,e)=>{const n=j(w(),"checkbox");n.value=1,n.id=d.checkbox,n.checked=Boolean(e.inputValue);var r=t.querySelector("span");return F(r,e.inputPlaceholder),t}),gt.textarea=((t,e)=>(t.value=e.inputValue,dt(t,e),pt(t,t,e),setTimeout(()=>{if("MutationObserver"in window){const e=parseInt(window.getComputedStyle(w()).width);new MutationObserver(()=>{var n=t.offsetWidth+(n=t,parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight));w().style.width=n>e?"".concat(n,"px"):null}).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t));const yt=(t,e)=>{const n=k();V(n,e,"htmlContainer"),e.html?(at(e.html,n),G(n,"block")):e.text?(n.textContent=e.text,G(n,"block")):Z(n),((t,e)=>{const n=w(),r=!(t=lt.innerParams.get(t))||e.input!==t.input;ft.forEach(t=>{var i=d[t];const o=H(n,i);((t,e)=>{const n=j(w(),t);if(n){ht(n);for(const t in e)n.setAttribute(t,e[t])}})(t,e.inputAttributes),o.className=i,r&&Z(o)}),e.input&&(r&&(t=>{if(!gt[t.input])return o('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));const e=mt(t.input),n=gt[t.input](e,t);G(n),setTimeout(()=>{q(n)})})(e),(t=>{const e=mt(t.input);t.customClass&&X(e,t.customClass.input)})(e))})(t,e)},wt=(t,e)=>{for(const n in p)e.icon!==n&&Y(t,p[n]);X(t,p[e.icon]),kt(t,e),vt(),V(t,e,"icon")},vt=()=>{const t=w();var e=window.getComputedStyle(t).getPropertyValue("background-color");const n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let t=0;t<n.length;t++)n[t].style.backgroundColor=e},bt=(t,e)=>{t.textContent="",e.iconHtml?F(t,_t(e.iconHtml)):"success"===e.icon?F(t,'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    '):"error"===e.icon?F(t,'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    '):F(t,_t({question:"?",warning:"!",info:"i"}[e.icon]))},kt=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])W(t,n,"backgroundColor",e.iconColor);W(t,".swal2-success-ring","borderColor",e.iconColor)}},_t=t=>'<div class="'.concat(d["icon-content"],'">').concat(t,"</div>"),It=(t,e)=>{((t,e)=>{var n=m();const r=w();e.toast?(K(n,"width",e.width),r.style.width="100%",r.insertBefore(S(),v())):K(r,"width",e.width),K(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),Z(E()),((t,e)=>{t.className="".concat(d.popup," ").concat($(t)?e.showClass.popup:""),e.toast?(X([document.documentElement,document.body],d["toast-shown"]),X(t,d.toast)):X(t,d.modal),V(t,e,"popup"),"string"==typeof e.customClass&&X(t,e.customClass),e.icon&&X(t,d["icon-".concat(e.icon)])})(r,e)})(0,e),((t,e)=>{var n,r,o=m();o&&(r=o,"string"==typeof(n=e.backdrop)?r.style.background=n:n||X([document.documentElement,document.body],d["no-backdrop"]),r=o,(n=e.position)in d?X(r,d[n]):(i('The "position" parameter is not valid, defaulting to "center"'),X(r,d.center)),n=o,!(r=e.grow)||"string"!=typeof r||(r="grow-".concat(r))in d&&X(n,d[r]),V(o,e,"container"))})(0,e),((t,e)=>{const n=I();if(!e.progressSteps||0===e.progressSteps.length)return Z(n);G(n),n.textContent="",e.currentProgressStep>=e.progressSteps.length&&i("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach((t,r)=>{var i;i=t,t=document.createElement("li"),X(t,d["progress-step"]),F(t,i),t=t,n.appendChild(t),r===e.currentProgressStep&&X(t,d["active-progress-step"]),r!==e.progressSteps.length-1&&(r=(t=>{const e=document.createElement("li");return X(e,d["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e})(e),n.appendChild(r))})})(0,e),((t,e)=>{var n=lt.innerParams.get(t);t=v();n&&e.icon===n.icon?(bt(t,e),wt(t,e)):e.icon||e.iconHtml?e.icon&&-1===Object.keys(p).indexOf(e.icon)?(o('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"')),Z(t)):(G(t),bt(t,e),wt(t,e),X(t,e.showClass.icon)):Z(t)})(t,e),((t,e)=>{const n=_();if(!e.imageUrl)return Z(n);G(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),K(n,"width",e.imageWidth),K(n,"height",e.imageHeight),n.className=d.image,V(n,e,"image")})(0,e),((t,e)=>{const n=b();Q(n,e.title||e.titleText,"block"),e.title&&at(e.title,n),e.titleText&&(n.innerText=e.titleText),V(n,e,"title")})(0,e),((t,e)=>{const n=N();F(n,e.closeButtonHtml),V(n,e,"closeButton"),Q(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)})(0,e),yt(t,e),((t,e)=>{var n,r,i,o,a,s=C(),u=S();(e.showConfirmButton||e.showDenyButton||e.showCancelButton?G:Z)(s),V(s,e,"actions"),n=s,r=u,i=e,o=x(),a=T(),s=O(),ct(o,"confirm",i),ct(a,"deny",i),ct(s,"cancel",i),function(t,e,n,r){if(!r.buttonsStyling)return Y([t,e,n],d.styled);X([t,e,n],d.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor,X(t,d["default-outline"])),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor,X(e,d["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,X(n,d["default-outline"]))}(o,a,s,i),i.reverseButtons&&(i.toast?(n.insertBefore(s,o),n.insertBefore(a,o)):(n.insertBefore(s,r),n.insertBefore(a,r),n.insertBefore(o,r))),F(u,e.loaderHtml),V(u,e,"loader")})(0,e),((t,e)=>{var n=D();Q(n,e.footer),e.footer&&at(e.footer,n),V(n,e,"footer")})(0,e),"function"==typeof e.didRender&&e.didRender(w())},Et=()=>x()&&x().click(),xt=t=>{let e=w();e||De.fire(),e=w();var n=S();P()?Z(v()):((t,e)=>{const n=C(),r=S();!e&&$(x())&&(e=x()),G(n),e&&(Z(e),r.setAttribute("data-button-to-replace",e.className)),r.parentNode.insertBefore(r,e),X([t,n],d.loading)})(e,t),G(n),e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},Tt={},St=t=>new Promise(e=>{if(!t)return e();var n=window.scrollX,r=window.scrollY;Tt.restoreFocusTimeout=setTimeout(()=>{Tt.previousActiveElement&&Tt.previousActiveElement.focus?(Tt.previousActiveElement.focus(),Tt.previousActiveElement=null):document.body&&document.body.focus(),e()},100),window.scrollTo(n,r)}),Ot=()=>{if(Tt.timeout)return(()=>{const t=A();var e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";var n=parseInt(window.getComputedStyle(t).width);n=parseInt(e/n*100);t.style.removeProperty("transition"),t.style.width="".concat(n,"%")})(),Tt.timeout.stop()},Ct=()=>{if(Tt.timeout){var t=Tt.timeout.start();return B(t),t}};let Dt=!1;const At={},Nt=t=>{for(let n=t.target;n&&n!==document;n=n.parentNode)for(const t in At){var e=n.getAttribute(t);if(e)return void At[t].fire({template:e})}},Rt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Lt=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Pt={},Bt=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Mt=t=>Object.prototype.hasOwnProperty.call(Rt,t),Ft=t=>Pt[t],Ut=t=>{Mt(t)||i('Unknown parameter "'.concat(t,'"'))},Vt=t=>{Bt.includes(t)&&i('The parameter "'.concat(t,'" is incompatible with toasts'))},jt=t=>{Ft(t)&&((t,e)=>{e='"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(e,'" instead.'),a.includes(e)||(a.push(e),i(e))})(t,Ft(t))};var qt=Object.freeze({isValidParameter:Mt,isUpdatableParameter:t=>-1!==Lt.indexOf(t),isDeprecatedParameter:Ft,argsToParams:t=>{const e={};return"object"!=typeof t[0]||f(t[0])?["title","html","icon"].forEach((n,r)=>{"string"==typeof(r=t[r])||f(r)?e[n]=r:void 0!==r&&o("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof r))}):Object.assign(e,t[0]),e},isVisible:()=>$(w()),clickConfirm:Et,clickDeny:()=>T()&&T().click(),clickCancel:()=>O()&&O().click(),getContainer:m,getPopup:w,getTitle:b,getHtmlContainer:k,getImage:_,getIcon:v,getInputLabel:()=>y(d["input-label"]),getCloseButton:N,getActions:C,getConfirmButton:x,getDenyButton:T,getCancelButton:O,getLoader:S,getFooter:D,getTimerProgressBar:A,getFocusableElements:R,getValidationMessage:E,isLoading:()=>w().hasAttribute("data-loading"),fire:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new this(...e)},mixin:function(t){return class extends(this){_main(e,n){return super._main(e,Object.assign({},t,n))}}},showLoading:xt,enableLoading:xt,getTimerLeft:()=>Tt.timeout&&Tt.timeout.getTimerLeft(),stopTimer:Ot,resumeTimer:Ct,toggleTimer:()=>{var t=Tt.timeout;return t&&(t.running?Ot:Ct)()},increaseTimer:t=>{if(Tt.timeout)return B(t=Tt.timeout.increase(t),!0),t},isTimerRunning:()=>Tt.timeout&&Tt.timeout.isRunning(),bindClickHandler:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"data-swal-template";At[t]=this,Dt||(document.body.addEventListener("click",Nt),Dt=!0)}});function zt(){var t=lt.innerParams.get(this);if(t){const e=lt.domCache.get(this);Z(e.loader),P()?t.icon&&G(v()):(t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?G(e[0],"inline-block"):J()&&Z(t.actions)})(e),Y([e.popup,e.actions],d.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}}const Xt=()=>{null!==M.previousBodyPadding&&(document.body.style.paddingRight="".concat(M.previousBodyPadding,"px"),M.previousBodyPadding=null)},Yt=t=>{var e,n=t.target,r=m();return!((e=t).touches&&e.touches.length&&"stylus"===e.touches[0].touchType||(t=t).touches&&1<t.touches.length||n!==r&&(tt(r)||"INPUT"===n.tagName||"TEXTAREA"===n.tagName||tt(k())&&k().contains(n)))},Ht=()=>{var t;U(document.body,d.iosfix)&&(t=parseInt(document.body.style.top,10),Y(document.body,d.iosfix),document.body.style.top="",document.body.scrollTop=-1*t)},Kt=()=>{r(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})};var Gt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Zt(t,e,n,r){P()?Jt(t,r):(St(n).then(()=>Jt(t,r)),Tt.keydownTarget.removeEventListener("keydown",Tt.keydownHandler,{capture:Tt.keydownListenerCapture}),Tt.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),L()&&(Xt(),Ht(),Kt()),Y([document.documentElement,document.body],[d.shown,d["height-auto"],d["no-backdrop"],d["toast-shown"]])}function Wt(t){t=void 0!==(n=t)?Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n):{isConfirmed:!1,isDenied:!1,isDismissed:!0};const e=Gt.swalPromiseResolve.get(this);var n=(t=>{const e=w();if(!e)return!1;const n=lt.innerParams.get(t);if(!n||U(e,n.hideClass.popup))return!1;Y(e,n.showClass.popup),X(e,n.hideClass.popup);const r=m();return Y(r,n.showClass.backdrop),X(r,n.hideClass.backdrop),$t(t,e,n),!0})(this);this.isAwaitingPromise()?t.isDismissed||(Qt(this),e(t)):n&&e(t)}const Qt=t=>{t.isAwaitingPromise()&&(lt.awaitingPromise.delete(t),lt.innerParams.get(t)||t._destroy())},$t=(t,e,n)=>{var r,i,o,a=m(),s=ut&&et(e);"function"==typeof n.willClose&&n.willClose(e),s?(r=t,i=e,o=a,s=n.returnFocus,e=n.didClose,Tt.swalCloseEventFinishedCallback=Zt.bind(null,r,o,s,e),i.addEventListener(ut,function(t){t.target===i&&(Tt.swalCloseEventFinishedCallback(),delete Tt.swalCloseEventFinishedCallback)})):Zt(t,a,n.returnFocus,n.didClose)},Jt=(t,e)=>{setTimeout(()=>{"function"==typeof e&&e.bind(t.params)(),t._destroy()})};function te(t,e,n){const r=lt.domCache.get(t);e.forEach(t=>{r[t].disabled=n})}function ee(t,e){if(!t)return!1;if("radio"===t.type){const n=t.parentNode.parentNode.querySelectorAll("input");for(let t=0;t<n.length;t++)n[t].disabled=e}else t.disabled=e}class ne{constructor(t,e){this.callback=t,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var re={email:(t,e)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};const ie=["swal-title","swal-html","swal-footer"],oe=t=>(t="string"==typeof t.template?document.querySelector(t.template):t.template)?((t=>{const e=ie.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);r(t.children).forEach(t=>{const n=t.tagName.toLowerCase();-1===e.indexOf(n)&&i("Unrecognized element <".concat(n,">"))})})(t=t.content),Object.assign((t=>{const e={};return r(t.querySelectorAll("swal-param")).forEach(t=>{ae(t,["name","value"]);const n=t.getAttribute("name");let r=t.getAttribute("value");"boolean"==typeof Rt[n]&&"false"===r&&(r=!1),"object"==typeof Rt[n]&&(r=JSON.parse(r)),e[n]=r}),e})(t),(t=>{const e={};return r(t.querySelectorAll("swal-button")).forEach(t=>{ae(t,["type","color","aria-label"]);const r=t.getAttribute("type");e["".concat(r,"ButtonText")]=t.innerHTML,e["show".concat(n(r),"Button")]=!0,t.hasAttribute("color")&&(e["".concat(r,"ButtonColor")]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(e["".concat(r,"ButtonAriaLabel")]=t.getAttribute("aria-label"))}),e})(t),(t=>{const e={},n=t.querySelector("swal-image");return n&&(ae(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt"))),e})(t),(t=>{const e={},n=t.querySelector("swal-icon");return n&&(ae(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e})(t),(t=>{const e={},n=t.querySelector("swal-input");n&&(ae(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const i=t.querySelectorAll("swal-input-option");return i.length&&(e.inputOptions={},r(i).forEach(t=>{ae(t,["value"]);const n=t.getAttribute("value"),r=t.innerHTML;e.inputOptions[n]=r})),e})(t),((t,e)=>{const n={};for(const r in e){const i=e[r],o=t.querySelector(i);o&&(ae(o,[]),n[i.replace(/^swal-/,"")]=o.innerHTML.trim())}return n})(t,ie))):{},ae=(t,e)=>{r(t.attributes).forEach(n=>{-1===e.indexOf(n.name)&&i(['Unrecognized attribute "'.concat(n.name,'" on <').concat(t.tagName.toLowerCase(),">."),"".concat(e.length?"Allowed attributes are: ".concat(e.join(", ")):"To set the value, use HTML within the element.")])})},se=t=>{const e=m(),n=w();"function"==typeof t.willOpen&&t.willOpen(n);var i=window.getComputedStyle(document.body).overflowY;((t,e,n)=>{X(t,n.showClass.backdrop),e.style.setProperty("opacity","0","important"),G(e,"grid"),setTimeout(()=>{X(e,n.showClass.popup),e.style.removeProperty("opacity")},10),X([document.documentElement,document.body],d.shown),n.heightAuto&&n.backdrop&&!n.toast&&X([document.documentElement,document.body],d["height-auto"])})(e,n,t),setTimeout(()=>{((t,e)=>{ut&&et(e)?(t.style.overflowY="hidden",e.addEventListener(ut,ue)):t.style.overflowY="auto"})(e,n)},10),L()&&(((t,e,n)=>{(()=>{var t;(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints)&&!U(document.body,d.iosfix)&&(t=document.body.scrollTop,document.body.style.top="".concat(-1*t,"px"),X(document.body,d.iosfix),(()=>{const t=m();let e;t.ontouchstart=(t=>{e=Yt(t)}),t.ontouchmove=(t=>{e&&(t.preventDefault(),t.stopPropagation())})})(),(()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const t=44;w().scrollHeight>window.innerHeight-t&&(m().style.paddingBottom="".concat(t,"px"))}})())})(),e&&"hidden"!==n&&null===M.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(M.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(M.previousBodyPadding+(()=>{const t=document.createElement("div");t.className=d["scrollbar-measure"],document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e})(),"px")),setTimeout(()=>{t.scrollTop=0})})(e,t.scrollbarPadding,i),r(document.body.children).forEach(t=>{t===m()||t.contains(m())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))})),P()||Tt.previousActiveElement||(Tt.previousActiveElement=document.activeElement),"function"==typeof t.didOpen&&setTimeout(()=>t.didOpen(n)),Y(e,d["no-transition"])},ue=t=>{const e=w();if(t.target===e){const t=m();e.removeEventListener(ut,ue),t.style.overflowY="auto"}},ce={select:(t,e,n)=>{const r=H(t,d.select),i=(t,e,r)=>{const i=document.createElement("option");i.value=r,F(i,e),i.selected=fe(r,n.inputValue),t.appendChild(i)};e.forEach(t=>{var e=t[0];const n=t[1];if(Array.isArray(n)){const t=document.createElement("optgroup");t.label=e,t.disabled=!1,r.appendChild(t),n.forEach(e=>i(t,e[1],e[0]))}else i(r,n,e)}),r.focus()},radio:(t,e,n)=>{const r=H(t,d.radio);e.forEach(t=>{var e=t[0];t=t[1];const i=document.createElement("input"),o=document.createElement("label");i.type="radio",i.name=d.radio,i.value=e,fe(e,n.inputValue)&&(i.checked=!0);const a=document.createElement("span");F(a,t),a.className=d.label,o.appendChild(i),o.appendChild(a),r.appendChild(o)});const i=r.querySelectorAll("input");i.length&&i[0].focus()}},le=t=>{const e=[];return"undefined"!=typeof Map&&t instanceof Map?t.forEach((t,n)=>{let r=t;"object"==typeof r&&(r=le(r)),e.push([n,r])}):Object.keys(t).forEach(n=>{let r=t[n];"object"==typeof r&&(r=le(r)),e.push([n,r])}),e},fe=(t,e)=>e&&e.toString()===t.toString(),he=(t,e)=>{var n=lt.innerParams.get(t),r=((t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return n.checked?1:0;case"radio":return(r=n).checked?r.value:null;case"file":return(r=n).files.length?null!==r.getAttribute("multiple")?r.files:r.files[0]:null;default:return e.inputAutoTrim?n.value.trim():n.value}var r})(t,n);n.inputValidator?de(t,r,e):t.getInput().checkValidity()?("deny"===e?pe:ye)(t,r):(t.enableButtons(),t.showValidationMessage(n.validationMessage))},de=(t,e,n)=>{const r=lt.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>c(r.inputValidator(e,r.validationMessage))).then(r=>{t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):("deny"===n?pe:ye)(t,e)})},pe=(t,e)=>{const n=lt.innerParams.get(t||void 0);if(n.showLoaderOnDeny&&xt(T()),n.preDeny){lt.awaitingPromise.set(t||void 0,!0),Promise.resolve().then(()=>c(n.preDeny(e,n.validationMessage))).then(n=>{!1===n?t.hideLoading():t.closePopup({isDenied:!0,value:void 0===n?e:n})}).catch(e=>ge(t||void 0,e))}else t.closePopup({isDenied:!0,value:e})},me=(t,e)=>{t.closePopup({isConfirmed:!0,value:e})},ge=(t,e)=>{t.rejectPromise(e)},ye=(t,e)=>{const n=lt.innerParams.get(t||void 0);if(n.showLoaderOnConfirm&&xt(),n.preConfirm){t.resetValidationMessage(),lt.awaitingPromise.set(t||void 0,!0),Promise.resolve().then(()=>c(n.preConfirm(e,n.validationMessage))).then(n=>{$(E())||!1===n?t.hideLoading():me(t,void 0===n?e:n)}).catch(e=>ge(t||void 0,e))}else me(t,e)},we=(t,e,n)=>{const r=R();if(r.length)return(e+=n)===r.length?e=0:-1===e&&(e=r.length-1),r[e].focus();w().focus()},ve=["ArrowRight","ArrowDown"],be=["ArrowLeft","ArrowUp"],ke=(t,e,n)=>{e.isComposing||e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML&&(["textarea","file"].includes(n.input)||(Et(),e.preventDefault()))},_e=(t,e)=>{var n=t.target,r=R();let i=-1;for(let t=0;t<r.length;t++)if(n===r[t]){i=t;break}t.shiftKey?we(0,i,-1):we(0,i,1),t.stopPropagation(),t.preventDefault()},Ie=t=>{if([x(),T(),O()].includes(document.activeElement)){t=ve.includes(t)?"nextElementSibling":"previousElementSibling";const e=document.activeElement[t];e&&e.focus()}},Ee=(e,n,r)=>{s(n.allowEscapeKey)&&(e.preventDefault(),r(t.esc))};let xe=!1;const Te=t=>{t.isAwaitingPromise()?(Se(lt,t),lt.awaitingPromise.set(t,!0)):(Se(Gt,t),Se(lt,t))},Se=(t,e)=>{for(const n in t)t[n].delete(e)};let Oe;h=Object.freeze({hideLoading:zt,disableLoading:zt,getInput:function(t){var e=lt.innerParams.get(t||this);return(t=lt.domCache.get(t||this))?j(t.popup,e.input):null},close:Wt,isAwaitingPromise:function(){return!!lt.awaitingPromise.get(this)},rejectPromise:function(t){const e=Gt.swalPromiseReject.get(this);Qt(this),e&&e(t)},closePopup:Wt,closeModal:Wt,closeToast:Wt,enableButtons:function(){te(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){te(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return ee(this.getInput(),!1)},disableInput:function(){return ee(this.getInput(),!0)},showValidationMessage:function(t){const e=lt.domCache.get(this);var n=lt.innerParams.get(this);F(e.validationMessage,t),e.validationMessage.className=d["validation-message"],n.customClass&&n.customClass.validationMessage&&X(e.validationMessage,n.customClass.validationMessage),G(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedby",d["validation-message"]),q(r),X(r,d.inputerror))},resetValidationMessage:function(){var t=lt.domCache.get(this);t.validationMessage&&Z(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Y(e,d.inputerror))},getProgressSteps:function(){return lt.domCache.get(this).progressSteps},_main:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(t=>{!t.backdrop&&t.allowOutsideClick&&i('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in t)Ut(e),t.toast&&Vt(e),jt(e)})(Object.assign({},n,e)),Tt.currentInstance&&(Tt.currentInstance._destroy(),L()&&Kt()),Tt.currentInstance=this,function(t){var e,n;(e=t).inputValidator||Object.keys(re).forEach(t=>{e.input===t&&(e.inputValidator=re[t])}),t.showLoaderOnConfirm&&!t.preConfirm&&i("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),(n=t).target&&("string"!=typeof n.target||document.querySelector(n.target))&&("string"==typeof n.target||n.target.appendChild)||(i('Target parameter is not valid, defaulting to "body"'),n.target="body"),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),ot(t)}(e=((t,e)=>{const n=oe(t),r=Object.assign({},Rt,e,n,t);return r.showClass=Object.assign({},Rt.showClass,r.showClass),r.hideClass=Object.assign({},Rt.hideClass,r.hideClass),r})(e,n)),Object.freeze(e),Tt.timeout&&(Tt.timeout.stop(),delete Tt.timeout),clearTimeout(Tt.restoreFocusTimeout);var r,a,f;n=(t=>{const e={popup:w(),container:m(),actions:C(),confirmButton:x(),denyButton:T(),cancelButton:O(),loader:S(),closeButton:N(),validationMessage:E(),progressSteps:I()};return lt.domCache.set(t,e),e})(this);return It(this,e),lt.innerParams.set(this,e),r=this,a=n,f=e,new Promise((e,n)=>{const i=t=>{r.closePopup({isDismissed:!0,dismiss:t})};Gt.swalPromiseResolve.set(r,e),Gt.swalPromiseReject.set(r,n),a.confirmButton.onclick=(()=>(t=>{var e=lt.innerParams.get(t);t.disableButtons(),e.input?he(t,"confirm"):ye(t,!0)})(r)),a.denyButton.onclick=(()=>(t=>{var e=lt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?he(t,"deny"):pe(t,!1)})(r)),a.cancelButton.onclick=(()=>((e,n)=>{e.disableButtons(),n(t.cancel)})(r,i)),a.closeButton.onclick=(()=>i(t.close)),((e,n,r)=>{var i,o,a,u,c,l,f;lt.innerParams.get(e).toast?(l=e,f=r,n.popup.onclick=(()=>{var e=lt.innerParams.get(l);e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton||e.timer||e.input||f(t.close)})):((c=n).popup.onmousedown=(()=>{c.container.onmouseup=function(t){c.container.onmouseup=void 0,t.target===c.container&&(xe=!0)}}),(u=n).container.onmousedown=(()=>{u.popup.onmouseup=function(t){u.popup.onmouseup=void 0,t.target!==u.popup&&!u.popup.contains(t.target)||(xe=!0)}}),i=e,a=r,(o=n).container.onclick=(e=>{var n=lt.innerParams.get(i);xe?xe=!1:e.target===o.container&&s(n.allowOutsideClick)&&a(t.backdrop)}))})(r,a,i),((t,e,n,r)=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),n.toast||(e.keydownHandler=(e=>((t,e,n)=>{const r=lt.innerParams.get(t);r&&(r.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?ke(t,e,r):"Tab"===e.key?_e(e,r):[...ve,...be].includes(e.key)?Ie(e.key):"Escape"===e.key&&Ee(e,r,n))})(t,e,r)),e.keydownTarget=n.keydownListenerCapture?window:w(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)})(r,Tt,f,i),((t,e)=>{"select"===e.input||"radio"===e.input?((t,e)=>{const n=w(),r=t=>ce[e.input](n,le(t),e);u(e.inputOptions)||l(e.inputOptions)?(xt(x()),c(e.inputOptions).then(e=>{t.hideLoading(),r(e)})):"object"==typeof e.inputOptions?r(e.inputOptions):o("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof e.inputOptions))})(t,e):["text","email","number","tel","textarea"].includes(e.input)&&(u(e.inputValue)||l(e.inputValue))&&(xt(x()),((t,e)=>{const n=t.getInput();Z(n),c(e.inputValue).then(r=>{n.value="number"===e.input?parseFloat(r)||0:"".concat(r),G(n),n.focus(),t.hideLoading()}).catch(e=>{o("Error in inputValue promise: ".concat(e)),n.value="",G(n),n.focus(),t.hideLoading()})})(t,e))})(r,f),se(f),((t,e,n)=>{var r=A();Z(r),e.timer&&(t.timeout=new ne(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(G(r),setTimeout(()=>{t.timeout&&t.timeout.running&&B(e.timer)})))})(Tt,f,i),((t,e)=>{if(!e.toast)s(e.allowEnterKey)?((t,e)=>e.focusDeny&&$(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&$(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!$(t.confirmButton)||(t.confirmButton.focus(),0)))(t,e)||we(0,-1,1):document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()})(a,f),setTimeout(()=>{a.container.scrollTop=0})})},update:function(t){var e=w(),n=lt.innerParams.get(this);if(!e||U(e,n.hideClass.popup))return i("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const r={};Object.keys(t).forEach(e=>{De.isUpdatableParameter(e)?r[e]=t[e]:i('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))}),n=Object.assign({},n,r),It(this,n),lt.innerParams.set(this,n),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})},_destroy:function(){var t=lt.domCache.get(this);const e=lt.innerParams.get(this);e?(t.popup&&Tt.swalCloseEventFinishedCallback&&(Tt.swalCloseEventFinishedCallback(),delete Tt.swalCloseEventFinishedCallback),Tt.deferDisposalTimer&&(clearTimeout(Tt.deferDisposalTimer),delete Tt.deferDisposalTimer),"function"==typeof e.didDestroy&&e.didDestroy(),Te(t=this),delete t.params,delete Tt.keydownHandler,delete Tt.keydownTarget,delete Tt.currentInstance):Te(this)}});class Ce{constructor(){if("undefined"!=typeof window){Oe=this;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Object.freeze(this.constructor.argsToParams(e));Object.defineProperties(this,{params:{value:r,writable:!1,enumerable:!0,configurable:!0}}),r=this._main(this.params),lt.promise.set(this,r)}}then(t){return lt.promise.get(this).then(t)}finally(t){return lt.promise.get(this).finally(t)}}Object.assign(Ce.prototype,h),Object.assign(Ce,qt),Object.keys(h).forEach(t=>{Ce[t]=function(){if(Oe)return Oe[t](...arguments)}}),Ce.DismissReason=t,Ce.version="11.3.0";const De=Ce;return De.default=De,De}),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}'),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).firebase)}(this,function(t){"use strict";try{(function(){var e,n=(e=t)&&"object"==typeof e&&"default"in e?e:{default:e},r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n=n||Promise)(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function c(){return"indexedDB"in self&&null!=indexedDB}function l(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})}function f(){return navigator&&navigator.cookieEnabled}var h,d,p="FirebaseError",m=(h=Error,r(d=y,ht=h),d.prototype=null===ht?Object.create(ht):(g.prototype=ht.prototype,new g),y);function g(){this.constructor=d}function y(t,e,n){return(e=h.call(this,e)||this).code=t,e.customData=n,e.name=p,Object.setPrototypeOf(e,y.prototype),Error.captureStackTrace&&Error.captureStackTrace(e,w.prototype.create),e}var w=(v.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i=e[0]||{},o=this.service+"/"+t;t=(t=this.errors[t])?(r=i,t.replace(b,function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"})):"Error",t=this.serviceName+": "+t+" ("+o+").";return new m(o,t,i)},v);function v(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var b=/\{\$([^}]+)}/g,k=1e3,_=2,I=144e5,E=.5;function x(t,e,n){return void 0===e&&(e=k),void 0===n&&(n=_),n=e*Math.pow(n,t),t=Math.round(E*n*(Math.random()-.5)*2),Math.min(I,n+t)}var T=(S.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},S.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},S.prototype.setServiceProps=function(t){return this.serviceProps=t,this},S);function S(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}function O(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function C(t,e,n){var r,i=new Promise(function(i,o){O(r=t[e].apply(t,n)).then(i,o)});return i.request=r,i}function D(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function A(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return C(this[e],r,arguments)})})}function N(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function R(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return t=this[e],(n=C(t,r,arguments)).then(function(t){if(t)return new P(t,n.request)});var t,n})})}function L(t){this._index=t}function P(t,e){this._cursor=t,this._request=e}function B(t){this._store=t}function M(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function F(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new M(n)}function U(t){this._db=t}D(L,"_index",["name","keyPath","multiEntry","unique"]),A(L,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),R(L,"_index",IDBIndex,["openCursor","openKeyCursor"]),D(P,"_cursor",["direction","key","primaryKey","value"]),A(P,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(P.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,n),O(e._request).then(function(t){if(t)return new P(t,e._request)})})})}),B.prototype.createIndex=function(){return new L(this._store.createIndex.apply(this._store,arguments))},B.prototype.index=function(){return new L(this._store.index.apply(this._store,arguments))},D(B,"_store",["name","keyPath","indexNames","autoIncrement"]),A(B,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),R(B,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),N(B,"_store",IDBObjectStore,["deleteIndex"]),M.prototype.objectStore=function(){return new B(this._tx.objectStore.apply(this._tx,arguments))},D(M,"_tx",["objectStoreNames","mode"]),N(M,"_tx",IDBTransaction,["abort"]),F.prototype.createObjectStore=function(){return new B(this._db.createObjectStore.apply(this._db,arguments))},D(F,"_db",["name","version","objectStoreNames"]),N(F,"_db",IDBDatabase,["deleteObjectStore","close"]),U.prototype.transaction=function(){return new M(this._db.transaction.apply(this._db,arguments))},D(U,"_db",["name","version","objectStoreNames"]),N(U,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[B,L].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=(r=arguments,Array.prototype.slice.call(r)),n=e[e.length-1],r=this._store||this._index,i=r[t].apply(r,e.slice(0,-1));i.onsuccess=function(){n(i.result)}})})}),[L,B].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)})})})});var V="0.4.19",j=1e4,q="w:"+V,z="FIS_v2",X="https://firebaseinstallations.googleapis.com/v1",Y=36e5,H=((Bt={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Bt["not-registered"]="Firebase Installation is not registered.",Bt["installation-not-found"]="Firebase Installation not found.",Bt["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Bt["app-offline"]="Could not process request. Application offline.",Bt["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Bt),K=new w("installations","Installations",H);function G(t){return t instanceof m&&t.code.includes("request-failed")}function Z(t){return t=t.projectId,X+"/projects/"+t+"/installations"}function W(t){return{token:t.token,requestStatus:2,expiresIn:(t=t.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()}}function Q(t,e){return o(this,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return[4,e.json()];case 1:return n=r.sent().error,[2,K.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})]}})})}function $(t){return t=t.apiKey,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function J(t,e){return e=e.refreshToken,(t=$(t)).append("Authorization",z+" "+e),t}function tt(t){return o(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return 500<=(e=n.sent()).status&&e.status<600?[2,t()]:[2,e]}})})}function et(t){return new Promise(function(e){setTimeout(e,t)})}var nt=/^[cdef][\w-]{21}$/,rt="";function it(){try{var t=new Uint8Array(17);return(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16,t=btoa(String.fromCharCode.apply(String,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(arguments[e]));return t}(t))).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22),nt.test(t)?t:rt}catch(t){return rt}}function ot(t){return t.appName+"!"+t.appId}var at=new Map;function st(t,e){var n;ut(t=ot(t),e),n=t,t=e,(e=lt())&&e.postMessage({key:n,fid:t}),ft()}function ut(t,e){var n,r,i=at.get(t);if(i)try{for(var o=s(i),a=o.next();!a.done;a=o.next())(0,a.value)(e)}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var ct=null;function lt(){return!ct&&"BroadcastChannel"in self&&((ct=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){ut(t.data.key,t.data.fid)}),ct}function ft(){0===at.size&&ct&&(ct.close(),ct=null)}var ht,dt,pt="firebase-installations-database",mt=1,gt="firebase-installations-store",yt=null;function wt(){var t,e,n;return yt||(t=mt,e=function(t){0===t.oldVersion&&t.createObjectStore(gt)},(n=(t=C(indexedDB,"open",[pt,t])).request)&&(n.onupgradeneeded=function(t){e(new F(n.result,t.oldVersion,n.transaction))}),yt=t.then(function(t){return new U(t)})),yt}function vt(t,e){return o(this,void 0,void 0,function(){var n,r,i,o;return a(this,function(a){switch(a.label){case 0:return n=ot(t),[4,wt()];case 1:return i=a.sent(),[4,(i=(r=i.transaction(gt,"readwrite")).objectStore(gt)).get(n)];case 2:return o=a.sent(),[4,i.put(e,n)];case 3:return a.sent(),[4,r.complete];case 4:return a.sent(),o&&o.fid===e.fid||st(t,e.fid),[2,e]}})})}function bt(t){return o(this,void 0,void 0,function(){var e,n;return a(this,function(r){switch(r.label){case 0:return e=ot(t),[4,wt()];case 1:return[4,(n=(n=r.sent()).transaction(gt,"readwrite")).objectStore(gt).delete(e)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}})})}function kt(t,e){return o(this,void 0,void 0,function(){var n,r,i,o,s;return a(this,function(a){switch(a.label){case 0:return n=ot(t),[4,wt()];case 1:return i=a.sent(),[4,(i=(r=i.transaction(gt,"readwrite")).objectStore(gt)).get(n)];case 2:return o=a.sent(),void 0!==(s=e(o))?[3,4]:[4,i.delete(n)];case 3:return a.sent(),[3,6];case 4:return[4,i.put(s,n)];case 5:a.sent(),a.label=6;case 6:return[4,r.complete];case 7:return a.sent(),!s||o&&o.fid===s.fid||st(t,s.fid),[2,s]}})})}function _t(t){return o(this,void 0,void 0,function(){var e,n,r;return a(this,function(i){switch(i.label){case 0:return[4,kt(t,function(n){var r,i;return n=Et(n||{fid:it(),registrationStatus:0}),r=t,n=0!==(i=n).registrationStatus?1===i.registrationStatus?{installationEntry:i,registrationPromise:function(t){return o(this,void 0,void 0,function(){var e,n,r;return a(this,function(i){switch(i.label){case 0:return[4,It(t)];case 1:e=i.sent(),i.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,et(100)];case 3:return i.sent(),[4,It(t)];case 4:return e=i.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,_t(t)];case 6:return r=i.sent(),n=r.installationEntry,(r=r.registrationPromise)?[2,r]:[2,n];case 7:return[2,e]}})})}(r)}:{installationEntry:i}:navigator.onLine?{installationEntry:i={fid:i.fid,registrationStatus:1,registrationTime:Date.now()},registrationPromise:r=function(t,e){return o(this,void 0,void 0,function(){var n,r;return a(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,function(t){var n=e.fid;return o(this,void 0,void 0,function(){var e,r,i,o,s;return a(this,function(a){switch(a.label){case 0:return e=Z(t),r=$(t),s={fid:n,authVersion:z,appId:t.appId,sdkVersion:q},i={method:"POST",headers:r,body:JSON.stringify(s)},[4,tt(function(){return fetch(e,i)})];case 1:return(o=a.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(s=a.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:W(s.authToken)}];case 3:return[4,Q("Create Installation",o)];case 4:throw a.sent()}})})}(t)];case 1:return n=i.sent(),[2,vt(t,n)];case 2:return G(r=i.sent())&&409===r.customData.serverCode?[4,bt(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,vt(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}(r,i)}:{installationEntry:i,registrationPromise:Promise.reject(K.create("app-offline"))},e=n.registrationPromise,n.installationEntry})];case 1:return(n=i.sent()).fid!==rt?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function It(t){return kt(t,function(t){if(!t)throw K.create("installation-not-found");return Et(t)})}function Et(t){return 1===t.registrationStatus&&t.registrationTime+j<Date.now()?{fid:t.fid,registrationStatus:0}:t}function xt(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return o(this,void 0,void 0,function(){var t,i,o,s,u;return a(this,function(a){switch(a.label){case 0:return c=(c=e).fid,t=Z(n)+"/"+c+"/authTokens:generate",i=J(n,e),(u=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",u.getPlatformInfoString()),u={installation:{sdkVersion:q}},o={method:"POST",headers:i,body:JSON.stringify(u)},[4,tt(function(){return fetch(t,o)})];case 1:return(s=a.sent()).ok?[4,s.json()]:[3,3];case 2:return[2,W(u=a.sent())];case 3:return[4,Q("Generate Auth Token",s)];case 4:throw a.sent()}var c})})}function Tt(t,e){return void 0===e&&(e=!1),o(this,void 0,void 0,function(){var n,r,s;return a(this,function(u){switch(u.label){case 0:return[4,kt(t.appConfig,function(r){if(!Ot(r))throw K.create("not-registered");var s,u,c,l=r.authToken;if(e||2!==(s=l).requestStatus||(u=s,(c=Date.now())<u.creationTime||u.creationTime+u.expiresIn<c+Y)){if(1===l.requestStatus)return n=function(t,e){return o(this,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return[4,St(t.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,et(100)];case 3:return r.sent(),[4,St(t.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(n=n.authToken).requestStatus?[2,Tt(t,e)]:[2,n]}})})}(t,e),r;if(!navigator.onLine)throw K.create("app-offline");return s=r,l={requestStatus:1,requestTime:Date.now()},l=i(i({},s),{authToken:l}),n=function(t,e){return o(this,void 0,void 0,function(){var n,r,o;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,8]),[4,xt(t,e)];case 1:return n=a.sent(),o=i(i({},e),{authToken:n}),[4,vt(t.appConfig,o)];case 2:return a.sent(),[2,n];case 3:return!G(r=a.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,bt(t.appConfig)];case 4:return a.sent(),[3,7];case 5:return o=i(i({},e),{authToken:{requestStatus:0}}),[4,vt(t.appConfig,o)];case 6:a.sent(),a.label=7;case 7:throw r;case 8:return[2]}})})}(t,l),l}return r})];case 1:return r=u.sent(),n?[4,n]:[3,3];case 2:return s=u.sent(),[3,4];case 3:s=r.authToken,u.label=4;case 4:return[2,s]}})})}function St(t){return kt(t,function(t){if(!Ot(t))throw K.create("not-registered");var e=t.authToken;return 1===e.requestStatus&&e.requestTime+j<Date.now()?i(i({},t),{authToken:{requestStatus:0}}):t})}function Ot(t){return void 0!==t&&2===t.registrationStatus}function Ct(t,e){return o(this,void 0,void 0,function(){var n,r,i;return a(this,function(o){switch(o.label){case 0:return a=(a=e).fid,n=Z(t)+"/"+a,i=J(t,e),r={method:"DELETE",headers:i},[4,tt(function(){return fetch(n,r)})];case 1:return(i=o.sent()).ok?[3,3]:[4,Q("Delete Installation",i)];case 2:throw o.sent();case 3:return[2]}var a})})}function Dt(t){return K.create("missing-app-config-values",{valueName:t})}function At(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function Nt(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=Pt[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,At(["["+i+"]  "+t.name+":"],n))}}(ht=n.default).INTERNAL.registerComponent(new T("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw Dt("App Configuration");if(!t.name)throw Dt("App Name");try{for(var r=s(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw Dt(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return o(this,void 0,void 0,function(){var e,n;return a(this,function(r){switch(r.label){case 0:return[4,_t(t.appConfig)];case 1:return e=r.sent(),n=e.installationEntry,(e.registrationPromise||Tt(t)).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),o(this,void 0,void 0,function(){return a(this,function(n){switch(n.label){case 0:return[4,function(t){return o(this,void 0,void 0,function(){var e;return a(this,function(n){switch(n.label){case 0:return[4,_t(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}(t.appConfig)];case 1:return n.sent(),[4,Tt(t,e)];case 2:return[2,n.sent().token]}})})}(n,t)},delete:function(){return function(t){return o(this,void 0,void 0,function(){var e,n;return a(this,function(r){switch(r.label){case 0:return[4,kt(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw K.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw K.create("app-offline");case 3:return[4,Ct(e,n)];case 4:return r.sent(),[4,bt(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return function(t,e){lt();var n=ot(t);(t=at.get(n))||(t=new Set,at.set(n,t)),t.add(e)}(r=n.appConfig,e=t),function(){var t,n=e,i=ot(t=r);(t=at.get(i))&&(t.delete(n),0===t.size&&at.delete(i),ft())};var e,r}}},"PUBLIC")),ht.registerVersion("@firebase/installations",V),(Bt=dt={})[Bt.DEBUG=0]="DEBUG",Bt[Bt.VERBOSE=1]="VERBOSE",Bt[Bt.INFO=2]="INFO",Bt[Bt.WARN=3]="WARN",Bt[Bt.ERROR=4]="ERROR",Bt[Bt.SILENT=5]="SILENT";var Rt={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},Lt=dt.INFO,Pt=((H={})[dt.DEBUG]="log",H[dt.VERBOSE]="log",H[dt.INFO]="info",H[dt.WARN]="warn",H[dt.ERROR]="error",H),Bt=(Object.defineProperty(Mt.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in dt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),Mt.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?Rt[t]:t},Object.defineProperty(Mt.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(Mt.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),Mt.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,At([this,dt.DEBUG],t)),this._logHandler.apply(this,At([this,dt.DEBUG],t))},Mt.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,At([this,dt.VERBOSE],t)),this._logHandler.apply(this,At([this,dt.VERBOSE],t))},Mt.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,At([this,dt.INFO],t)),this._logHandler.apply(this,At([this,dt.INFO],t))},Mt.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,At([this,dt.WARN],t)),this._logHandler.apply(this,At([this,dt.WARN],t))},Mt.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,At([this,dt.ERROR],t)),this._logHandler.apply(this,At([this,dt.ERROR],t))},Mt);function Mt(t){this.name=t,this._logLevel=Lt,this._logHandler=Nt,this._userLogHandler=null}var Ft,Ut="firebase_id",Vt="origin",jt=6e4,qt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zt="https://www.googletagmanager.com/gtag/js";(H=Ft=Ft||{}).EVENT="event",H.SET="set",H.CONFIG="config",(H=V={}).ADD_SHIPPING_INFO="add_shipping_info",H.ADD_PAYMENT_INFO="add_payment_info",H.ADD_TO_CART="add_to_cart",H.ADD_TO_WISHLIST="add_to_wishlist",H.BEGIN_CHECKOUT="begin_checkout",H.CHECKOUT_PROGRESS="checkout_progress",H.EXCEPTION="exception",H.GENERATE_LEAD="generate_lead",H.LOGIN="login",H.PAGE_VIEW="page_view",H.PURCHASE="purchase",H.REFUND="refund",H.REMOVE_FROM_CART="remove_from_cart",H.SCREEN_VIEW="screen_view",H.SEARCH="search",H.SELECT_CONTENT="select_content",H.SELECT_ITEM="select_item",H.SELECT_PROMOTION="select_promotion",H.SET_CHECKOUT_OPTION="set_checkout_option",H.SHARE="share",H.SIGN_UP="sign_up",H.TIMING_COMPLETE="timing_complete",H.VIEW_CART="view_cart",H.VIEW_ITEM="view_item",H.VIEW_ITEM_LIST="view_item_list",H.VIEW_PROMOTION="view_promotion",H.VIEW_SEARCH_RESULTS="view_search_results";var Xt=new Bt("@firebase/analytics"),Yt=(Bt=((Bt={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Bt["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Bt["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Bt["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Bt["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Bt["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Bt["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Bt["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Bt["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Bt),new w("analytics","Analytics",Bt)),Ht=30;function Kt(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}var Gt=(Kt.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},Kt.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},Kt.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},new Kt);var Zt=(Wt.prototype.addEventListener=function(t){this.listeners.push(t)},Wt.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},Wt);function Wt(){this.listeners=[]}var Qt,$t,Jt={},te=[],ee={},ne="dataLayer",re="gtag",ie=!1;function oe(t,e){n=[],u()&&n.push("This is a browser extension environment."),f()||n.push("Cookies are not available."),0<n.length&&(n=n.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=Yt.create("invalid-analytics-context",{errorInfo:n}),Xt.warn(n.message));var n,r,s,h,d,p,g,y,w,v,b=t.options.appId;if(!b)throw Yt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Yt.create("no-api-key");Xt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Jt[b])throw Yt.create("already-exists",{id:b});return ie||(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(zt))return r}}()||(d=ne,(p=document.createElement("script")).src=zt+"?l="+d,p.async=!0,document.head.appendChild(p)),s=ne,h=[],Array.isArray(window[s])?h=window[s]:window[s]=h,n=Jt,d=te,p=ee,r=ne,s=re,h=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)},window[s]&&"function"==typeof window[s]&&(h=window[s]),window[s]=(g=h,y=n,w=d,v=p,function(t,e,n){return o(this,void 0,void 0,function(){var r;return a(this,function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),t!==Ft.EVENT?[3,2]:[4,function(t,e,n,r,i){return o(this,void 0,void 0,function(){var o,s,u,c,l,f,h;return a(this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),o=[],i&&i.send_to?(h=i.send_to,Array.isArray(h)||(h=[h]),[4,Promise.all(n)]):[3,2];case 1:for(s=a.sent(),u=function(t){var n=s.find(function(e){return e.measurementId===t});if(!(n=n&&e[n.appId]))return o=[],"break";o.push(n)},c=0,l=h;c<l.length&&(f=l[c],"break"!==u(f));c++);a.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return a.sent(),t(Ft.EVENT,r,i||{}),[3,5];case 4:return h=a.sent(),Xt.error(h),[3,5];case 5:return[2]}})})}(g,y,w,e,n)];case 1:return i.sent(),[3,5];case 2:return t!==Ft.CONFIG?[3,4]:[4,function(t,e,n,r,i,s){return o(this,void 0,void 0,function(){var o,u;return a(this,function(a){switch(a.label){case 0:o=r[i],a.label=1;case 1:return a.trys.push([1,7,,8]),o?[4,e[o]]:[3,3];case 2:return a.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return(u=(u=a.sent()).find(function(t){return t.measurementId===i}))?[4,e[u.appId]]:[3,6];case 5:a.sent(),a.label=6;case 6:return[3,8];case 7:return u=a.sent(),Xt.error(u),[3,8];case 8:return t(Ft.CONFIG,i,s),[2]}})})}(g,y,w,v,e,n)];case 3:return i.sent(),[3,5];case 4:g(Ft.SET,e),i.label=5;case 5:return[3,7];case 6:return r=i.sent(),Xt.error(r),[3,7];case 7:return[2]}})})}),s={gtagCore:h,wrappedGtag:window[s]},$t=s.wrappedGtag,Qt=s.gtagCore,ie=!0),Jt[b]=function(t,e,n,r,i){return o(this,void 0,void 0,function(){var s,u,f;return a(this,function(h){switch(h.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=Gt),o(this,void 0,void 0,function(){var r,i,s,u,c,l=this;return a(this,function(f){if(u=t.options,r=u.appId,i=u.apiKey,s=u.measurementId,!r)throw Yt.create("no-app-id");if(i)return u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Zt,setTimeout(function(){return o(l,void 0,void 0,function(){return a(this,function(t){return c.abort(),[2]})})},void 0!==n?n:jt),[2,function t(e,n,r,i){var s=n.throttleEndTimeMillis,u=n.backoffCount;return void 0===i&&(i=Gt),o(this,void 0,void 0,function(){var n,c,l,f,h;return a(this,function(d){switch(d.label){case 0:n=e.appId,c=e.measurementId,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,(p=r,g=s,new Promise(function(t,e){var n=Math.max(g-Date.now(),0),r=setTimeout(t,n);p.addEventListener(function(){clearTimeout(r),e(Yt.create("fetch-throttle",{throttleEndTimeMillis:g}))})}))];case 2:return d.sent(),[3,4];case 3:if(f=d.sent(),c)return Xt.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+c+' provided in the "measurementId" field in the local Firebase config. ['+f.message+"]"),[2,{appId:n,measurementId:c}];throw f;case 4:return d.trys.push([4,6,,7]),[4,function(t){var e;return o(this,void 0,void 0,function(){var n,r,i,o;return a(this,function(a){switch(a.label){case 0:return n=t.appId,o=t.apiKey,o={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":o})},n=qt.replace("{app-id}",n),[4,fetch(n,o)];case 1:if(200===(r=a.sent()).status||304===r.status)return[3,6];i="",a.label=2;case 2:return a.trys.push([2,4,,5]),[4,r.json()];case 3:return o=a.sent(),null!==(e=o.error)&&void 0!==e&&e.message&&(i=o.error.message),[3,5];case 4:return a.sent(),[3,5];case 5:throw Yt.create("config-fetch-failed",{httpStatus:r.status,responseMessage:i});case 6:return[2,r.json()]}})})}(e)];case 5:return h=d.sent(),i.deleteThrottleMetadata(n),[2,h];case 6:if(function(t){if(t instanceof m&&t.customData)return 429===(t=Number(t.customData.httpStatus))||500===t||503===t||504===t}(l=d.sent()))return f=503===Number(l.customData.httpStatus)?x(u,i.intervalMillis,Ht):x(u,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+f,backoffCount:u+1},i.setThrottleMetadata(n,h),Xt.debug("Calling attemptFetch again in "+f+" millis"),[2,t(e,h,r,i)];if(i.deleteThrottleMetadata(n),c)return Xt.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+c+' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]"),[2,{appId:n,measurementId:c}];throw l;case 7:return[2]}var p,g})})}({appId:r,apiKey:i,measurementId:s},u,c,e)];if(s)return[2,{measurementId:s,appId:r}];throw Yt.create("no-api-key")})})}(t)).then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Xt.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return Xt.error(t)}),e.push(s),u=function(){return o(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return c()?[3,1]:(Xt.warn(Yt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,l()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Xt.warn(Yt.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(t){return t?r.getId():void 0}),[4,Promise.all([s,u])];case 1:return f=h.sent(),s=f[0],u=f[1],i("js",new Date),(f={})[Vt]="firebase",f.update=!0,null!=u&&(f[Ut]=u),i(Ft.CONFIG,s.measurementId,f),[2,s.measurementId]}})})}(t,te,ee,e,Qt),{app:t,logEvent:function(t,e,n){(function(t,e,n,r,s){return o(this,void 0,void 0,function(){var o;return a(this,function(a){switch(a.label){case 0:return s&&s.global?(t(Ft.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),o=i(i({},r),{send_to:o}),t(Ft.EVENT,n,o),a.label=3;case 3:return[2]}})})})($t,Jt[b],t,e,n).catch(function(t){return Xt.error(t)})},setCurrentScreen:function(t,e){(function(t,e,n,r){return o(this,void 0,void 0,function(){var i;return a(this,function(o){switch(o.label){case 0:return r&&r.global?(t(Ft.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Ft.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})})($t,Jt[b],t,e).catch(function(t){return Xt.error(t)})},setUserId:function(t,e){(function(t,e,n,r){return o(this,void 0,void 0,function(){var i;return a(this,function(o){switch(o.label){case 0:return r&&r.global?(t(Ft.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Ft.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})})($t,Jt[b],t,e).catch(function(t){return Xt.error(t)})},setUserProperties:function(t,e){(function(t,e,n,r){return o(this,void 0,void 0,function(){var i,o,s,u,c;return a(this,function(a){switch(a.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)u=s[o],i["user_properties."+u]=n[u];return t(Ft.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:c=a.sent(),t(Ft.CONFIG,c,{update:!0,user_properties:n}),a.label=3;case 3:return[2]}})})})($t,Jt[b],t,e).catch(function(t){return Xt.error(t)})},setAnalyticsCollectionEnabled:function(t){(function(t,e){return o(this,void 0,void 0,function(){var n;return a(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})})(Jt[b],t).catch(function(t){return Xt.error(t)})},INTERNAL:{delete:function(){return delete Jt[b],Promise.resolve()}}}}var ae="analytics";(n=n.default).INTERNAL.registerComponent(new T(ae,function(t){return oe(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:function(t){if(ie)throw Yt.create("already-initialized");t.dataLayerName&&(ne=t.dataLayerName),t.gtagName&&(re=t.gtagName)},EventName:V,isSupported:function(){return o(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:if(u())return[2,!1];if(!f())return[2,!1];if(!c())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,l()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}})),n.INTERNAL.registerComponent(new T("analytics-internal",function(t){try{return{logEvent:t.getProvider(ae).getImmediate().logEvent}}catch(t){throw Yt.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),n.registerVersion("@firebase/analytics","0.6.2")}).apply(this,arguments)}catch(t){throw console.error(t),new Error("Cannot instantiate firebase-analytics.js - be sure to load firebase-app.js first.")}}),function(){function t(t,e,n){return t.call.apply(t.bind,arguments)}function e(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function n(r,i,o){return(n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?t:e).apply(null,arguments)}var r=Date.now||function(){return+new Date};function i(t,e){this.a=t,this.m=e||t,this.c=this.m.document}var o=!!window.FontFace;function a(t,e,n,r){if(e=t.c.createElement(e),n)for(var i in n)n.hasOwnProperty(i)&&("style"==i?e.style.cssText=n[i]:e.setAttribute(i,n[i]));return r&&e.appendChild(t.c.createTextNode(r)),e}function s(t,e,n){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function u(t){t.parentNode&&t.parentNode.removeChild(t)}function c(t,e,n){e=e||[],n=n||[];for(var r=t.className.split(/\s+/),i=0;i<e.length;i+=1){for(var o=!1,a=0;a<r.length;a+=1)if(e[i]===r[a]){o=!0;break}o||r.push(e[i])}for(e=[],i=0;i<r.length;i+=1){for(o=!1,a=0;a<n.length;a+=1)if(r[i]===n[a]){o=!0;break}o||e.push(r[i])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function l(t,e){for(var n=t.className.split(/\s+/),r=0,i=n.length;r<i;r++)if(n[r]==e)return!0;return!1}function f(t){if("string"==typeof t.f)return t.f;var e=t.m.location.protocol;return"about:"==e&&(e=t.a.location.protocol),"https:"==e?"https:":"http:"}function h(t,e,n){function r(){l&&i&&u&&(l(c),l=null)}e=a(t,"link",{rel:"stylesheet",href:e,media:"all"});var i=!1,u=!0,c=null,l=n||null;o?(e.onload=function(){i=!0,r()},e.onerror=function(){i=!0,c=Error("Stylesheet failed to load"),r()}):setTimeout(function(){i=!0,r()},0),s(t,"head",e)}function d(t,e,n,r){var i=t.c.getElementsByTagName("head")[0];if(i){var o=a(t,"script",{src:e}),s=!1;return o.onload=o.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,n&&n(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&i.removeChild(o))},i.appendChild(o),setTimeout(function(){s||(s=!0,n&&n(Error("Script load timeout")))},r||5e3),o}return null}function p(){this.a=0,this.c=null}function m(t){return t.a++,function(){t.a--,y(t)}}function g(t,e){t.c=e,y(t)}function y(t){0==t.a&&t.c&&(t.c(),t.c=null)}function w(t){this.a=t||"-"}function v(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function b(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var r=t[n].replace(/['"]/g,"");-1!=r.indexOf(" ")||/^\d/.test(r)?e.push("'"+r+"'"):e.push(r)}return e.join(",")}function k(t){return t.a+t.f}function _(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function I(t){var e=4,n="n",r=null;return t&&((r=t.match(/(normal|oblique|italic)/i))&&r[1]&&(n=r[1].substr(0,1).toLowerCase()),(r=t.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?e=7:/[1-9]00/.test(r[1])&&(e=parseInt(r[1].substr(0,1),10)))),n+e}function E(t,e){this.c=t,this.f=t.m.document.documentElement,this.h=e,this.a=new w("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function x(t){if(t.g){var e=l(t.f,t.a.c("wf","active")),n=[],r=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),c(t.f,n,r)}T(t,"inactive")}function T(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,k(n)):t.h[e]())}function S(){this.c={}}function O(t,e){this.c=t,this.f=e,this.a=a(this.c,"span",{"aria-hidden":"true"},this.f)}function C(t){s(t.c,"body",t.a)}function D(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+b(t.c)+";font-style:"+_(t)+";font-weight:"+t.f+"00;"}function A(t,e,n,r,i,o){this.g=t,this.j=e,this.a=r,this.c=n,this.f=i||3e3,this.h=o||void 0}function N(t,e,n,r,i,o,a){this.v=t,this.B=e,this.c=n,this.a=r,this.s=a||"BESbswy",this.f={},this.w=i||3e3,this.u=o||null,this.o=this.j=this.h=this.g=null,this.g=new O(this.c,this.s),this.h=new O(this.c,this.s),this.j=new O(this.c,this.s),this.o=new O(this.c,this.s),t=D(t=new v(this.a.c+",serif",k(this.a))),this.g.a.style.cssText=t,t=D(t=new v(this.a.c+",sans-serif",k(this.a))),this.h.a.style.cssText=t,t=D(t=new v("serif",k(this.a))),this.j.a.style.cssText=t,t=D(t=new v("sans-serif",k(this.a))),this.o.a.style.cssText=t,C(this.g),C(this.h),C(this.j),C(this.o)}w.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},A.prototype.start=function(){var t=this.c.m.document,e=this,n=r(),i=new Promise(function(i,o){!function a(){r()-n>=e.f?o():t.fonts.load(function(t){return _(t)+" "+t.f+"00 300px "+b(t.c)}(e.a),e.h).then(function(t){1<=t.length?i():setTimeout(a,25)},function(){o()})}()}),o=new Promise(function(t,n){setTimeout(n,e.f)});Promise.race([o,i]).then(function(){e.g(e.a)},function(){e.j(e.a)})};var R={D:"serif",C:"sans-serif"},L=null;function P(){if(null===L){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);L=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return L}function B(t,e,n){for(var r in R)if(R.hasOwnProperty(r)&&e===t.f[R[r]]&&n===t.f[R[r]])return!0;return!1}function M(t){var e,i=t.g.a.offsetWidth,o=t.h.a.offsetWidth;(e=i===t.f.serif&&o===t.f["sans-serif"])||(e=P()&&B(t,i,o)),e?r()-t.A>=t.w?P()&&B(t,i,o)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?F(t,t.v):F(t,t.B):function(t){setTimeout(n(function(){M(this)},t),50)}(t):F(t,t.v)}function F(t,e){setTimeout(n(function(){u(this.g.a),u(this.h.a),u(this.j.a),u(this.o.a),e(this.a)},t),0)}function U(t,e,n){this.c=t,this.a=e,this.f=0,this.o=this.j=!1,this.s=n}N.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.o.a.offsetWidth,this.A=r(),M(this)};var V=null;function j(t){0==--t.f&&t.j&&(t.o?((t=t.a).g&&c(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),T(t,"active")):x(t.a))}function q(t){this.j=t,this.a=new S,this.h=0,this.f=this.g=!0}function z(t,e,r,i,o){var a=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=o||null,s=i||{};if(0===r.length&&a)x(e.a);else{e.f+=r.length,a&&(e.j=a);var u,l=[];for(u=0;u<r.length;u++){var f=r[u],h=s[f.c],d=e.a,p=f;d.g&&c(d.f,[d.a.c("wf",p.c,k(p).toString(),"loading")]),T(d,"fontloading",p),d=null,null===V&&(V=!!window.FontFace&&(!(p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent))||42<parseInt(p[1],10))),d=V?new A(n(e.g,e),n(e.h,e),e.c,f,e.s,h):new N(n(e.g,e),n(e.h,e),e.c,f,e.s,t,h),l.push(d)}for(u=0;u<l.length;u++)l[u].start()}},0)}function X(t,e){this.c=t,this.a=e}function Y(t,e){this.c=t,this.a=e}function H(t,e,n){this.c=t||e+K,this.a=[],this.f=[],this.g=n||""}U.prototype.g=function(t){var e=this.a;e.g&&c(e.f,[e.a.c("wf",t.c,k(t).toString(),"active")],[e.a.c("wf",t.c,k(t).toString(),"loading"),e.a.c("wf",t.c,k(t).toString(),"inactive")]),T(e,"fontactive",t),this.o=!0,j(this)},U.prototype.h=function(t){var e=this.a;if(e.g){var n=l(e.f,e.a.c("wf",t.c,k(t).toString(),"active")),r=[],i=[e.a.c("wf",t.c,k(t).toString(),"loading")];n||r.push(e.a.c("wf",t.c,k(t).toString(),"inactive")),c(e.f,r,i)}T(e,"fontinactive",t),j(this)},q.prototype.load=function(t){this.c=new i(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,n){var r=[],i=n.timeout;!function(t){t.g&&c(t.f,[t.a.c("wf","loading")]),T(t,"loading")}(e);var r=function(t,e,n){var r,i=[];for(r in e)if(e.hasOwnProperty(r)){var o=t.c[r];o&&i.push(o(e[r],n))}return i}(t.a,n,t.c),o=new U(t.c,e,i);for(t.h=r.length,e=0,n=r.length;e<n;e++)r[e].load(function(e,n,r){z(t,o,e,n,r)})}(this,new E(this.c,t),t)},X.prototype.load=function(t){var e=this,n=e.a.projectId,r=e.a.version;if(n){var i=e.c.m;d(this.c,function(t,e,n){return f(t.c)+"//"+(t=(t.a.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,""))+"/"+e+".js"+(n?"?v="+n:"")}(e,n,r),function(r){r?t([]):(i["__MonotypeConfiguration__"+n]=function(){return e.a},function e(){if(i["__mti_fntLst"+n]){var r,o=i["__mti_fntLst"+n](),a=[];if(o)for(var s=0;s<o.length;s++){var u=o[s].fontfamily;null!=o[s].fontStyle&&null!=o[s].fontWeight?(r=o[s].fontStyle+o[s].fontWeight,a.push(new v(u,r))):a.push(new v(u))}t(a)}else setTimeout(function(){e()},50)}())}).id="__MonotypeAPIScript__"+n}else t([])},Y.prototype.load=function(t){var e,n,r=this.a.urls||[],i=this.a.families||[],o=this.a.testStrings||{},a=new p;for(e=0,n=r.length;e<n;e++)h(this.c,r[e],m(a));var s=[];for(e=0,n=i.length;e<n;e++)if((r=i[e].split(":"))[1])for(var u=r[1].split(","),c=0;c<u.length;c+=1)s.push(new v(r[0],u[c]));else s.push(new v(r[0]));g(a,function(){t(s,o)})};var K="//fonts.googleapis.com/css";function G(t){this.f=t,this.a=[],this.c={}}var Z={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},W={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Q={i:"i",italic:"i",n:"n",normal:"n"},$=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function J(t,e){this.c=t,this.a=e}var tt={Arimo:!0,Cousine:!0,Tinos:!0};function et(t,e){this.c=t,this.a=e}function nt(t,e){this.c=t,this.f=e,this.a=[]}J.prototype.load=function(t){var e=new p,n=this.c,r=new H(this.a.api,f(n),this.a.text),i=this.a.families;!function(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r].split(":");3==i.length&&t.f.push(i.pop());var o="";2==i.length&&""!=i[1]&&(o=":"),t.a.push(i.join(o))}}(r,i);var o=new G(i);!function(t){for(var e=t.f.length,n=0;n<e;n++){var r=t.f[n].split(":"),i=r[0].replace(/\+/g," "),o=["n4"];if(2<=r.length){var a;if(a=[],s=r[1])for(var s,u=(s=s.split(",")).length,c=0;c<u;c++){var l;if((l=s[c]).match(/^[\w-]+$/))if(null==(h=$.exec(l.toLowerCase())))l="";else{if(l=null==(l=h[2])||""==l?"n":Q[l],null==(h=h[1])||""==h)h="4";else var f=W[h],h=f||(isNaN(h)?"4":h.substr(0,1));l=[l,h].join("")}else l="";l&&a.push(l)}0<a.length&&(o=a),3==r.length&&(a=[],0<(r=(r=r[2])?r.split(","):a).length&&(r=Z[r[0]])&&(t.c[i]=r))}for(t.c[i]||(r=Z[i])&&(t.c[i]=r),r=0;r<o.length;r+=1)t.a.push(new v(i,o[r]))}}(o),h(n,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],r=0;r<e;r++)n.push(t.a[r].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(r),m(e)),g(e,function(){t(o.a,o.c,tt)})},et.prototype.load=function(t){var e=this.a.id,n=this.c.m;e?d(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var r=[],i=0;i<e.length;i+=2)for(var o=e[i],a=e[i+1],s=0;s<a.length;s++)r.push(new v(o,a[s]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(r)}},2e3):t([])},nt.prototype.load=function(t){var e=this.f.id,n=this.c.m,r=this;e?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[e]=function(e,n){for(var i=0,o=n.fonts.length;i<o;++i){var a=n.fonts[i];r.a.push(new v(a.name,I("font-weight:"+a.weight+";font-style:"+a.style)))}t(r.a)},d(this.c,f(this.c)+(this.f.api||"//f.fontdeck.com/s/css/js/")+function(t){return t.m.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var rt=new q(window);rt.a.c.custom=function(t,e){return new Y(e,t)},rt.a.c.fontdeck=function(t,e){return new nt(e,t)},rt.a.c.monotype=function(t,e){return new X(e,t)},rt.a.c.typekit=function(t,e){return new et(e,t)},rt.a.c.google=function(t,e){return new J(e,t)};var it={load:n(rt.load,rt)};"function"==typeof define&&define.amd?define(function(){return it}):"undefined"!=typeof module&&module.exports?module.exports=it:(window.WebFont=it,window.WebFontConfig&&rt.load(window.WebFontConfig))}();const animate_css='\n@charset "UTF-8";/*!\n * animate.css - https://animate.style/\n * Version - 4.1.1\n * Licensed under the MIT license - http://opensource.org/licenses/MIT\n *\n * Copyright (c) 2020 Animate.css\n */:root{--animate-duration:1s;--animate-delay:1s;--animate-repeat:1}.animate__animated{-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-duration:var(--animate-duration);animation-duration:var(--animate-duration);-webkit-animation-fill-mode:both;animation-fill-mode:both}.animate__animated.animate__infinite{-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.animate__animated.animate__repeat-1{-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-iteration-count:var(--animate-repeat);animation-iteration-count:var(--animate-repeat)}.animate__animated.animate__repeat-2{-webkit-animation-iteration-count:2;animation-iteration-count:2;-webkit-animation-iteration-count:calc(var(--animate-repeat)*2);animation-iteration-count:calc(var(--animate-repeat)*2)}.animate__animated.animate__repeat-3{-webkit-animation-iteration-count:3;animation-iteration-count:3;-webkit-animation-iteration-count:calc(var(--animate-repeat)*3);animation-iteration-count:calc(var(--animate-repeat)*3)}.animate__animated.animate__delay-1s{-webkit-animation-delay:1s;animation-delay:1s;-webkit-animation-delay:var(--animate-delay);animation-delay:var(--animate-delay)}.animate__animated.animate__delay-2s{-webkit-animation-delay:2s;animation-delay:2s;-webkit-animation-delay:calc(var(--animate-delay)*2);animation-delay:calc(var(--animate-delay)*2)}.animate__animated.animate__delay-3s{-webkit-animation-delay:3s;animation-delay:3s;-webkit-animation-delay:calc(var(--animate-delay)*3);animation-delay:calc(var(--animate-delay)*3)}.animate__animated.animate__delay-4s{-webkit-animation-delay:4s;animation-delay:4s;-webkit-animation-delay:calc(var(--animate-delay)*4);animation-delay:calc(var(--animate-delay)*4)}.animate__animated.animate__delay-5s{-webkit-animation-delay:5s;animation-delay:5s;-webkit-animation-delay:calc(var(--animate-delay)*5);animation-delay:calc(var(--animate-delay)*5)}.animate__animated.animate__faster{-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-duration:calc(var(--animate-duration)/2);animation-duration:calc(var(--animate-duration)/2)}.animate__animated.animate__fast{-webkit-animation-duration:.8s;animation-duration:.8s;-webkit-animation-duration:calc(var(--animate-duration)*0.8);animation-duration:calc(var(--animate-duration)*0.8)}.animate__animated.animate__slow{-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-duration:calc(var(--animate-duration)*2);animation-duration:calc(var(--animate-duration)*2)}.animate__animated.animate__slower{-webkit-animation-duration:3s;animation-duration:3s;-webkit-animation-duration:calc(var(--animate-duration)*3);animation-duration:calc(var(--animate-duration)*3)}@media (prefers-reduced-motion:reduce),print{.animate__animated{-webkit-animation-duration:1ms!important;animation-duration:1ms!important;-webkit-transition-duration:1ms!important;transition-duration:1ms!important;-webkit-animation-iteration-count:1!important;animation-iteration-count:1!important}.animate__animated[class*=Out]{opacity:0}}@-webkit-keyframes bounce{0%,20%,53%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1);-webkit-transform:translateZ(0);transform:translateZ(0)}40%,43%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);-webkit-transform:translate3d(0,-30px,0) scaleY(1.1);transform:translate3d(0,-30px,0) scaleY(1.1)}70%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);-webkit-transform:translate3d(0,-15px,0) scaleY(1.05);transform:translate3d(0,-15px,0) scaleY(1.05)}80%{-webkit-transition-timing-function:cubic-bezier(.215,.61,.355,1);transition-timing-function:cubic-bezier(.215,.61,.355,1);-webkit-transform:translateZ(0) scaleY(.95);transform:translateZ(0) scaleY(.95)}90%{-webkit-transform:translate3d(0,-4px,0) scaleY(1.02);transform:translate3d(0,-4px,0) scaleY(1.02)}}@keyframes bounce{0%,20%,53%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1);-webkit-transform:translateZ(0);transform:translateZ(0)}40%,43%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);-webkit-transform:translate3d(0,-30px,0) scaleY(1.1);transform:translate3d(0,-30px,0) scaleY(1.1)}70%{-webkit-animation-timing-function:cubic-bezier(.755,.05,.855,.06);animation-timing-function:cubic-bezier(.755,.05,.855,.06);-webkit-transform:translate3d(0,-15px,0) scaleY(1.05);transform:translate3d(0,-15px,0) scaleY(1.05)}80%{-webkit-transition-timing-function:cubic-bezier(.215,.61,.355,1);transition-timing-function:cubic-bezier(.215,.61,.355,1);-webkit-transform:translateZ(0) scaleY(.95);transform:translateZ(0) scaleY(.95)}90%{-webkit-transform:translate3d(0,-4px,0) scaleY(1.02);transform:translate3d(0,-4px,0) scaleY(1.02)}}.animate__bounce{-webkit-animation-name:bounce;animation-name:bounce;-webkit-transform-origin:center bottom;transform-origin:center bottom}@-webkit-keyframes flash{0%,50%,to{opacity:1}25%,75%{opacity:0}}@keyframes flash{0%,50%,to{opacity:1}25%,75%{opacity:0}}.animate__flash{-webkit-animation-name:flash;animation-name:flash}@-webkit-keyframes pulse{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}50%{-webkit-transform:scale3d(1.05,1.05,1.05);transform:scale3d(1.05,1.05,1.05)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes pulse{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}50%{-webkit-transform:scale3d(1.05,1.05,1.05);transform:scale3d(1.05,1.05,1.05)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.animate__pulse{-webkit-animation-name:pulse;animation-name:pulse;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}@-webkit-keyframes rubberBand{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}30%{-webkit-transform:scale3d(1.25,.75,1);transform:scale3d(1.25,.75,1)}40%{-webkit-transform:scale3d(.75,1.25,1);transform:scale3d(.75,1.25,1)}50%{-webkit-transform:scale3d(1.15,.85,1);transform:scale3d(1.15,.85,1)}65%{-webkit-transform:scale3d(.95,1.05,1);transform:scale3d(.95,1.05,1)}75%{-webkit-transform:scale3d(1.05,.95,1);transform:scale3d(1.05,.95,1)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes rubberBand{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}30%{-webkit-transform:scale3d(1.25,.75,1);transform:scale3d(1.25,.75,1)}40%{-webkit-transform:scale3d(.75,1.25,1);transform:scale3d(.75,1.25,1)}50%{-webkit-transform:scale3d(1.15,.85,1);transform:scale3d(1.15,.85,1)}65%{-webkit-transform:scale3d(.95,1.05,1);transform:scale3d(.95,1.05,1)}75%{-webkit-transform:scale3d(1.05,.95,1);transform:scale3d(1.05,.95,1)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.animate__rubberBand{-webkit-animation-name:rubberBand;animation-name:rubberBand}@-webkit-keyframes shakeX{0%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}10%,30%,50%,70%,90%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}20%,40%,60%,80%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}}@keyframes shakeX{0%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}10%,30%,50%,70%,90%{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}20%,40%,60%,80%{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}}.animate__shakeX{-webkit-animation-name:shakeX;animation-name:shakeX}@-webkit-keyframes shakeY{0%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}10%,30%,50%,70%,90%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}20%,40%,60%,80%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}}@keyframes shakeY{0%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}10%,30%,50%,70%,90%{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}20%,40%,60%,80%{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}}.animate__shakeY{-webkit-animation-name:shakeY;animation-name:shakeY}@-webkit-keyframes headShake{0%{-webkit-transform:translateX(0);transform:translateX(0)}6.5%{-webkit-transform:translateX(-6px) rotateY(-9deg);transform:translateX(-6px) rotateY(-9deg)}18.5%{-webkit-transform:translateX(5px) rotateY(7deg);transform:translateX(5px) rotateY(7deg)}31.5%{-webkit-transform:translateX(-3px) rotateY(-5deg);transform:translateX(-3px) rotateY(-5deg)}43.5%{-webkit-transform:translateX(2px) rotateY(3deg);transform:translateX(2px) rotateY(3deg)}50%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes headShake{0%{-webkit-transform:translateX(0);transform:translateX(0)}6.5%{-webkit-transform:translateX(-6px) rotateY(-9deg);transform:translateX(-6px) rotateY(-9deg)}18.5%{-webkit-transform:translateX(5px) rotateY(7deg);transform:translateX(5px) rotateY(7deg)}31.5%{-webkit-transform:translateX(-3px) rotateY(-5deg);transform:translateX(-3px) rotateY(-5deg)}43.5%{-webkit-transform:translateX(2px) rotateY(3deg);transform:translateX(2px) rotateY(3deg)}50%{-webkit-transform:translateX(0);transform:translateX(0)}}.animate__headShake{-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;-webkit-animation-name:headShake;animation-name:headShake}@-webkit-keyframes swing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@keyframes swing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}.animate__swing{-webkit-transform-origin:top center;transform-origin:top center;-webkit-animation-name:swing;animation-name:swing}@-webkit-keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.9,.9,.9) rotate(-3deg);transform:scale3d(.9,.9,.9) rotate(-3deg)}30%,50%,70%,90%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(3deg);transform:scale3d(1.1,1.1,1.1) rotate(3deg)}40%,60%,80%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(-3deg);transform:scale3d(1.1,1.1,1.1) rotate(-3deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.9,.9,.9) rotate(-3deg);transform:scale3d(.9,.9,.9) rotate(-3deg)}30%,50%,70%,90%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(3deg);transform:scale3d(1.1,1.1,1.1) rotate(3deg)}40%,60%,80%{-webkit-transform:scale3d(1.1,1.1,1.1) rotate(-3deg);transform:scale3d(1.1,1.1,1.1) rotate(-3deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.animate__tada{-webkit-animation-name:tada;animation-name:tada}@-webkit-keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-25%,0,0) rotate(-5deg);transform:translate3d(-25%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(20%,0,0) rotate(3deg);transform:translate3d(20%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-15%,0,0) rotate(-3deg);transform:translate3d(-15%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(10%,0,0) rotate(2deg);transform:translate3d(10%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-5%,0,0) rotate(-1deg);transform:translate3d(-5%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-25%,0,0) rotate(-5deg);transform:translate3d(-25%,0,0) rotate(-5deg)}30%{-webkit-transform:translate3d(20%,0,0) rotate(3deg);transform:translate3d(20%,0,0) rotate(3deg)}45%{-webkit-transform:translate3d(-15%,0,0) rotate(-3deg);transform:translate3d(-15%,0,0) rotate(-3deg)}60%{-webkit-transform:translate3d(10%,0,0) rotate(2deg);transform:translate3d(10%,0,0) rotate(2deg)}75%{-webkit-transform:translate3d(-5%,0,0) rotate(-1deg);transform:translate3d(-5%,0,0) rotate(-1deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__wobble{-webkit-animation-name:wobble;animation-name:wobble}@-webkit-keyframes jello{0%,11.1%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}22.2%{-webkit-transform:skewX(-12.5deg) skewY(-12.5deg);transform:skewX(-12.5deg) skewY(-12.5deg)}33.3%{-webkit-transform:skewX(6.25deg) skewY(6.25deg);transform:skewX(6.25deg) skewY(6.25deg)}44.4%{-webkit-transform:skewX(-3.125deg) skewY(-3.125deg);transform:skewX(-3.125deg) skewY(-3.125deg)}55.5%{-webkit-transform:skewX(1.5625deg) skewY(1.5625deg);transform:skewX(1.5625deg) skewY(1.5625deg)}66.6%{-webkit-transform:skewX(-.78125deg) skewY(-.78125deg);transform:skewX(-.78125deg) skewY(-.78125deg)}77.7%{-webkit-transform:skewX(.390625deg) skewY(.390625deg);transform:skewX(.390625deg) skewY(.390625deg)}88.8%{-webkit-transform:skewX(-.1953125deg) skewY(-.1953125deg);transform:skewX(-.1953125deg) skewY(-.1953125deg)}}@keyframes jello{0%,11.1%,to{-webkit-transform:translateZ(0);transform:translateZ(0)}22.2%{-webkit-transform:skewX(-12.5deg) skewY(-12.5deg);transform:skewX(-12.5deg) skewY(-12.5deg)}33.3%{-webkit-transform:skewX(6.25deg) skewY(6.25deg);transform:skewX(6.25deg) skewY(6.25deg)}44.4%{-webkit-transform:skewX(-3.125deg) skewY(-3.125deg);transform:skewX(-3.125deg) skewY(-3.125deg)}55.5%{-webkit-transform:skewX(1.5625deg) skewY(1.5625deg);transform:skewX(1.5625deg) skewY(1.5625deg)}66.6%{-webkit-transform:skewX(-.78125deg) skewY(-.78125deg);transform:skewX(-.78125deg) skewY(-.78125deg)}77.7%{-webkit-transform:skewX(.390625deg) skewY(.390625deg);transform:skewX(.390625deg) skewY(.390625deg)}88.8%{-webkit-transform:skewX(-.1953125deg) skewY(-.1953125deg);transform:skewX(-.1953125deg) skewY(-.1953125deg)}}.animate__jello{-webkit-animation-name:jello;animation-name:jello;-webkit-transform-origin:center;transform-origin:center}@-webkit-keyframes heartBeat{0%{-webkit-transform:scale(1);transform:scale(1)}14%{-webkit-transform:scale(1.3);transform:scale(1.3)}28%{-webkit-transform:scale(1);transform:scale(1)}42%{-webkit-transform:scale(1.3);transform:scale(1.3)}70%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes heartBeat{0%{-webkit-transform:scale(1);transform:scale(1)}14%{-webkit-transform:scale(1.3);transform:scale(1.3)}28%{-webkit-transform:scale(1);transform:scale(1)}42%{-webkit-transform:scale(1.3);transform:scale(1.3)}70%{-webkit-transform:scale(1);transform:scale(1)}}.animate__heartBeat{-webkit-animation-name:heartBeat;animation-name:heartBeat;-webkit-animation-duration:1.3s;animation-duration:1.3s;-webkit-animation-duration:calc(var(--animate-duration)*1.3);animation-duration:calc(var(--animate-duration)*1.3);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}@-webkit-keyframes backInDown{0%{-webkit-transform:translateY(-1200px) scale(.7);transform:translateY(-1200px) scale(.7);opacity:.7}80%{-webkit-transform:translateY(0) scale(.7);transform:translateY(0) scale(.7);opacity:.7}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes backInDown{0%{-webkit-transform:translateY(-1200px) scale(.7);transform:translateY(-1200px) scale(.7);opacity:.7}80%{-webkit-transform:translateY(0) scale(.7);transform:translateY(0) scale(.7);opacity:.7}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}.animate__backInDown{-webkit-animation-name:backInDown;animation-name:backInDown}@-webkit-keyframes backInLeft{0%{-webkit-transform:translateX(-2000px) scale(.7);transform:translateX(-2000px) scale(.7);opacity:.7}80%{-webkit-transform:translateX(0) scale(.7);transform:translateX(0) scale(.7);opacity:.7}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes backInLeft{0%{-webkit-transform:translateX(-2000px) scale(.7);transform:translateX(-2000px) scale(.7);opacity:.7}80%{-webkit-transform:translateX(0) scale(.7);transform:translateX(0) scale(.7);opacity:.7}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}.animate__backInLeft{-webkit-animation-name:backInLeft;animation-name:backInLeft}@-webkit-keyframes backInRight{0%{-webkit-transform:translateX(2000px) scale(.7);transform:translateX(2000px) scale(.7);opacity:.7}80%{-webkit-transform:translateX(0) scale(.7);transform:translateX(0) scale(.7);opacity:.7}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes backInRight{0%{-webkit-transform:translateX(2000px) scale(.7);transform:translateX(2000px) scale(.7);opacity:.7}80%{-webkit-transform:translateX(0) scale(.7);transform:translateX(0) scale(.7);opacity:.7}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}.animate__backInRight{-webkit-animation-name:backInRight;animation-name:backInRight}@-webkit-keyframes backInUp{0%{-webkit-transform:translateY(1200px) scale(.7);transform:translateY(1200px) scale(.7);opacity:.7}80%{-webkit-transform:translateY(0) scale(.7);transform:translateY(0) scale(.7);opacity:.7}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes backInUp{0%{-webkit-transform:translateY(1200px) scale(.7);transform:translateY(1200px) scale(.7);opacity:.7}80%{-webkit-transform:translateY(0) scale(.7);transform:translateY(0) scale(.7);opacity:.7}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}.animate__backInUp{-webkit-animation-name:backInUp;animation-name:backInUp}@-webkit-keyframes backOutDown{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}20%{-webkit-transform:translateY(0) scale(.7);transform:translateY(0) scale(.7);opacity:.7}to{-webkit-transform:translateY(700px) scale(.7);transform:translateY(700px) scale(.7);opacity:.7}}@keyframes backOutDown{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}20%{-webkit-transform:translateY(0) scale(.7);transform:translateY(0) scale(.7);opacity:.7}to{-webkit-transform:translateY(700px) scale(.7);transform:translateY(700px) scale(.7);opacity:.7}}.animate__backOutDown{-webkit-animation-name:backOutDown;animation-name:backOutDown}@-webkit-keyframes backOutLeft{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}20%{-webkit-transform:translateX(0) scale(.7);transform:translateX(0) scale(.7);opacity:.7}to{-webkit-transform:translateX(-2000px) scale(.7);transform:translateX(-2000px) scale(.7);opacity:.7}}@keyframes backOutLeft{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}20%{-webkit-transform:translateX(0) scale(.7);transform:translateX(0) scale(.7);opacity:.7}to{-webkit-transform:translateX(-2000px) scale(.7);transform:translateX(-2000px) scale(.7);opacity:.7}}.animate__backOutLeft{-webkit-animation-name:backOutLeft;animation-name:backOutLeft}@-webkit-keyframes backOutRight{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}20%{-webkit-transform:translateX(0) scale(.7);transform:translateX(0) scale(.7);opacity:.7}to{-webkit-transform:translateX(2000px) scale(.7);transform:translateX(2000px) scale(.7);opacity:.7}}@keyframes backOutRight{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}20%{-webkit-transform:translateX(0) scale(.7);transform:translateX(0) scale(.7);opacity:.7}to{-webkit-transform:translateX(2000px) scale(.7);transform:translateX(2000px) scale(.7);opacity:.7}}.animate__backOutRight{-webkit-animation-name:backOutRight;animation-name:backOutRight}@-webkit-keyframes backOutUp{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}20%{-webkit-transform:translateY(0) scale(.7);transform:translateY(0) scale(.7);opacity:.7}to{-webkit-transform:translateY(-700px) scale(.7);transform:translateY(-700px) scale(.7);opacity:.7}}@keyframes backOutUp{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}20%{-webkit-transform:translateY(0) scale(.7);transform:translateY(0) scale(.7);opacity:.7}to{-webkit-transform:translateY(-700px) scale(.7);transform:translateY(-700px) scale(.7);opacity:.7}}.animate__backOutUp{-webkit-animation-name:backOutUp;animation-name:backOutUp}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}20%{-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}40%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}60%{opacity:1;-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}80%{-webkit-transform:scale3d(.97,.97,.97);transform:scale3d(.97,.97,.97)}to{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}20%{-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}40%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}60%{opacity:1;-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}80%{-webkit-transform:scale3d(.97,.97,.97);transform:scale3d(.97,.97,.97)}to{opacity:1;-webkit-transform:scaleX(1);transform:scaleX(1)}}.animate__bounceIn{-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-duration:calc(var(--animate-duration)*0.75);animation-duration:calc(var(--animate-duration)*0.75);-webkit-animation-name:bounceIn;animation-name:bounceIn}@-webkit-keyframes bounceInDown{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,-3000px,0) scaleY(3);transform:translate3d(0,-3000px,0) scaleY(3)}60%{opacity:1;-webkit-transform:translate3d(0,25px,0) scaleY(.9);transform:translate3d(0,25px,0) scaleY(.9)}75%{-webkit-transform:translate3d(0,-10px,0) scaleY(.95);transform:translate3d(0,-10px,0) scaleY(.95)}90%{-webkit-transform:translate3d(0,5px,0) scaleY(.985);transform:translate3d(0,5px,0) scaleY(.985)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes bounceInDown{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,-3000px,0) scaleY(3);transform:translate3d(0,-3000px,0) scaleY(3)}60%{opacity:1;-webkit-transform:translate3d(0,25px,0) scaleY(.9);transform:translate3d(0,25px,0) scaleY(.9)}75%{-webkit-transform:translate3d(0,-10px,0) scaleY(.95);transform:translate3d(0,-10px,0) scaleY(.95)}90%{-webkit-transform:translate3d(0,5px,0) scaleY(.985);transform:translate3d(0,5px,0) scaleY(.985)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__bounceInDown{-webkit-animation-name:bounceInDown;animation-name:bounceInDown}@-webkit-keyframes bounceInLeft{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(-3000px,0,0) scaleX(3);transform:translate3d(-3000px,0,0) scaleX(3)}60%{opacity:1;-webkit-transform:translate3d(25px,0,0) scaleX(1);transform:translate3d(25px,0,0) scaleX(1)}75%{-webkit-transform:translate3d(-10px,0,0) scaleX(.98);transform:translate3d(-10px,0,0) scaleX(.98)}90%{-webkit-transform:translate3d(5px,0,0) scaleX(.995);transform:translate3d(5px,0,0) scaleX(.995)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes bounceInLeft{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(-3000px,0,0) scaleX(3);transform:translate3d(-3000px,0,0) scaleX(3)}60%{opacity:1;-webkit-transform:translate3d(25px,0,0) scaleX(1);transform:translate3d(25px,0,0) scaleX(1)}75%{-webkit-transform:translate3d(-10px,0,0) scaleX(.98);transform:translate3d(-10px,0,0) scaleX(.98)}90%{-webkit-transform:translate3d(5px,0,0) scaleX(.995);transform:translate3d(5px,0,0) scaleX(.995)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__bounceInLeft{-webkit-animation-name:bounceInLeft;animation-name:bounceInLeft}@-webkit-keyframes bounceInRight{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(3000px,0,0) scaleX(3);transform:translate3d(3000px,0,0) scaleX(3)}60%{opacity:1;-webkit-transform:translate3d(-25px,0,0) scaleX(1);transform:translate3d(-25px,0,0) scaleX(1)}75%{-webkit-transform:translate3d(10px,0,0) scaleX(.98);transform:translate3d(10px,0,0) scaleX(.98)}90%{-webkit-transform:translate3d(-5px,0,0) scaleX(.995);transform:translate3d(-5px,0,0) scaleX(.995)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes bounceInRight{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(3000px,0,0) scaleX(3);transform:translate3d(3000px,0,0) scaleX(3)}60%{opacity:1;-webkit-transform:translate3d(-25px,0,0) scaleX(1);transform:translate3d(-25px,0,0) scaleX(1)}75%{-webkit-transform:translate3d(10px,0,0) scaleX(.98);transform:translate3d(10px,0,0) scaleX(.98)}90%{-webkit-transform:translate3d(-5px,0,0) scaleX(.995);transform:translate3d(-5px,0,0) scaleX(.995)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__bounceInRight{-webkit-animation-name:bounceInRight;animation-name:bounceInRight}@-webkit-keyframes bounceInUp{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,3000px,0) scaleY(5);transform:translate3d(0,3000px,0) scaleY(5)}60%{opacity:1;-webkit-transform:translate3d(0,-20px,0) scaleY(.9);transform:translate3d(0,-20px,0) scaleY(.9)}75%{-webkit-transform:translate3d(0,10px,0) scaleY(.95);transform:translate3d(0,10px,0) scaleY(.95)}90%{-webkit-transform:translate3d(0,-5px,0) scaleY(.985);transform:translate3d(0,-5px,0) scaleY(.985)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes bounceInUp{0%,60%,75%,90%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;-webkit-transform:translate3d(0,3000px,0) scaleY(5);transform:translate3d(0,3000px,0) scaleY(5)}60%{opacity:1;-webkit-transform:translate3d(0,-20px,0) scaleY(.9);transform:translate3d(0,-20px,0) scaleY(.9)}75%{-webkit-transform:translate3d(0,10px,0) scaleY(.95);transform:translate3d(0,10px,0) scaleY(.95)}90%{-webkit-transform:translate3d(0,-5px,0) scaleY(.985);transform:translate3d(0,-5px,0) scaleY(.985)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__bounceInUp{-webkit-animation-name:bounceInUp;animation-name:bounceInUp}@-webkit-keyframes bounceOut{20%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}50%,55%{opacity:1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}to{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}}@keyframes bounceOut{20%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}50%,55%{opacity:1;-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1)}to{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}}.animate__bounceOut{-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-duration:calc(var(--animate-duration)*0.75);animation-duration:calc(var(--animate-duration)*0.75);-webkit-animation-name:bounceOut;animation-name:bounceOut}@-webkit-keyframes bounceOutDown{20%{-webkit-transform:translate3d(0,10px,0) scaleY(.985);transform:translate3d(0,10px,0) scaleY(.985)}40%,45%{opacity:1;-webkit-transform:translate3d(0,-20px,0) scaleY(.9);transform:translate3d(0,-20px,0) scaleY(.9)}to{opacity:0;-webkit-transform:translate3d(0,2000px,0) scaleY(3);transform:translate3d(0,2000px,0) scaleY(3)}}@keyframes bounceOutDown{20%{-webkit-transform:translate3d(0,10px,0) scaleY(.985);transform:translate3d(0,10px,0) scaleY(.985)}40%,45%{opacity:1;-webkit-transform:translate3d(0,-20px,0) scaleY(.9);transform:translate3d(0,-20px,0) scaleY(.9)}to{opacity:0;-webkit-transform:translate3d(0,2000px,0) scaleY(3);transform:translate3d(0,2000px,0) scaleY(3)}}.animate__bounceOutDown{-webkit-animation-name:bounceOutDown;animation-name:bounceOutDown}@-webkit-keyframes bounceOutLeft{20%{opacity:1;-webkit-transform:translate3d(20px,0,0) scaleX(.9);transform:translate3d(20px,0,0) scaleX(.9)}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0) scaleX(2);transform:translate3d(-2000px,0,0) scaleX(2)}}@keyframes bounceOutLeft{20%{opacity:1;-webkit-transform:translate3d(20px,0,0) scaleX(.9);transform:translate3d(20px,0,0) scaleX(.9)}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0) scaleX(2);transform:translate3d(-2000px,0,0) scaleX(2)}}.animate__bounceOutLeft{-webkit-animation-name:bounceOutLeft;animation-name:bounceOutLeft}@-webkit-keyframes bounceOutRight{20%{opacity:1;-webkit-transform:translate3d(-20px,0,0) scaleX(.9);transform:translate3d(-20px,0,0) scaleX(.9)}to{opacity:0;-webkit-transform:translate3d(2000px,0,0) scaleX(2);transform:translate3d(2000px,0,0) scaleX(2)}}@keyframes bounceOutRight{20%{opacity:1;-webkit-transform:translate3d(-20px,0,0) scaleX(.9);transform:translate3d(-20px,0,0) scaleX(.9)}to{opacity:0;-webkit-transform:translate3d(2000px,0,0) scaleX(2);transform:translate3d(2000px,0,0) scaleX(2)}}.animate__bounceOutRight{-webkit-animation-name:bounceOutRight;animation-name:bounceOutRight}@-webkit-keyframes bounceOutUp{20%{-webkit-transform:translate3d(0,-10px,0) scaleY(.985);transform:translate3d(0,-10px,0) scaleY(.985)}40%,45%{opacity:1;-webkit-transform:translate3d(0,20px,0) scaleY(.9);transform:translate3d(0,20px,0) scaleY(.9)}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0) scaleY(3);transform:translate3d(0,-2000px,0) scaleY(3)}}@keyframes bounceOutUp{20%{-webkit-transform:translate3d(0,-10px,0) scaleY(.985);transform:translate3d(0,-10px,0) scaleY(.985)}40%,45%{opacity:1;-webkit-transform:translate3d(0,20px,0) scaleY(.9);transform:translate3d(0,20px,0) scaleY(.9)}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0) scaleY(3);transform:translate3d(0,-2000px,0) scaleY(3)}}.animate__bounceOutUp{-webkit-animation-name:bounceOutUp;animation-name:bounceOutUp}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.animate__fadeIn{-webkit-animation-name:fadeIn;animation-name:fadeIn}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__fadeInDown{-webkit-animation-name:fadeInDown;animation-name:fadeInDown}@-webkit-keyframes fadeInDownBig{0%{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInDownBig{0%{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__fadeInDownBig{-webkit-animation-name:fadeInDownBig;animation-name:fadeInDownBig}@-webkit-keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__fadeInLeft{-webkit-animation-name:fadeInLeft;animation-name:fadeInLeft}@-webkit-keyframes fadeInLeftBig{0%{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInLeftBig{0%{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__fadeInLeftBig{-webkit-animation-name:fadeInLeftBig;animation-name:fadeInLeftBig}@-webkit-keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInRight{0%{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__fadeInRight{-webkit-animation-name:fadeInRight;animation-name:fadeInRight}@-webkit-keyframes fadeInRightBig{0%{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInRightBig{0%{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__fadeInRightBig{-webkit-animation-name:fadeInRightBig;animation-name:fadeInRightBig}@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__fadeInUp{-webkit-animation-name:fadeInUp;animation-name:fadeInUp}@-webkit-keyframes fadeInUpBig{0%{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInUpBig{0%{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__fadeInUpBig{-webkit-animation-name:fadeInUpBig;animation-name:fadeInUpBig}@-webkit-keyframes fadeInTopLeft{0%{opacity:0;-webkit-transform:translate3d(-100%,-100%,0);transform:translate3d(-100%,-100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInTopLeft{0%{opacity:0;-webkit-transform:translate3d(-100%,-100%,0);transform:translate3d(-100%,-100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__fadeInTopLeft{-webkit-animation-name:fadeInTopLeft;animation-name:fadeInTopLeft}@-webkit-keyframes fadeInTopRight{0%{opacity:0;-webkit-transform:translate3d(100%,-100%,0);transform:translate3d(100%,-100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInTopRight{0%{opacity:0;-webkit-transform:translate3d(100%,-100%,0);transform:translate3d(100%,-100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__fadeInTopRight{-webkit-animation-name:fadeInTopRight;animation-name:fadeInTopRight}@-webkit-keyframes fadeInBottomLeft{0%{opacity:0;-webkit-transform:translate3d(-100%,100%,0);transform:translate3d(-100%,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInBottomLeft{0%{opacity:0;-webkit-transform:translate3d(-100%,100%,0);transform:translate3d(-100%,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__fadeInBottomLeft{-webkit-animation-name:fadeInBottomLeft;animation-name:fadeInBottomLeft}@-webkit-keyframes fadeInBottomRight{0%{opacity:0;-webkit-transform:translate3d(100%,100%,0);transform:translate3d(100%,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInBottomRight{0%{opacity:0;-webkit-transform:translate3d(100%,100%,0);transform:translate3d(100%,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__fadeInBottomRight{-webkit-animation-name:fadeInBottomRight;animation-name:fadeInBottomRight}@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.animate__fadeOut{-webkit-animation-name:fadeOut;animation-name:fadeOut}@-webkit-keyframes fadeOutDown{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@keyframes fadeOutDown{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}.animate__fadeOutDown{-webkit-animation-name:fadeOutDown;animation-name:fadeOutDown}@-webkit-keyframes fadeOutDownBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}@keyframes fadeOutDownBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,2000px,0);transform:translate3d(0,2000px,0)}}.animate__fadeOutDownBig{-webkit-animation-name:fadeOutDownBig;animation-name:fadeOutDownBig}@-webkit-keyframes fadeOutLeft{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}@keyframes fadeOutLeft{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}.animate__fadeOutLeft{-webkit-animation-name:fadeOutLeft;animation-name:fadeOutLeft}@-webkit-keyframes fadeOutLeftBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}@keyframes fadeOutLeftBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(-2000px,0,0);transform:translate3d(-2000px,0,0)}}.animate__fadeOutLeftBig{-webkit-animation-name:fadeOutLeftBig;animation-name:fadeOutLeftBig}@-webkit-keyframes fadeOutRight{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}@keyframes fadeOutRight{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}.animate__fadeOutRight{-webkit-animation-name:fadeOutRight;animation-name:fadeOutRight}@-webkit-keyframes fadeOutRightBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}@keyframes fadeOutRightBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(2000px,0,0);transform:translate3d(2000px,0,0)}}.animate__fadeOutRightBig{-webkit-animation-name:fadeOutRightBig;animation-name:fadeOutRightBig}@-webkit-keyframes fadeOutUp{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}@keyframes fadeOutUp{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}.animate__fadeOutUp{-webkit-animation-name:fadeOutUp;animation-name:fadeOutUp}@-webkit-keyframes fadeOutUpBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}@keyframes fadeOutUpBig{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(0,-2000px,0);transform:translate3d(0,-2000px,0)}}.animate__fadeOutUpBig{-webkit-animation-name:fadeOutUpBig;animation-name:fadeOutUpBig}@-webkit-keyframes fadeOutTopLeft{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(-100%,-100%,0);transform:translate3d(-100%,-100%,0)}}@keyframes fadeOutTopLeft{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(-100%,-100%,0);transform:translate3d(-100%,-100%,0)}}.animate__fadeOutTopLeft{-webkit-animation-name:fadeOutTopLeft;animation-name:fadeOutTopLeft}@-webkit-keyframes fadeOutTopRight{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(100%,-100%,0);transform:translate3d(100%,-100%,0)}}@keyframes fadeOutTopRight{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(100%,-100%,0);transform:translate3d(100%,-100%,0)}}.animate__fadeOutTopRight{-webkit-animation-name:fadeOutTopRight;animation-name:fadeOutTopRight}@-webkit-keyframes fadeOutBottomRight{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(100%,100%,0);transform:translate3d(100%,100%,0)}}@keyframes fadeOutBottomRight{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(100%,100%,0);transform:translate3d(100%,100%,0)}}.animate__fadeOutBottomRight{-webkit-animation-name:fadeOutBottomRight;animation-name:fadeOutBottomRight}@-webkit-keyframes fadeOutBottomLeft{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(-100%,100%,0);transform:translate3d(-100%,100%,0)}}@keyframes fadeOutBottomLeft{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(-100%,100%,0);transform:translate3d(-100%,100%,0)}}.animate__fadeOutBottomLeft{-webkit-animation-name:fadeOutBottomLeft;animation-name:fadeOutBottomLeft}@-webkit-keyframes flip{0%{-webkit-transform:perspective(400px) scaleX(1) translateZ(0) rotateY(-1turn);transform:perspective(400px) scaleX(1) translateZ(0) rotateY(-1turn);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}40%{-webkit-transform:perspective(400px) scaleX(1) translateZ(150px) rotateY(-190deg);transform:perspective(400px) scaleX(1) translateZ(150px) rotateY(-190deg);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}50%{-webkit-transform:perspective(400px) scaleX(1) translateZ(150px) rotateY(-170deg);transform:perspective(400px) scaleX(1) translateZ(150px) rotateY(-170deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}80%{-webkit-transform:perspective(400px) scale3d(.95,.95,.95) translateZ(0) rotateY(0deg);transform:perspective(400px) scale3d(.95,.95,.95) translateZ(0) rotateY(0deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}to{-webkit-transform:perspective(400px) scaleX(1) translateZ(0) rotateY(0deg);transform:perspective(400px) scaleX(1) translateZ(0) rotateY(0deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}@keyframes flip{0%{-webkit-transform:perspective(400px) scaleX(1) translateZ(0) rotateY(-1turn);transform:perspective(400px) scaleX(1) translateZ(0) rotateY(-1turn);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}40%{-webkit-transform:perspective(400px) scaleX(1) translateZ(150px) rotateY(-190deg);transform:perspective(400px) scaleX(1) translateZ(150px) rotateY(-190deg);-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}50%{-webkit-transform:perspective(400px) scaleX(1) translateZ(150px) rotateY(-170deg);transform:perspective(400px) scaleX(1) translateZ(150px) rotateY(-170deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}80%{-webkit-transform:perspective(400px) scale3d(.95,.95,.95) translateZ(0) rotateY(0deg);transform:perspective(400px) scale3d(.95,.95,.95) translateZ(0) rotateY(0deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}to{-webkit-transform:perspective(400px) scaleX(1) translateZ(0) rotateY(0deg);transform:perspective(400px) scaleX(1) translateZ(0) rotateY(0deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}.animate__animated.animate__flip{-webkit-backface-visibility:visible;backface-visibility:visible;-webkit-animation-name:flip;animation-name:flip}@-webkit-keyframes flipInX{0%{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotateX(10deg);transform:perspective(400px) rotateX(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateX(-5deg);transform:perspective(400px) rotateX(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}@keyframes flipInX{0%{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotateX(10deg);transform:perspective(400px) rotateX(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateX(-5deg);transform:perspective(400px) rotateX(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}.animate__flipInX{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipInX;animation-name:flipInX}@-webkit-keyframes flipInY{0%{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotateY(-20deg);transform:perspective(400px) rotateY(-20deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotateY(10deg);transform:perspective(400px) rotateY(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateY(-5deg);transform:perspective(400px) rotateY(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}@keyframes flipInY{0%{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;opacity:0}40%{-webkit-transform:perspective(400px) rotateY(-20deg);transform:perspective(400px) rotateY(-20deg);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}60%{-webkit-transform:perspective(400px) rotateY(10deg);transform:perspective(400px) rotateY(10deg);opacity:1}80%{-webkit-transform:perspective(400px) rotateY(-5deg);transform:perspective(400px) rotateY(-5deg)}to{-webkit-transform:perspective(400px);transform:perspective(400px)}}.animate__flipInY{-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipInY;animation-name:flipInY}@-webkit-keyframes flipOutX{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);opacity:1}to{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);opacity:0}}@keyframes flipOutX{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateX(-20deg);transform:perspective(400px) rotateX(-20deg);opacity:1}to{-webkit-transform:perspective(400px) rotateX(90deg);transform:perspective(400px) rotateX(90deg);opacity:0}}.animate__flipOutX{-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-duration:calc(var(--animate-duration)*0.75);animation-duration:calc(var(--animate-duration)*0.75);-webkit-animation-name:flipOutX;animation-name:flipOutX;-webkit-backface-visibility:visible!important;backface-visibility:visible!important}@-webkit-keyframes flipOutY{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateY(-15deg);transform:perspective(400px) rotateY(-15deg);opacity:1}to{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);opacity:0}}@keyframes flipOutY{0%{-webkit-transform:perspective(400px);transform:perspective(400px)}30%{-webkit-transform:perspective(400px) rotateY(-15deg);transform:perspective(400px) rotateY(-15deg);opacity:1}to{-webkit-transform:perspective(400px) rotateY(90deg);transform:perspective(400px) rotateY(90deg);opacity:0}}.animate__flipOutY{-webkit-animation-duration:.75s;animation-duration:.75s;-webkit-animation-duration:calc(var(--animate-duration)*0.75);animation-duration:calc(var(--animate-duration)*0.75);-webkit-backface-visibility:visible!important;backface-visibility:visible!important;-webkit-animation-name:flipOutY;animation-name:flipOutY}@-webkit-keyframes lightSpeedInRight{0%{-webkit-transform:translate3d(100%,0,0) skewX(-30deg);transform:translate3d(100%,0,0) skewX(-30deg);opacity:0}60%{-webkit-transform:skewX(20deg);transform:skewX(20deg);opacity:1}80%{-webkit-transform:skewX(-5deg);transform:skewX(-5deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes lightSpeedInRight{0%{-webkit-transform:translate3d(100%,0,0) skewX(-30deg);transform:translate3d(100%,0,0) skewX(-30deg);opacity:0}60%{-webkit-transform:skewX(20deg);transform:skewX(20deg);opacity:1}80%{-webkit-transform:skewX(-5deg);transform:skewX(-5deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__lightSpeedInRight{-webkit-animation-name:lightSpeedInRight;animation-name:lightSpeedInRight;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}@-webkit-keyframes lightSpeedInLeft{0%{-webkit-transform:translate3d(-100%,0,0) skewX(30deg);transform:translate3d(-100%,0,0) skewX(30deg);opacity:0}60%{-webkit-transform:skewX(-20deg);transform:skewX(-20deg);opacity:1}80%{-webkit-transform:skewX(5deg);transform:skewX(5deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes lightSpeedInLeft{0%{-webkit-transform:translate3d(-100%,0,0) skewX(30deg);transform:translate3d(-100%,0,0) skewX(30deg);opacity:0}60%{-webkit-transform:skewX(-20deg);transform:skewX(-20deg);opacity:1}80%{-webkit-transform:skewX(5deg);transform:skewX(5deg)}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__lightSpeedInLeft{-webkit-animation-name:lightSpeedInLeft;animation-name:lightSpeedInLeft;-webkit-animation-timing-function:ease-out;animation-timing-function:ease-out}@-webkit-keyframes lightSpeedOutRight{0%{opacity:1}to{-webkit-transform:translate3d(100%,0,0) skewX(30deg);transform:translate3d(100%,0,0) skewX(30deg);opacity:0}}@keyframes lightSpeedOutRight{0%{opacity:1}to{-webkit-transform:translate3d(100%,0,0) skewX(30deg);transform:translate3d(100%,0,0) skewX(30deg);opacity:0}}.animate__lightSpeedOutRight{-webkit-animation-name:lightSpeedOutRight;animation-name:lightSpeedOutRight;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}@-webkit-keyframes lightSpeedOutLeft{0%{opacity:1}to{-webkit-transform:translate3d(-100%,0,0) skewX(-30deg);transform:translate3d(-100%,0,0) skewX(-30deg);opacity:0}}@keyframes lightSpeedOutLeft{0%{opacity:1}to{-webkit-transform:translate3d(-100%,0,0) skewX(-30deg);transform:translate3d(-100%,0,0) skewX(-30deg);opacity:0}}.animate__lightSpeedOutLeft{-webkit-animation-name:lightSpeedOutLeft;animation-name:lightSpeedOutLeft;-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}@-webkit-keyframes rotateIn{0%{-webkit-transform:rotate(-200deg);transform:rotate(-200deg);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@keyframes rotateIn{0%{-webkit-transform:rotate(-200deg);transform:rotate(-200deg);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}.animate__rotateIn{-webkit-animation-name:rotateIn;animation-name:rotateIn;-webkit-transform-origin:center;transform-origin:center}@-webkit-keyframes rotateInDownLeft{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@keyframes rotateInDownLeft{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}.animate__rotateInDownLeft{-webkit-animation-name:rotateInDownLeft;animation-name:rotateInDownLeft;-webkit-transform-origin:left bottom;transform-origin:left bottom}@-webkit-keyframes rotateInDownRight{0%{-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@keyframes rotateInDownRight{0%{-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}.animate__rotateInDownRight{-webkit-animation-name:rotateInDownRight;animation-name:rotateInDownRight;-webkit-transform-origin:right bottom;transform-origin:right bottom}@-webkit-keyframes rotateInUpLeft{0%{-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@keyframes rotateInUpLeft{0%{-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}.animate__rotateInUpLeft{-webkit-animation-name:rotateInUpLeft;animation-name:rotateInUpLeft;-webkit-transform-origin:left bottom;transform-origin:left bottom}@-webkit-keyframes rotateInUpRight{0%{-webkit-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}@keyframes rotateInUpRight{0%{-webkit-transform:rotate(-90deg);transform:rotate(-90deg);opacity:0}to{-webkit-transform:translateZ(0);transform:translateZ(0);opacity:1}}.animate__rotateInUpRight{-webkit-animation-name:rotateInUpRight;animation-name:rotateInUpRight;-webkit-transform-origin:right bottom;transform-origin:right bottom}@-webkit-keyframes rotateOut{0%{opacity:1}to{-webkit-transform:rotate(200deg);transform:rotate(200deg);opacity:0}}@keyframes rotateOut{0%{opacity:1}to{-webkit-transform:rotate(200deg);transform:rotate(200deg);opacity:0}}.animate__rotateOut{-webkit-animation-name:rotateOut;animation-name:rotateOut;-webkit-transform-origin:center;transform-origin:center}@-webkit-keyframes rotateOutDownLeft{0%{opacity:1}to{-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}}@keyframes rotateOutDownLeft{0%{opacity:1}to{-webkit-transform:rotate(45deg);transform:rotate(45deg);opacity:0}}.animate__rotateOutDownLeft{-webkit-animation-name:rotateOutDownLeft;animation-name:rotateOutDownLeft;-webkit-transform-origin:left bottom;transform-origin:left bottom}@-webkit-keyframes rotateOutDownRight{0%{opacity:1}to{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}@keyframes rotateOutDownRight{0%{opacity:1}to{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}.animate__rotateOutDownRight{-webkit-animation-name:rotateOutDownRight;animation-name:rotateOutDownRight;-webkit-transform-origin:right bottom;transform-origin:right bottom}@-webkit-keyframes rotateOutUpLeft{0%{opacity:1}to{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}@keyframes rotateOutUpLeft{0%{opacity:1}to{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);opacity:0}}.animate__rotateOutUpLeft{-webkit-animation-name:rotateOutUpLeft;animation-name:rotateOutUpLeft;-webkit-transform-origin:left bottom;transform-origin:left bottom}@-webkit-keyframes rotateOutUpRight{0%{opacity:1}to{-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:0}}@keyframes rotateOutUpRight{0%{opacity:1}to{-webkit-transform:rotate(90deg);transform:rotate(90deg);opacity:0}}.animate__rotateOutUpRight{-webkit-animation-name:rotateOutUpRight;animation-name:rotateOutUpRight;-webkit-transform-origin:right bottom;transform-origin:right bottom}@-webkit-keyframes hinge{0%{-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}20%,60%{-webkit-transform:rotate(80deg);transform:rotate(80deg);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}40%,80%{-webkit-transform:rotate(60deg);transform:rotate(60deg);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;opacity:1}to{-webkit-transform:translate3d(0,700px,0);transform:translate3d(0,700px,0);opacity:0}}@keyframes hinge{0%{-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}20%,60%{-webkit-transform:rotate(80deg);transform:rotate(80deg);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}40%,80%{-webkit-transform:rotate(60deg);transform:rotate(60deg);-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out;opacity:1}to{-webkit-transform:translate3d(0,700px,0);transform:translate3d(0,700px,0);opacity:0}}.animate__hinge{-webkit-animation-duration:2s;animation-duration:2s;-webkit-animation-duration:calc(var(--animate-duration)*2);animation-duration:calc(var(--animate-duration)*2);-webkit-animation-name:hinge;animation-name:hinge;-webkit-transform-origin:top left;transform-origin:top left}@-webkit-keyframes jackInTheBox{0%{opacity:0;-webkit-transform:scale(.1) rotate(30deg);transform:scale(.1) rotate(30deg);-webkit-transform-origin:center bottom;transform-origin:center bottom}50%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}70%{-webkit-transform:rotate(3deg);transform:rotate(3deg)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes jackInTheBox{0%{opacity:0;-webkit-transform:scale(.1) rotate(30deg);transform:scale(.1) rotate(30deg);-webkit-transform-origin:center bottom;transform-origin:center bottom}50%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}70%{-webkit-transform:rotate(3deg);transform:rotate(3deg)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.animate__jackInTheBox{-webkit-animation-name:jackInTheBox;animation-name:jackInTheBox}@-webkit-keyframes rollIn{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0) rotate(-120deg);transform:translate3d(-100%,0,0) rotate(-120deg)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes rollIn{0%{opacity:0;-webkit-transform:translate3d(-100%,0,0) rotate(-120deg);transform:translate3d(-100%,0,0) rotate(-120deg)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__rollIn{-webkit-animation-name:rollIn;animation-name:rollIn}@-webkit-keyframes rollOut{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0) rotate(120deg);transform:translate3d(100%,0,0) rotate(120deg)}}@keyframes rollOut{0%{opacity:1}to{opacity:0;-webkit-transform:translate3d(100%,0,0) rotate(120deg);transform:translate3d(100%,0,0) rotate(120deg)}}.animate__rollOut{-webkit-animation-name:rollOut;animation-name:rollOut}@-webkit-keyframes zoomIn{0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes zoomIn{0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}.animate__zoomIn{-webkit-animation-name:zoomIn;animation-name:zoomIn}@-webkit-keyframes zoomInDown{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInDown{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.animate__zoomInDown{-webkit-animation-name:zoomInDown;animation-name:zoomInDown}@-webkit-keyframes zoomInLeft{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(10px,0,0);transform:scale3d(.475,.475,.475) translate3d(10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInLeft{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(-1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(10px,0,0);transform:scale3d(.475,.475,.475) translate3d(10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.animate__zoomInLeft{-webkit-animation-name:zoomInLeft;animation-name:zoomInLeft}@-webkit-keyframes zoomInRight{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInRight{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);transform:scale3d(.1,.1,.1) translate3d(1000px,0,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);transform:scale3d(.475,.475,.475) translate3d(-10px,0,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.animate__zoomInRight{-webkit-animation-name:zoomInRight;animation-name:zoomInRight}@-webkit-keyframes zoomInUp{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomInUp{0%{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);transform:scale3d(.1,.1,.1) translate3d(0,1000px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}60%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.animate__zoomInUp{-webkit-animation-name:zoomInUp;animation-name:zoomInUp}@-webkit-keyframes zoomOut{0%{opacity:1}50%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}to{opacity:0}}@keyframes zoomOut{0%{opacity:1}50%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}to{opacity:0}}.animate__zoomOut{-webkit-animation-name:zoomOut;animation-name:zoomOut}@-webkit-keyframes zoomOutDown{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomOutDown{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);transform:scale3d(.475,.475,.475) translate3d(0,-60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,2000px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.animate__zoomOutDown{-webkit-animation-name:zoomOutDown;animation-name:zoomOutDown;-webkit-transform-origin:center bottom;transform-origin:center bottom}@-webkit-keyframes zoomOutLeft{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(42px,0,0);transform:scale3d(.475,.475,.475) translate3d(42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(-2000px,0,0);transform:scale(.1) translate3d(-2000px,0,0)}}@keyframes zoomOutLeft{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(42px,0,0);transform:scale3d(.475,.475,.475) translate3d(42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(-2000px,0,0);transform:scale(.1) translate3d(-2000px,0,0)}}.animate__zoomOutLeft{-webkit-animation-name:zoomOutLeft;animation-name:zoomOutLeft;-webkit-transform-origin:left center;transform-origin:left center}@-webkit-keyframes zoomOutRight{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-42px,0,0);transform:scale3d(.475,.475,.475) translate3d(-42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(2000px,0,0);transform:scale(.1) translate3d(2000px,0,0)}}@keyframes zoomOutRight{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(-42px,0,0);transform:scale3d(.475,.475,.475) translate3d(-42px,0,0)}to{opacity:0;-webkit-transform:scale(.1) translate3d(2000px,0,0);transform:scale(.1) translate3d(2000px,0,0)}}.animate__zoomOutRight{-webkit-animation-name:zoomOutRight;animation-name:zoomOutRight;-webkit-transform-origin:right center;transform-origin:right center}@-webkit-keyframes zoomOutUp{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}@keyframes zoomOutUp{40%{opacity:1;-webkit-transform:scale3d(.475,.475,.475) translate3d(0,60px,0);transform:scale3d(.475,.475,.475) translate3d(0,60px,0);-webkit-animation-timing-function:cubic-bezier(.55,.055,.675,.19);animation-timing-function:cubic-bezier(.55,.055,.675,.19)}to{opacity:0;-webkit-transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);transform:scale3d(.1,.1,.1) translate3d(0,-2000px,0);-webkit-animation-timing-function:cubic-bezier(.175,.885,.32,1);animation-timing-function:cubic-bezier(.175,.885,.32,1)}}.animate__zoomOutUp{-webkit-animation-name:zoomOutUp;animation-name:zoomOutUp;-webkit-transform-origin:center bottom;transform-origin:center bottom}@-webkit-keyframes slideInDown{0%{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInDown{0%{-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__slideInDown{-webkit-animation-name:slideInDown;animation-name:slideInDown}@-webkit-keyframes slideInLeft{0%{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInLeft{0%{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__slideInLeft{-webkit-animation-name:slideInLeft;animation-name:slideInLeft}@-webkit-keyframes slideInRight{0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInRight{0%{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__slideInRight{-webkit-animation-name:slideInRight;animation-name:slideInRight}@-webkit-keyframes slideInUp{0%{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes slideInUp{0%{-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);visibility:visible}to{-webkit-transform:translateZ(0);transform:translateZ(0)}}.animate__slideInUp{-webkit-animation-name:slideInUp;animation-name:slideInUp}@-webkit-keyframes slideOutDown{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@keyframes slideOutDown{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}.animate__slideOutDown{-webkit-animation-name:slideOutDown;animation-name:slideOutDown}@-webkit-keyframes slideOutLeft{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}@keyframes slideOutLeft{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0)}}.animate__slideOutLeft{-webkit-animation-name:slideOutLeft;animation-name:slideOutLeft}@-webkit-keyframes slideOutRight{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}@keyframes slideOutRight{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0)}}.animate__slideOutRight{-webkit-animation-name:slideOutRight;animation-name:slideOutRight}@-webkit-keyframes slideOutUp{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}@keyframes slideOutUp{0%{-webkit-transform:translateZ(0);transform:translateZ(0)}to{visibility:hidden;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}.animate__slideOutUp{-webkit-animation-name:slideOutUp;animation-name:slideOutUp}\n',fontURLs="\n@import url('https://fonts.googleapis.com/css2?family=Cabin&family=Courier+Prime&family=Crimson+Pro&family=Lato&family=Montserrat&family=Nanum+Gothic&family=Open+Sans&family=Oswald&family=Playfair+Display:wght@500&display=swap');\n",sizeMap={xs:"font-size: 15px;",s:"font-size: 25px;",m:"font-size: 35px;",l:"font-size: 45px;",xl:"font-size: 55px;",xxl:"font-size: 65px;"},buttonSizeMap={xs:"font-size: 15px;",s:"font-size: 17px;",m:"font-size: 20px;",l:"font-size: 25px;",xl:"font-size: 30px;",xxl:"font-size: 35px;"},fontMap={1:"",2:"font-family: 'Open Sans', sans-serif;",3:"font-family: 'Cabin', sans-serif;",4:"font-family: 'Courier Prime', monospace;",5:"font-family: 'Lato', sans-serif;",6:"font-family: 'Montserrat', sans-serif;",7:"font-family: 'Oswald', sans-serif",8:"font-family: 'Playfair Display', serif;",9:"font-family: 'Crimson Pro', serif;",10:"font-family: 'Nanum Gothic', sans-serif;"},AnimateDICT={f:["animate__animated animate__fadeIn","animate__animated animate__fadeOut"],z:["animate__animated animate__zoomIn","animate__animated animate__zoomOut"],su:["animate__animated animate__backInUp","animate__animated animate__backOutDown"],sd:["animate__animated animate__backInDown","animate__animated animate__backOutUp"]};var analytics=null;function sleep(t){for(var e=(new Date).getTime(),n=0;n<1e7&&!((new Date).getTime()-e>t);n++);}function copyToClipboard(t,e){var n=document.createElement("textarea");document.body.appendChild(n),n.value=t,n.select(),document.execCommand("copy"),document.body.removeChild(n),e.innerText="Copied",analytics&&analytics.logEvent("Coupon code copied")}function init(){if("undefined"!=typeof Swal&&"undefined"!=typeof WebFont){WebFont.load({google:{families:["Cabin:400","Courier Prime:400","Crimson Pro:400","Lato:400","Montserrat:400","Nanum Gothic:400","Open Sans:400","Oswald:400","Playfair Display:400"]}});const e=window.location.search,n=new URLSearchParams(e);firebase.initializeApp({apiKey:"AIzaSyCzmAHjw8DL_wWZ0aXiDD2nyRjTldm_McQ",appId:"1:1046301570806:web:8535e612df1c77a1d9ded7",measurementId:"G-0V0YGDQG7G",authDomain:"signupfordiscountshopifyapp.firebaseapp.com",projectId:"signupfordiscountshopifyapp"});var t=firebase.firestore();analytics=firebase.analytics(),t.collection(window.location.host).doc("init").get().then(e=>{const r=e.data();firebase.analytics().logEvent("script_loaded"),parseInt(r.popupDelay)>100&&(localStorage.DSLN_REG_POP=!0),setTimeout(()=>{let e=null,i=null,o=null;var a=getComputedStyle(document.body);""==(i=a.getPropertyValue("--color-body-text"))&&(i="black"),o=a.getPropertyValue("--color-bg"),e=a.getPropertyValue("--color-btn-primary");let s=null,u=["btn","Button","button"];for(let t in u)document.getElementsByClassName(u[t]).length>0&&(s=u[t]);var c=document.createElement("style");if(c.type="text/css",c.innerText=animate_css,document.head.appendChild(c),"true"==n.get("SFDP")){if(analytics.logEvent("Preview Initial Popup"),"initial"==n.get("p")){analytics.logEvent("SFDP Initial");let t=`<div style="color:${i};${sizeMap[r.discountSize]} ${fontMap[r.headerFont]}">${r.summary}</div>`;Swal.fire({html:r.customPopupHTML.replaceAll("{{title_text}}",`<div style="color:${i}; overflow: initial; line-height: 100%;${sizeMap[r.headerTextSize]} ${fontMap[r.headerFont]}">${r.headerText}</div>`).replaceAll("{{discount_summary}}",`${r.enableDiscount?t:""}`),confirmButtonText:`${r.buttonText}`,background:""==r.OVERRIDE_BACKGROUND_COLOR?null:r.OVERRIDE_BACKGROUND_COLOR,confirmButtonColor:""==r.OVERRIDE_BUTTON_HEX?null:r.OVERRIDE_BUTTON_HEX,buttonsStyling:r.OVERRIDE_SWAL,customClass:{confirmButton:""==r.customButtonClass?s:r.customButtonClass},showClass:{popup:`${AnimateDICT[r.animation][0]}`},hideClass:{popup:`${AnimateDICT[r.animation][1]}`},willOpen:()=>{document.getElementById("swal2-title").remove()}})}else analytics.logEvent("Preview Successful Popup"),Swal.fire({title:null,html:r.customPopupHTMLSuccess.replaceAll("{{title_text}}",`<div style="color:${i}; overflow: initial; line-height: 100%;${sizeMap[r.successTextSize]} ${fontMap[r.successHTMLInput]}">${r.successText}</div>`).replaceAll("{{discount_code}}",`<div onclick='copyToClipboard("${r.coupon}", this)'>${r.coupon}</div>`),confirmButtonText:r.thankYouButtonText,background:""==r.OVERRIDE_BACKGROUND_COLOR?null:r.OVERRIDE_BACKGROUND_COLOR,confirmButtonColor:""==r.OVERRIDE_BUTTON_HEX?null:r.OVERRIDE_BUTTON_HEX,buttonsStyling:r.OVERRIDE_SWAL,customClass:{confirmButton:""==r.customButtonClass?s:r.customButtonClass},showClass:{popup:`${AnimateDICT[r.animation][0]}`},hideClass:{popup:`${AnimateDICT[r.animation][1]}`},willOpen:()=>{document.getElementById("swal2-title").remove()}});return}if(!r.enabled)return void analytics.logEvent("Script Not Enabled");const l=new Date,f=Math.floor(l/864e5),h=t.collection(window.location.host).doc(String(f)),d=firebase.firestore.FieldValue.increment(1);if(!__st.cid&&!localStorage.DSLN_DID_POP&&window.location.href.includes(r.validPopupURL)){let t=`<div style="color:${i};${sizeMap[r.discountSize]} ${fontMap[r.headerFont]}">${r.summary}</div>`;Swal.fire({html:r.customPopupHTML.replaceAll("{{title_text}}",`<div style="color:${i}; overflow: initial; line-height: 100%;${sizeMap[r.headerTextSize]} ${fontMap[r.headerFont]}">${r.headerText}</div>`).replaceAll("{{discount_summary}}",`${r.enableDiscount?t:""}`),confirmButtonText:`${r.buttonText}`,background:""==r.OVERRIDE_BACKGROUND_COLOR?null:r.OVERRIDE_BACKGROUND_COLOR,confirmButtonColor:""==r.OVERRIDE_BUTTON_HEX?null:r.OVERRIDE_BUTTON_HEX,buttonsStyling:r.OVERRIDE_SWAL,customClass:{confirmButton:""==r.customButtonClass?s:r.customButtonClass},showClass:{popup:`${AnimateDICT[r.animation][0]}`},hideClass:{popup:`${AnimateDICT[r.animation][1]}`},willOpen:()=>{document.getElementById("swal2-title").remove()}}).then(t=>{analytics.logEvent("Popup Shown"),localStorage.DSLN_DID_POP=!0,localStorage.DSLN_REG_POP=!0,t.isConfirmed?(analytics.logEvent("Popup Accepted"),h.set({views:d,clicks:d},{merge:!0}).then(()=>{window.location.replace(r.accountSignupPath)}).catch(t=>{window.location.replace(r.accountSignupPath)})):(analytics.logEvent("Popup Rejected"),h.set({views:d},{merge:!0}).then(()=>{}).catch(t=>{}))})}document.referrer.includes(r.accountSignupPath)&&__st.cid&&"false"!=localStorage.DSLN_REG_POP&&(localStorage.DSLN_REG_POP=!1,analytics.logEvent("Success Shown"),h.set({cids:firebase.firestore.FieldValue.arrayUnion(__st.cid)},{merge:!0}),Swal.fire({title:null,html:r.customPopupHTMLSuccess.replaceAll("{{title_text}}",`<div style="color:${i}; overflow: initial; line-height: 100%;${sizeMap[r.successTextSize]} ${fontMap[r.successHTMLInput]}">${r.successText}</div>`).replaceAll("{{discount_code}}",`<div onclick='copyToClipboard("${r.coupon}", this)'>${r.coupon}</div>`),background:""==r.OVERRIDE_BACKGROUND_COLOR?null:r.OVERRIDE_BACKGROUND_COLOR,confirmButtonText:r.thankYouButtonText,confirmButtonColor:""==r.OVERRIDE_BUTTON_HEX?null:r.OVERRIDE_BUTTON_HEX,buttonsStyling:r.OVERRIDE_SWAL,customClass:{confirmButton:""==r.customButtonClass?s:r.customButtonClass},showClass:{popup:`${AnimateDICT[r.animation][0]}`},hideClass:{popup:`${AnimateDICT[r.animation][1]}`},willOpen:()=>{document.getElementById("swal2-title").remove()}}).then(t=>{localStorage.DSLN_REG_POP=!1,void 0!==r.successRedirect&&""!=r.successRedirect&&(analytics.logEvent("Success Redirect"),window.location.replace(r.successRedirect))}))},1e3*parseInt(r.popupDelay))})}else setTimeout(init,150)}init();
